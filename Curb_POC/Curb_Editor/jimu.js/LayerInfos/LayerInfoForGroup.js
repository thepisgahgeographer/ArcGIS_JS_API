// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/Deferred esri/request ./LayerInfo".split(" "),function(f,g,h,e,k,l){return f(l,{constructor:function(a,b,c,d){this.noLegend=d},_initVisible:function(){var a=!1,b=this.originOperLayer.mapService;this.originOperLayer.mapService&&b.layerInfo._subLayerVisible[b.subId]&&(a=!0);this._visible=a},_setTopLayerVisible:function(a){if(this.originOperLayer.mapService){var b=this.originOperLayer.mapService;if(0<this.originOperLayer.subLayers.length){b.layerInfo._subLayerVisible[b.subId]=
a?!0:!1;this._visible=a;var c={};this.traversal(function(d){0===d.getSubLayers().length&&(c[d.originOperLayer.mapService.subId]=d.isVisbleOrInvisilbe())});b.layerInfo._setSubLayerVisible(c)}}},setLayerVisiblefromTopLayer:function(){},_visibleChanged:function(a){},_sevVisible:function(a){this.visible=a},obtainNewSubLayers:function(){var a=[];g.forEach(this.originOperLayer.subLayers,function(b){b.parentLayerInfo=this;b=this._layerInfoFactory.create(b);a.push(b);b.init()},this);return a},getOpacity:function(){},
setOpacity:function(a){},getLayerObject:function(){var a=new e;this.layerObject.empty?k({url:this.layerObject.url,handleAs:"json",callbackParamName:"callback",timeout:1E5,content:{f:"json"}}).then(h.hitch(this,function(b){var c=this.layerObject.url;this.layerObject=b;this.layerObject.url=c;this.layerObject.id=this.id;a.resolve(this.layerObject)}),function(b){a.reject(b)}):a.resolve(this.layerObject);return a},getLayerType:function(){var a=new e;a.resolve("GroupLayer");return a},_getShowLegendOfWebmap:function(){return this.originOperLayer.mapService.layerInfo._getSublayerShowLegendOfWebmap(this.originOperLayer.mapService.subId)},
getScaleRange:function(){var a=this.originOperLayer.mapService;return(a=a.layerInfo._getJsapiLayerInfoById(a.subId))&&0<=a.minScale&&0<=a.maxScale?{minScale:a.minScale,maxScale:a.maxScale}:{minScale:0,maxScale:0}}})});