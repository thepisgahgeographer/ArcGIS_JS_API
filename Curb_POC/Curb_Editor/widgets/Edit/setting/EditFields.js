// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"url:widgets/Edit/setting/EditFields.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"fieldsTable"\x3e\x3c/div\x3e\r\n\x3c/div\x3e'}});
define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/text!./EditFields.html dijit/_TemplatedMixin jimu/BaseWidgetSetting jimu/dijit/SimpleTable jimu/dijit/Popup".split(" "),function(f,c,e,g,h,k,l,m){return f([k,h],{baseClass:"jimu-widget-edit-setting-fields",templateString:g,_layerInfo:null,postCreate:function(){this.inherited(arguments);this.nls=c.mixin(this.nls,window.jimuNls.common);this._initFieldsTable();this._setFiedsTabele(this._layerInfo.fieldInfos)},popupEditPage:function(){var b=
new m({titleLabel:this.nls.configureFields,width:700,maxHeight:600,autoHeight:!0,content:this,buttons:[{label:this.nls.ok,onClick:c.hitch(this,function(){this._resetFieldInfos();b.close()})},{label:this.nls.cancel,classNames:["jimu-btn-vacation"],onClick:c.hitch(this,function(){b.close()})}],onClose:c.hitch(this,function(){})})},_initFieldsTable:function(){this._fieldsTable=new l({fields:[{name:"visible",title:this.nls.display,type:"checkbox","class":"display",width:"15%"},{name:"isEditable",title:this.nls.edit,
type:"checkbox","class":"editable",width:"12%"},{name:"fieldName",title:this.nls.editpageName,type:"text",width:"26%"},{name:"label",title:this.nls.editpageAlias,type:"text",editable:!0,width:"34%"},{name:"actions",title:this.nls.actions,type:"actions",actions:["up","down"],"class":"actions",width:"13%"}],selectable:!1,style:{height:"300px",maxHeight:"300px"}});this._fieldsTable.placeAt(this.fieldsTable);this._fieldsTable.startup()},_setFiedsTabele:function(b){e.forEach(b,function(a){this._fieldsTable.addRow({fieldName:a.fieldName,
isEditable:a.isEditable,label:a.label,visible:a.visible})},this);setTimeout(c.hitch(this,function(){e.forEach(this._fieldsTable.fields,function(a){"visible"===a.name?a.onChange=c.hitch(this,this._onDisplayFieldChanged):"isEditable"===a.name&&(a.onChange=c.hitch(this,this._onIsEditableFieldChanged))},this)}),300)},_onDisplayFieldChanged:function(b){var a=this._fieldsTable.getRowData(b);!a.visible&&a.isEditable&&(a.isEditable=!1,this._fieldsTable.editRow(b,a))},_onIsEditableFieldChanged:function(b){var a=
this._fieldsTable.getRowData(b);a.isEditable&&!a.visible&&(a.visible=!0,this._fieldsTable.editRow(b,a))},_resetFieldInfos:function(){var b=[],a=this._fieldsTable.getData();e.forEach(a,function(d){b.push({fieldName:d.fieldName,label:d.label,isEditable:d.isEditable,visible:d.visible})});this._layerInfo.fieldInfos=b}})});