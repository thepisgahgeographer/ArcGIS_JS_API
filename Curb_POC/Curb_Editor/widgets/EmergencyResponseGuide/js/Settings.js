// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"url:widgets/EmergencyResponseGuide/templates/Settings.html":'\x3cdiv\x3e\r\n    \x3c!-- Spill Location DropDown --\x3e\r\n    \x3cdiv class\x3d"ERGSettingsRow"\x3e\r\n      \x3cdiv class\x3d"ERGLabelSettingsRightButton ERGSettingsButtonIcon ERGPointer" data-container\x3d"spillLocationContainer" title\x3d"${nls.spillLocationButtonLabel}" role\x3d"button" aria-label\x3d"${nls.spillLocationButtonLabel}" data-dojo-attach-point\x3d"spillLocationSettingsButton" tabindex\x3d"0" aria-expanded \x3d"false"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"ERGInputLabelSettings ERGEllipsis SubTitle" title\x3d"${nls.spillLocationLabel}"\x3e${nls.spillLocationLabel}\x3c/div\x3e      \r\n    \x3c/div\x3e\r\n    \r\n    \x3c!-- Spill Location Color Pickers --\x3e\r\n    \x3cdiv class\x3d"container controlGroupHidden" data-dojo-attach-point\x3d"spillLocationContainer"\x3e      \r\n      \x3cdiv class\x3d"GRGDrafterEllipsis" title\x3d"${nls.outline}"\x3e${nls.outline}\x3c/div\x3e\r\n      \x3cdiv class\x3d"colorPicker Line" id\x3d"spillLocationOutlineColor" data-dojo-attach-point\x3d"spillLocationOutlineColorPicker"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"GRGDrafterEllipsis" title\x3d"${nls.fill}"\x3e${nls.fill}\x3c/div\x3e\r\n      \x3cdiv class\x3d"colorPicker Fill" id\x3d"spillLocationFillColor" data-dojo-attach-point\x3d"spillLocationFillColorPicker"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \r\n    \x3c!-- Initial Isolation Zone DropDown --\x3e\r\n    \x3cdiv class\x3d"ERGSettingsRow"\x3e\r\n      \x3cdiv class\x3d"ERGLabelSettingsRightButton ERGSettingsButtonIcon ERGPointer" data-container\x3d"IIZoneContainer" tabindex\x3d"0" aria-expanded \x3d"false" role\x3d"button" title\x3d"${nls.IIButtonLabel}" aria-label\x3d"${nls.IIButtonLabel}" data-dojo-attach-point\x3d"IISettingsButton"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"ERGInputLabelSettings ERGEllipsis SubTitle" title\x3d"${nls.IISettingsLabel}"\x3e${nls.IISettingsLabel}\x3c/div\x3e      \r\n    \x3c/div\x3e\r\n    \r\n    \x3c!-- Initial Isolation Zone --\x3e\r\n    \x3cdiv class\x3d"container controlGroupHidden" data-dojo-attach-point\x3d"IIZoneContainer"\x3e\r\n      \x3cdiv class\x3d"GRGDrafterEllipsis" title\x3d"${nls.outline}"\x3e${nls.outline}\x3c/div\x3e\r\n      \x3cdiv class\x3d"colorPicker Line" id\x3d"IIZoneOutlineColor" data-dojo-attach-point\x3d"IIZoneOutlineColorPicker"\x3e\x3c/div\x3e \r\n      \x3cdiv class\x3d"GRGDrafterEllipsis" title\x3d"${nls.fill}"\x3e${nls.fill}\x3c/div\x3e\r\n      \x3cdiv class\x3d"colorPicker Fill" id\x3d"IIZoneFillColor" data-dojo-attach-point\x3d"IIZoneFillColorPicker"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e    \r\n    \r\n    \x3c!-- Protective Action Zone DropDown --\x3e    \r\n    \x3cdiv class\x3d"ERGSettingsRow"\x3e\r\n      \x3cdiv class\x3d"ERGLabelSettingsRightButton ERGSettingsButtonIcon ERGPointer" data-container\x3d"PAZoneContainer" tabindex\x3d"0" aria-label\x3d"${nls.PAButtonLabel}" aria-expanded \x3d"false" role\x3d"button" title\x3d"${nls.PAButtonLabel}" data-dojo-attach-point\x3d"PASettingsButton"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"ERGInputLabelSettings ERGEllipsis SubTitle" title\x3d"${nls.PASettingsLabel}"\x3e${nls.PASettingsLabel}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \r\n    \x3c!-- Protective Action Zone --\x3e\r\n    \x3cdiv class\x3d"container controlGroupHidden" data-dojo-attach-point\x3d"PAZoneContainer"\x3e\r\n      \x3cdiv class\x3d"GRGDrafterEllipsis" title\x3d"${nls.outline}"\x3e${nls.outline}\x3c/div\x3e\r\n      \x3cdiv class\x3d"colorPicker Line" id\x3d"PAZoneOutlineColor" data-dojo-attach-point\x3d"PAZoneOutlineColorPicker"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"GRGDrafterEllipsis" title\x3d"${nls.fill}"\x3e${nls.fill}\x3c/div\x3e\r\n      \x3cdiv class\x3d"colorPicker Fill" id\x3d"PAZoneFillColor" data-dojo-attach-point\x3d"PAZoneFillColorPicker"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e \r\n    \r\n    \x3c!-- Downwind Zone DropDown --\x3e    \r\n    \x3cdiv class\x3d"ERGSettingsRow"\x3e\r\n      \x3cdiv class\x3d"ERGLabelSettingsRightButton ERGSettingsButtonIcon ERGPointer" data-container\x3d"downwindZoneContainer" tabindex\x3d"0" aria-expanded \x3d"false" role\x3d"button" aria-label\x3d"${nls.downwindButtonLabel}" title\x3d"${nls.downwindButtonLabel}" data-dojo-attach-point\x3d"downwindSettingsButton"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"ERGInputLabelSettings ERGEllipsis SubTitle" title\x3d"${nls.downwindSettingsLabel}"\x3e${nls.downwindSettingsLabel}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \r\n    \x3c!-- Downwind Action Zone --\x3e\r\n    \x3cdiv class\x3d"container controlGroupHidden" data-dojo-attach-point\x3d"downwindZoneContainer"\x3e\r\n      \x3cdiv class\x3d"GRGDrafterEllipsis" title\x3d"${nls.outline}"\x3e${nls.outline}\x3c/div\x3e\r\n      \x3cdiv class\x3d"colorPicker Line" id\x3d"downwindZoneOutlineColor" data-dojo-attach-point\x3d"downwindZoneOutlineColorPicker"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"GRGDrafterEllipsis" title\x3d"${nls.fill}"\x3e${nls.fill}\x3c/div\x3e\r\n      \x3cdiv class\x3d"colorPicker Fill" id\x3d"downwindZoneFillColor" data-dojo-attach-point\x3d"downwindZoneFillColorPicker"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \r\n    \x3c!-- Fire Isolation DropDown --\x3e\r\n    \x3cdiv class\x3d"ERGSettingsRow"\x3e      \r\n      \x3cdiv class\x3d"ERGLabelSettingsRightButton ERGSettingsButtonIcon ERGPointer" data-container\x3d"fireZoneContainer" aria-expanded \x3d"false" role\x3d"button" tabindex\x3d"0" aria-label\x3d"${nls.fireButtonLabel}" title\x3d"${nls.fireButtonLabel}" data-dojo-attach-point\x3d"fireSettingsButton"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"ERGInputLabelSettings ERGEllipsis SubTitle" title\x3d"${nls.fireSettingsLabel}"\x3e${nls.fireSettingsLabel}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \r\n    \x3c!-- Fire Isolation Zone --\x3e\r\n    \x3cdiv class\x3d"container controlGroupHidden" data-dojo-attach-point\x3d"fireZoneContainer"\x3e\r\n      \x3cdiv class\x3d"GRGDrafterEllipsis" title\x3d"${nls.outline}"\x3e${nls.outline}\x3c/div\x3e\r\n      \x3cdiv class\x3d"colorPicker Line" id\x3d"fireZoneOutlineColor" data-dojo-attach-point\x3d"fireZoneOutlineColorPicker"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"GRGDrafterEllipsis" title\x3d"${nls.fill}"\x3e${nls.fill}\x3c/div\x3e\r\n      \x3cdiv class\x3d"colorPicker Fill" id\x3d"fireZoneFillColor" data-dojo-attach-point\x3d"fireZoneFillColorPicker"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \r\n    \x3c!-- BLEVE Isolation DropDown --\x3e\r\n    \x3cdiv class\x3d"ERGSettingsRow"\x3e\r\n      \x3cdiv class\x3d"ERGLabelSettingsRightButton ERGSettingsButtonIcon ERGPointer" data-container\x3d"bleveZoneContainer"  tabindex\x3d"0" aria-expanded \x3d"false" role\x3d"button" aria-label\x3d"${nls.bleveButtonLabel}" title\x3d"${nls.bleveButtonLabel}" data-dojo-attach-point\x3d"bleveSettingsButton"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"ERGInputLabelSettings ERGEllipsis SubTitle" title\x3d"${nls.bleveSettingsLabel}"\x3e${nls.bleveSettingsLabel}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \r\n    \x3c!-- BLEVE Isolation Zone --\x3e\r\n    \x3cdiv class\x3d"container controlGroupHidden" data-dojo-attach-point\x3d"bleveZoneContainer"\x3e\r\n      \x3cdiv class\x3d"GRGDrafterEllipsis" title\x3d"${nls.outline}"\x3e${nls.outline}\x3c/div\x3e\r\n      \x3cdiv class\x3d"colorPicker Line" id\x3d"bleveZoneOutlineColor" data-dojo-attach-point\x3d"bleveZoneOutlineColorPicker"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"GRGDrafterEllipsis" title\x3d"${nls.fill}"\x3e${nls.fill}\x3c/div\x3e\r\n      \x3cdiv class\x3d"colorPicker Fill" id\x3d"bleveZoneFillColor" data-dojo-attach-point\x3d"bleveZoneFillColorPicker"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e'}});
define("dojo/_base/declare dojo/_base/array dojo/_base/html dojo/on ./ColorPickerEditor jimu/BaseWidget dijit/_WidgetsInTemplateMixin dojo/text!../templates/Settings.html dojo/_base/lang dojo/Evented dojo/dom-class dojo/dom-attr dojo/query dojo/keys dojo/dom dijit/registry jimu/utils dijit/focus jimu/dijit/formSelect jimu/dijit/SymbolChooser".split(" "),function(v,f,g,e,w,x,y,z,b,A,m,p,h,d,B,n,q,r){return v([x,y,A],{baseClass:"jimu-widget-ERG-Settings",templateString:z,selectedSettings:{},colorPickerNodes:[],
constructor:function(a){b.mixin(this,a)},startup:function(){this.colorPickerNodes=h(".colorPicker",this.domNode);f.forEach(this.colorPickerNodes,b.hitch(this,function(c,k){c=new w({nls:this.nls,type:m.contains(c,"Line")?"line":"fill"},c);c.setValues({color:this.config.erg.symbology[c.id].color,transparency:this.config.erg.symbology[c.id].transparency});c.startup();c.dropdown.set("value",this.config.erg.symbology[c.id].type)}));var a=h(".jimu-color-pickerPopup",this.domNode);f.forEach(a,b.hitch(this,
function(c){this.own(e(c,"keydown",b.hitch(this,function(k){k.keyCode!==d.ENTER&&k.keyCode!==d.SPACE||k.currentTarget.click()})))}));this.onSettingsChanged()},postCreate:function(){this.inherited(arguments);m.add(this.domNode,"ERGSettingsContainer ERGFullWidth");this._handleClickEvents()},_handleClickEvents:function(){this.own(e(this.spillLocationSettingsButton,"click",b.hitch(this,function(){this._openCloseNodes(this.spillLocationSettingsButton,this.spillLocationContainer)})));this.own(e(this.IISettingsButton,
"click",b.hitch(this,function(){this._openCloseNodes(this.IISettingsButton,this.IIZoneContainer)})));this.own(e(this.PASettingsButton,"click",b.hitch(this,function(){this._openCloseNodes(this.PASettingsButton,this.PAZoneContainer)})));this.own(e(this.downwindSettingsButton,"click",b.hitch(this,function(){this._openCloseNodes(this.downwindSettingsButton,this.downwindZoneContainer)})));this.own(e(this.fireSettingsButton,"click",b.hitch(this,function(){this._openCloseNodes(this.fireSettingsButton,this.fireZoneContainer)})));
this.own(e(this.bleveSettingsButton,"click",b.hitch(this,function(){this._openCloseNodes(this.bleveSettingsButton,this.bleveZoneContainer)})));this.own(e(this.spillLocationSettingsButton,"keydown",b.hitch(this,function(a){a.keyCode!==d.ENTER&&a.keyCode!==d.SPACE||this._openCloseNodes(this.spillLocationSettingsButton,this.spillLocationContainer)})));this.own(e(this.IISettingsButton,"keydown",b.hitch(this,function(a){a.keyCode!==d.ENTER&&a.keyCode!==d.SPACE||this._openCloseNodes(this.IISettingsButton,
this.IIZoneContainer)})));this.own(e(this.PASettingsButton,"keydown",b.hitch(this,function(a){a.keyCode!==d.ENTER&&a.keyCode!==d.SPACE||this._openCloseNodes(this.PASettingsButton,this.PAZoneContainer)})));this.own(e(this.downwindSettingsButton,"keydown",b.hitch(this,function(a){a.keyCode!==d.ENTER&&a.keyCode!==d.SPACE||this._openCloseNodes(this.downwindSettingsButton,this.downwindZoneContainer)})));this.own(e(this.fireSettingsButton,"keydown",b.hitch(this,function(a){a.keyCode!==d.ENTER&&a.keyCode!==
d.SPACE||this._openCloseNodes(this.fireSettingsButton,this.fireZoneContainer)})));this.own(e(this.bleveSettingsButton,"keydown",b.hitch(this,function(a){if(a.keyCode===d.ENTER||a.keyCode===d.SPACE)this._openCloseNodes(this.bleveSettingsButton,this.bleveZoneContainer),this._setLastFocusNode()})))},_openCloseNodes:function(a,c){var k=h(".container",this.domNode),t=h(".ERGSettingsButtonIcon",this.domNode),u=!1;this.validInputs()&&(a&&m.contains(a,"ERGLabelSettingsRightButton")&&(u=!0),f.forEach(k,b.hitch(this,
function(l){g.addClass(l,"controlGroupHidden")})),f.forEach(t,b.hitch(this,function(l,C){g.removeClass(l,"ERGLabelSettingsDownButton");g.addClass(l,"ERGLabelSettingsRightButton");p.set(l,"aria-expanded","false");C===t.length-1&&this._setLastFocusNode()})),u?(g.removeClass(c,"controlGroupHidden"),g.removeClass(a,"ERGLabelSettingsRightButton"),g.addClass(a,"ERGLabelSettingsDownButton"),p.set(a,"aria-expanded","true"),a=h(".jimu-color-picker",c),a.length&&r.focus(a[0])):r.focus(a))},onClose:function(){if(!this.validInputs())return!1;
this.onSettingsChanged();this._openCloseNodes()},onSettingsChanged:function(){f.forEach(this.colorPickerNodes,b.hitch(this,function(a,c){c={color:n.byId(a.id).getValues().color,transparency:n.byId(a.id).getValues().transparency,type:n.byId(a.id).dropdown.getValue()};this.selectedSettings[a.id]=c}));this.emit("settingsChanged",this.selectedSettings)},validInputs:function(){var a=!0;f.some(this.colorPickerNodes,function(c){if(!n.byId(c.id).validateSpinner())return a=!1,!0},this);return a},_setLastFocusNode:function(){if(m.contains(this.bleveSettingsButton,
"ERGLabelSettingsDownButton")){var a=h(".dijit",B.byId("bleveZoneFillColor").lastElementChild)[0];q.initLastFocusNode(this.refDomNode,a)}else q.initLastFocusNode(this.refDomNode,this.bleveSettingsButton)}})});