// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
define(["jimu/shared/BaseVersionManager"],function(p){function m(){this.versions=[{version:"1.0",upgrader:function(a){return a}},{version:"1.1",upgrader:function(a){return a}},{version:"1.2",upgrader:function(a){return a}},{version:"1.3",upgrader:function(a){return a}},{version:"1.4",upgrader:function(a){return a}},{version:"2.0Beta",upgrader:function(a){return a}},{version:"2.0",upgrader:function(a){return a}},{version:"2.0.1",upgrader:function(a){return a}},{version:"2.1",upgrader:function(a){return a}},
{version:"2.2",upgrader:function(a){return a}},{version:"2.3",upgrader:function(a){return a}},{version:"2.4",upgrader:function(a){return a}},{version:"2.5",upgrader:function(a){return a}},{version:"2.6",upgrader:function(a){if(!a||!a.dijits)return a;for(var c=a.dijits,d,b=0;b<c.length;b++)"chart"===c[b].type&&(d=c[b].config.sortOrder,c[b].config.sortOrder={isLabelAxis:!0,isAsc:d?"asc"===d:!0},"feature"===c[b].config.mode&&(c[b].config.sortOrder.field=c[b].config.labelField),c[b].config.maxLabels=
void 0,c[b].config.nullValue="feature"===c[b].config.mode||"count"===c[b].mode?void 0:!0,c[b].config.dateConfig=void 0,c[b].config.useLayerSymbology=void 0);return a}},{version:"2.7",upgrader:function(a){if(!a||!a.dijits)return a;for(var c=a.dijits,d,b=0;b<c.length;b++)if("chart"===c[b].type){d=c[b].config;break}if(!d||!d.mode)return a;c=d.mode;b=d.type;var e=d.valueFields,f=d.colors;f||(f="#5d9cd3 #eb7b3a #a5a5a5 #febf29 #4673c2 #72ad4c".split(" "));var g={};"undefined"!==typeof d.useLayerSymbology&&
"line"===b&&delete d.useLayerSymbology;"undefined"!==typeof d.useLayerSymbology&&(g.useLayerSymbology=d.useLayerSymbology);var h=[];e&&0<e.length&&(h=e);var k=!1;"column"===b||"bar"===b||"line"===b?"line"===b&&"field"===c?h=["line~field"]:"count"===c&&(h=["count~count"]):"pie"===b&&"field"!==c&&(k=!0,h=["pie~not-field"]);e=h.map(function(l,q){var n=f;l={name:l,style:{color:n[q%n.length]}};k&&(l.style.color=n);return l}.bind(this));g.styles={};e&&(g.styles=e);d.seriesStyle=g;"undefined"!==typeof d.colors&&
delete d.colors;"pie"===b||"count"!==c&&"field"!==c||(d.showLegend=!1);"pie"===b&&d.dateConfig&&(d.dateConfig.isNeedFilled=!1);return a}},{version:"2.8",upgrader:function(a){if(!a||!a.dijits)return a;var c=a.dijits.filter(function(e){return"chart"===e.type})[0];if(!c)return a;var d=c&&c.config;if(!d||!d.mode)return a;var b=d.seriesStyle;if(!b)return a;b.type=b.useLayerSymbology?"layerSymbol":"series";"undefined"!==typeof b.useLayerSymbology&&delete b.useLayerSymbology;c.config=function(e){var f={mode:e.mode,
type:e.type},g=f.type,h=f.mode,k=[];"feature"===h?k=k.concat(["labelField","valueFields","sortOrder","maxLabels"]):"category"===h?k=k.concat("categoryField dateConfig valueFields sortOrder operation maxLabels nullValue".split(" ")):"count"===h?k=k.concat(["categoryField","dateConfig","sortOrder","maxLabels"]):"field"===h&&(k=k.concat(["valueFields","operation","sortOrder","maxLabels","nullValue"]));h="backgroundColor seriesStyle showLegend legendTextColor legendTextSize highLightColor".split(" ");
h="pie"===g?h.concat(["showDataLabel","dataLabelColor","dataLabelSize","innerRadius"]):h.concat("showHorizontalAxis horizontalAxisTextColor horizontalAxisTextSize showVerticalAxis verticalAxisTextColor verticalAxisTextSize stack area".split(" "));k.forEach(function(l){f[l]=e[l]});h.forEach(function(l){f[l]=e[l]});f.hasOwnProperty("showLegend")||(f.showLegend=!1);"pie"===g?f.hasOwnProperty("showDataLabel")||(f.showDataLabel=!0):(f.hasOwnProperty("showHorizontalAxis")||(f.showHorizontalAxis=!0),f.hasOwnProperty("showVerticalAxis")||
(f.showVerticalAxis=!0));return f}(d);return a}},{version:"2.9",upgrader:function(a){if(!a||!a.dijits)return a;var c=a.dijits.filter(function(b){return"chart"===b.type})[0];if(!c)return a;var d=c&&c.config;if(!d||!d.mode)return a;d.legend={show:d.showLegend,textStyle:{color:d.legendTextColor,fontSize:d.legendTextSize}};d.xAxis={show:void 0===d.showHorizontalAxis?!0:d.showHorizontalAxis,textStyle:{color:d.horizontalAxisTextColor,fontSize:d.horizontalAxisTextSize},nameTextStyle:{color:d.horizontalAxisTextColor}};
d.yAxis={show:void 0===d.showVerticalAxis?!0:d.showVerticalAxis,textStyle:{color:d.verticalAxisTextColor,fontSize:d.verticalAxisTextSize},nameTextStyle:{color:d.horizontalAxisTextColor}};d.dataLabel={show:d.showDataLabel,textStyle:{color:d.dataLabelColor,fontSize:d.dataLabelSize}};d.marks||(d.marks={});c.config=function(b){var e={mode:b.mode,type:b.type},f=e.type,g=e.mode,h=[];"feature"===g?h=h.concat(["labelField","valueFields","sortOrder","maxLabels"]):"category"===g?h=h.concat("categoryField dateConfig valueFields sortOrder operation maxLabels nullValue".split(" ")):
"count"===g?h=h.concat(["categoryField","dateConfig","sortOrder","maxLabels"]):"field"===g&&(h=h.concat(["valueFields","operation","sortOrder","maxLabels","nullValue"]));g=["backgroundColor","seriesStyle","legend","highLightColor"];g="pie"===f?g.concat(["dataLabel","innerRadius"]):g.concat(["xAxis","yAxis","stack","area","marks"]);h.forEach(function(k){e[k]=b[k]});g.forEach(function(k){e[k]=b[k]});return e}(d);return a}},{version:"2.10",upgrader:function(a){if(!a||!a.dijits)return a;var c=a.dijits,
d=c.filter(function(b){return"gauge"===b.type})[0];c=c.filter(function(b){return"number"===b.type})[0];(function(b){if(b&&b.config){var e=b.config,f=e.min,g=e.max||1E3,h=e.statistic,k="Features"===h.type?"count":h.statisticsType;h="count"!==k?h.fieldName:"";k={type:k};h&&(k.field=h);f=[{type:"value",config:{type:"stat",value:k}},{type:"range",name:"range1",config:{type:"fixed",value:f}},{type:"range",name:"range2",config:{type:"fixed",value:g}}];delete e.statistic;delete e.min;delete e.max;e.statistics=
f;b.config=e}})(d);(function(b){if(b&&b.config){var e=b.config,f=e.statistic,g="Features"===f.type?"count":f.statisticsType;f="count"!==g?f.fieldName:"";g={type:g};f&&(g.field=f);g=[{type:"value",config:{type:"stat",value:g}}];delete e.statistic;e.statistics=g;b.config=e}})(c);return a}},{version:"2.11",upgrader:function(a){return a}},{version:"2.12",upgrader:function(a){function c(e,f){var g=["mode","type"],h=["backgroundColor","seriesStyle","legend","highLightColor"];"feature"===f?g=g.concat(["clusterField",
"valueFields"]):"category"===f?g=g.concat(["clusterField","dateConfig","valueFields","operation","nullValue"]):"count"===f?g=g.concat(["clusterField","dateConfig"]):"field"===f&&(g=g.concat(["valueFields","operation","nullValue"]));g=g.concat(["sortOrder","maxLabels"]);h="pie"===e?h.concat(["dataLabel","innerRadius"]):h.concat(["xAxis","yAxis","stack","area","marks"]);return{dataProperties:g,displayProperties:h}}if(!a||!a.dijits)return a;var d=a.dijits.filter(function(e){return"chart"===e.type})[0];
if(!d)return a;var b=d&&d.config;if(!b||!b.mode)return a;(function(e){if(!e||e.clusterField)return e;if("feature"===e.mode)e.clusterField=e.labelField;else if("category"===e.mode||"count"===e.mode)e.clusterField=e.categoryField})(b);d.config=function(e){if(e){var f=c(e.type,e.mode),g=f.displayProperties,h={},k={};f.dataProperties.forEach(function(l){h[l]=e[l]});g.forEach(function(l){k[l]=e[l]});return{data:h,display:k}}}(b);return a}},{version:"2.13",upgrader:function(a){if(!a||!a.dijits)return a;
var c=a.dijits.filter(function(f){return"chart"===f.type})[0];if(!c)return a;c=c&&c.config;if(!c)return a;var d=c.data&&c.data.mode,b=c.data&&c.data.type,e=c.display;if(!b||!d||!e||e.tooltip)return a;c.display.tooltip={confine:!0,trigger:"pie"===b?"item":"axis"};return a}},{version:"2.14",upgrader:function(a){return a}},{version:"2.15",upgrader:function(a){return a}},{version:"2.16",upgrader:function(a){if(!a||!a.dijits)return a;var c=a.dijits.filter(function(f){return"chart"===f.type})[0];if(!c)return a;
c=c&&c.config;if(!c)return a;var d=c.data&&c.data.type,b=c.data&&c.data.mode,e=c.display;if(!d||!b||!e||"pie"===d)return a;c.display.displayRange="AUTO";return a}}]}m.prototype=new p;return m.prototype.constructor=m});