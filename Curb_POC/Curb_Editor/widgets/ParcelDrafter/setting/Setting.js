// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/ParcelDrafter/setting/SymbolChooserPopup":function(){define("dojo/_base/declare jimu/BaseWidgetSetting dijit/_WidgetsInTemplateMixin dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on dojo/text!./SymbolChooserPopup.html jimu/dijit/SymbolChooser jimu/dijit/Popup dijit/focus dojo/domReady!".split(" "),function(g,a,b,d,k,l,m,t,C,B,D){return g([a,b],{templateString:t,baseClass:"jimu-widget-ParcelDrafter-setting",postCreate:function(){this.own(m(this.okButton,"click",d.hitch(this,
this._onOKButtonClicked)));this._initSymbolChooser();this._createSymbolChooserPopup()},_initSymbolChooser:function(){this.symbolChooser=new C(this.symbolParams,l.create("div",{},this.symbolData));this.symbolChooser.startup()},_createSymbolChooserPopup:function(){this.popup=new B({titleLabel:this.symbolChooserTitle,width:420,height:400,content:this.domNode})},_onOKButtonClicked:function(){if(!k.contains(this.okButton,"jimu-state-disabled"))if(this._validatePointSymbolSize())if(this._validatePointOutlineWidth())if(this._validateLineWidth())if(this._validatePolygonOutlineWidth())this.onOkClick();
else D.focus(this.symbolChooser.fillOutlineWidth.focusNode);else D.focus(this.symbolChooser.lineWidth.focusNode);else D.focus(this.symbolChooser.pointOutlineWidth.focusNode);else D.focus(this.symbolChooser.pointSize.focusNode)},onOkClick:function(q){return q},_validatePointSymbolSize:function(){return this.symbolChooser&&this.symbolChooser.hasOwnProperty("pointSize")?this.symbolChooser.pointSize.isValid():!0},_validatePolygonOutlineWidth:function(){return this.symbolChooser&&this.symbolChooser.hasOwnProperty("fillOutlineWidth")?
this.symbolChooser.fillOutlineWidth.isValid():!0},_validatePointOutlineWidth:function(){return this.symbolChooser&&this.symbolChooser.hasOwnProperty("pointOutlineWidth")?this.symbolChooser.pointOutlineWidth.isValid():!0},_validateLineWidth:function(){if(this.symbolChooser&&this.symbolChooser.hasOwnProperty("lineWidth"))if(this.symbolChooser.lineWidth.isValid()){var q=this.symbolChooser.lineWidth.getValue();if(""===q||null===q||void 0===q||isNaN(q))return this.symbolChooser.lineWidth.setValue("0"),
!1}else return!1;return!0}})})},"widgets/ParcelDrafter/setting/LayerChooser":function(){define("dojo/_base/declare jimu/BaseWidgetSetting dijit/_WidgetsInTemplateMixin dojo/_base/array dojo/_base/lang dojo/on dojo/text!./LayerChooser.html jimu/dijit/LayerChooserFromMap jimu/dijit/LayerChooserFromMapWithDropbox dojo/dom-class jimu/utils dojo/Deferred esri/request dojo/promise/all jimu/dijit/Message jimu/dijit/Popup dojo/dom-construct dojo/domReady!".split(" "),function(g,a,b,d,k,l,m,t,C,B,D,q,p,w,
J,K,Q){return g([a,b],{baseClass:"jimu-widget-ParcelDrafter-setting",templateString:m,selectedLayerDetails:[],relatedLayerInfo:[],relatedLayerTypes:[],chooseRelatedLayers:!1,_layerChooserFromMap:null,startup:function(){this.inherited(arguments)},postCreate:function(){this.selectedLayerDetails=[];this.relatedLayerInfo=[];this.relatedLayerTypes&&0!==this.relatedLayerTypes.length||(this.relatedLayerTypes=["point","polyline","polygon"]);this._initPopup();this._initLayerSelector()},_initPopup:function(){this.okButton=
Q.create("button",{title:this.nls.common.ok});this.okButton.label=this.nls.common.ok;this.okButton.onClick=k.hitch(this,function(){this.multiple&&this._getSelectedLayers();this.chooseRelatedLayers&&0<this.relatedLayerInfo.length&&this.selectedLayerDetails.push(this.relatedLayerInfo[this.relatedLayerSelector.value]);this.onOKButtonClicked(this.selectedLayerDetails);this.popup.close()});this.cancelButton=Q.create("button",{title:this.nls.common.cancel});this.cancelButton.label=this.nls.common.cancel;
this.cancelButton.onClick=k.hitch(this,function(u){this.onCancelClick(u);this.popup.close()});this.popup=new K({titleLabel:this.title,content:this.domNode,width:830,autoHeight:!0,buttons:[this.okButton,this.cancelButton]});this.popup.disableButton(0)},_initLayerSelector:function(){var u={multiple:this.multiple,createMapResponse:this.map.webMapResponse,showLayerTypes:this.showLayerTypes,filter:this._createFiltersForLayerSelector()};this.multiple?this._layerChooserFromMap=new t(u):(u=new t(u),this._layerChooserFromMap=
new C({layerChooser:u}));this.chooseRelatedLayers?this._layerChooserFromMap.placeAt(this.relatedLayerChooserDiv):(B.add(this.relatedLayerChooser,"esriCTHidden"),this._layerChooserFromMap.placeAt(this.singleLayerChooser));this._layerChooserFromMap.startup();this.multiple?this._layerChooserFromMap._onTreeClick=k.hitch(this,function(){this._layerChooserFromMap.getSelectedItems().length?this.popup.enableButton(0):this.popup.disableButton(0)}):this.own(l(this._layerChooserFromMap,"selection-change",k.hitch(this,
function(x){this._setSelectedLayerDetails(x)})))},_createFiltersForLayerSelector:function(){var u=t.createFeaturelayerFilter(this.types?this.types:["point","polyline","polygon"],!1,!1);var x=t.createImageServiceLayerFilter(!0);return t.orCombineFilters([u,x])},_setSelectedLayerDetails:function(u){var x={};this.selectedLayerDetails=[];x.id=u[0].id;x.url=u[0].url;x.geometryType=u[0].geometryType;x.layerId=u[0].layerId;x.baseURL=u[0].url.substr(0,u[0].url.lastIndexOf("/")+1);u[0].relationships&&(x.relationships=
u[0].relationships);this.selectedLayerDetails.push(x);this.chooseRelatedLayers?this._createRelatedLayerOptions(this.selectedLayerDetails[0]):this.popup.enableButton(0)},_getSelectedLayers:function(){var u;this.selectedLayerDetails=[];var x=this._layerChooserFromMap.getSelectedItems();if(0<x.length)for(this.popup.enableButton(0),u=0;u<x.length;u++){var n={url:x[u].layerInfo.layerObject.url,geometryType:x[u].layerInfo.layerObject.geometryType,id:x[u].layerInfo.layerObject.id};n.layerId=x[u].layerId?
x[u].layerId:n.url.substr(n.url.lastIndexOf("/")+1,n.url.length);var v=n.url.substr(0,n.url.lastIndexOf("/")+1);n.baseURL=v;this.selectedLayerDetails.push(n)}},_getLayerDetailsFromMap:function(u,x){var n=[],v;this.map&&this.map.webMapResponse&&this.map.webMapResponse.itemInfo&&this.map.webMapResponse.itemInfo.itemData&&this.map.webMapResponse.itemInfo.itemData.operationalLayers&&d.forEach(this.map.webMapResponse.itemInfo.itemData.operationalLayers,k.hitch(this,function(y){v={};y.layerObject&&("ArcGISMapServiceLayer"===
y.layerType||"ArcGISTiledMapServiceLayer"===y.layerType?u.substring(0,u.length-1)===y.url&&(d.forEach(y.resourceInfo.layers,k.hitch(this,function(A){A.id===parseInt(x,10)&&(v.title=A.name,n.push(v))})),d.forEach(y.layers,k.hitch(this,function(A){A.id===parseInt(x,10)&&(A.name&&(v.title=A.name),v.id=y.id,n.push(v))}))):y.url.replace(/.*?:\/\//g,"").toLowerCase()===(u+x).replace(/.*?:\/\//g,"").toLowerCase()&&(v.id=y.id,v.title=y.title,n.push(v)))}));return n},_createRelatedLayerOptions:function(u){var x=
[];if(u&&u.relationships&&0<u.relationships.length){this.relatedLayerInfo=[];var n=[];var v=u.baseURL;d.forEach(u.relationships,k.hitch(this,function(y){var A=new q;n.push(A);p({url:v+y.relatedTableId,content:{f:"json"},handleAs:"json"}).then(k.hitch(this,function(N){A.resolve(N)}),k.hitch(this,function(){A.resolve()}))}));w(n).then(k.hitch(this,function(y){var A,N;for(A=0;A<y.length;A++)if(y[A]){var M=D.getTypeByGeometryType(y[A].geometryType);if(-1<this.relatedLayerTypes.indexOf(M)){M={url:v+y[A].id,
baseURL:v,relationShipId:u.relationships[A].id,layerId:y[A].id,geometryType:y[A].geometryType,title:y[A].name};y[A].fields&&(M.fields=k.clone(y[A].fields));var c=this._getLayerDetailsFromMap(v,y[A].id);for(N=0;N<c.length;N++){var h=k.clone(M);k.mixin(h,c[N]);h.title&&(this.relatedLayerInfo[x.length]=h,x.push({label:this.relatedLayerInfo[x.length].title,value:x.length}))}}}0<x.length?(this.relatedLayerSelector.options.length=0,x[0].selected=!0,this.relatedLayerSelector.addOption(x),this.popup.enableButton(0)):
this._resetRelatedLayerSelector()}),k.hitch(this,function(){this._resetRelatedLayerSelector()}))}else this._resetRelatedLayerSelector()},_resetRelatedLayerSelector:function(){this.relatedLayerSelector.value="";this.relatedLayerSelector.options.length=0;this.relatedLayerSelector.addOption({value:"",label:"",selected:!0});this.popup.disableButton(0);this._showMessage(this.nls.layerSelector.selectedLayerNotHavingRelatedLayer)},onOKButtonClicked:function(){return this.selectedLayerDetails},onCancelClick:function(u){return u},
_showMessage:function(u){(new J({message:u,buttons:[{label:this.nls.common.ok}]})).message=u}})})},"jimu/dijit/LayerChooserFromMap":function(){define("dojo/on dojo/Evented dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/store/Memory dojo/Deferred dojo/store/Observable dijit/tree/ObjectStoreModel dojo/promise/all dojo/_base/lang dojo/_base/html dojo/_base/array jimu/utils jimu/dijit/_Tree jimu/LayerInfos/LayerInfos jimu/dijit/LoadingIndicator".split(" "),
function(g,a,b,d,k,l,m,t,C,B,D,q,p,w,J,K,Q,u){var x=b([d,k,l,a],{templateString:'\x3cdiv style\x3d"width:100%;"\x3e\x3cdiv data-dojo-attach-point\x3d"errorTipSection" class\x3d"error-tip-section"\x3e\x3cspan class\x3d"jimu-icon jimu-icon-error"\x3e\x3c/span\x3e\x3cspan class\x3d"jimu-state-error-text" data-dojo-attach-point\x3d"errTip"\x3e${nls.noLayersTip}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e',_store:null,_id:0,_treeClass:"layer-chooser-tree",createMapResponse:null,multiple:!1,onlyShowVisible:!1,
updateWhenLayerInfosIsShowInMapChanged:!1,onlyShowWebMapLayers:!1,displayTooltipForTreeNode:!1,onlyFilterCurrentLayerWhenAddItem:!1,postMixInProperties:function(){this.nls=window.jimuNls.basicLayerChooserFromMap},postCreate:function(){this.inherited(arguments);p.addClass(this.domNode,"jimu-basic-layer-chooser-from-map");this.multiple=!!this.multiple;this.shelter=new u({hidden:!0});this.shelter.placeAt(this.domNode);this.shelter.startup();this._createTree();this.basicFilter=q.hitch(this,this.basicFilter);
this.filter=x.andCombineFilters([this.basicFilter,this.filter]);this.createMapResponse&&this.setCreateMapResponse(this.createMapResponse)},basicFilter:function(n){var v=new t;this.onlyShowVisible?v.resolve(n.isShowInMap()):v.resolve(!0);return v},filter:function(n){n=new t;n.resolve(!0);return n},getSelectedItems:function(){var n=this.tree.getSelectedItems();return w.map(n,q.hitch(this,function(v){return this.getHandledItem(v)}))},getAllItems:function(){var n=this.tree.getAllItems(),v=[];w.forEach(n,
q.hitch(this,function(y){"root"!==y.id&&(y=this.getHandledItem(y),v.push(y))}));return v},getHandledItem:function(n){return{name:n.name,layerInfo:n.layerInfo}},_isLeafItem:function(n){return n.isLeaf},setCreateMapResponse:function(n){this.createMapResponse=n;Q.getInstance(this.createMapResponse.map,this.createMapResponse.itemInfo).then(q.hitch(this,function(v){this.layerInfosObj=v;this.own(g(this.layerInfosObj,"layerInfosChanged",q.hitch(this,this._onLayerInfosChanged)));this.updateWhenLayerInfosIsShowInMapChanged&&
this.own(g(this.layerInfosObj,"layerInfosIsShowInMapChanged",q.hitch(this,this._onLayerInfosIsShowInMapChanged)));this._buildTree(this.layerInfosObj)}))},_onLayerInfosChanged:function(n,v){this._buildTree(this.layerInfosObj);this.emit("update")},_onLayerInfosIsShowInMapChanged:function(n){this._buildTree(this.layerInfosObj);this.emit("update")},_buildTree:function(n){this._clear();p.setStyle(this.errorTipSection,"display","block");var v=[];this.onlyShowWebMapLayers?(v=n.getLayerInfoArrayOfWebmap(),
v=v.concat(n.getTableInfoArrayOfWebmap())):(v=n.getLayerInfoArray(),v=v.concat(n.getTableInfoArray()));0!==v.length&&(p.setStyle(this.errorTipSection,"display","none"),w.forEach(v,q.hitch(this,function(y){this._addDirectLayerInfo(y)})))},_addDirectLayerInfo:function(n){n&&n.getLayerObject().then(q.hitch(this,function(){this._addItem("root",n)}),q.hitch(this,function(v){console.error(v)}))},_clear:function(){var n=this._store.query({parent:"root"});w.forEach(n,q.hitch(this,function(v){v&&"root"!==
v.id&&this._store.remove(v.id)}))},_addItem:function(n,v){var y=null,A=v.getLayerType(),N=this.filter(v);D({layerType:A,valid:N}).then(q.hitch(this,function(M){if(M.valid){var c=q.hitch(this,function(F,I){this._id++;y={name:v.title||"",parent:n,layerInfo:v,type:M.layerType,layerClass:v.layerObject.declaredClass,id:this._id.toString(),isLeaf:F,hasChildren:I};this._store.add(y)}),h=v.getSubLayers(),r=0===h.length,z=!0;this.onlyFilterCurrentLayerWhenAddItem?(r&&(z=!1),c(r,z)):r?c(r,!1):(h=w.map(h,q.hitch(this,
function(F){return this.filter(F)})),D(h).then(q.hitch(this,function(F){(F=w.some(F,function(I){return I}))&&c(r,F)})))}}))},_getRootItem:function(){return{id:"root",name:"Map Root",type:"root",isLeaf:!1,hasChildren:!0}},_createTree:function(){var n=this._getRootItem();n=new m({data:[n],getChildren:function(v){return this.query({parent:v.id})}});this._store=new C(n);n=new B({store:this._store,query:{id:"root"},mayHaveChildren:q.hitch(this,this._mayHaveChildren)});this.tree=new K({multiple:this.multiple,
model:n,showRoot:!1,isLeafItem:q.hitch(this,this._isLeafItem),style:{width:"100%"},onOpen:q.hitch(this,function(v,y){"root"!==v.id&&this._onTreeOpen(v,y)}),onClick:q.hitch(this,function(v,y,A){this._onTreeClick(v,y,A);this.emit("tree-click",v,y,A)}),getIconStyle:q.hitch(this,function(v,y){var A=null;if(!v||"root"===v.id)return null;var N={width:"20px",height:"20px",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundImage:""},M=window.location.protocol+"//"+window.location.host+
require.toUrl("jimu");if(v=this._getIconInfo(v,y).imageName)N.backgroundImage="url("+M+"/css/images/"+v+")",A=N;return A}),getIconClass:q.hitch(this,function(v,y){return this._getIconInfo(v,y).className}),getTooltip:q.hitch(this,function(v){return this.displayTooltipForTreeNode?v.layerInfo.title:""})});p.addClass(this.tree.domNode,this._treeClass);this.tree.placeAt(this.shelter.domNode,"before")},_mayHaveChildren:function(n){return n.hasChildren},_getIconInfo:function(n,v){var y="",A="";"ArcGISDynamicMapServiceLayer"===
n.type||"ArcGISTiledMapServiceLayer"===n.type?v?(y="mapserver_open.png",A="mapservice-layer-icon open"):(y="mapserver_close.png",A="mapservice-layer-icon close"):"GroupLayer"===n.type?v?(y="group_layer2.png",A="group-layer-icon open"):(y="group_layer1.png",A="group-layer-icon close"):"FeatureLayer"===n.type?(n=J.getTypeByGeometryType(n.layerInfo.layerObject.geometryType),"point"===n?(y="point_layer1.png",A="point-layer-icon"):"polyline"===n?(y="line_layer1.png",A="line-layer-icon"):"polygon"===n&&
(y="polygon_layer1.png",A="polygon-layer-icon")):"Table"===n.type?(y="table.png",A="table-icon"):"ArcGISImageServiceLayer"===n.type||"ArcGISImageServiceVectorLayer"===n.type?(y="image_layer.png",A="iamge-layer-icon"):v?(y="mapserver_open.png",A="mapservice-layer-icon open"):(y="mapserver_close.png",A="mapservice-layer-icon close");return{imageName:y,className:A}},_onTreeOpen:function(n,v){if("root"!==n.id){var y=[];v=[];y=n.layerInfo.getSubLayers();n.checked||(this.shelter.show(),v=w.map(y,q.hitch(this,
function(A){return A.getLayerObject()})),D(v).then(q.hitch(this,function(){this.domNode&&(w.forEach(y,q.hitch(this,function(A){this._addItem(n.id,A)})),n.checked=!0,this.shelter.hide())}),q.hitch(this,function(A){console.error(A);this.shelter.hide()})))}},_onTreeClick:function(n,v,y){},destroy:function(){this.shelter&&(this.shelter.destroy(),this.shelter=null);this.tree&&this.tree.destroy();this.inherited(arguments)}});x.createFilterByLayerType=function(n){q.isArrayLike(n)||(n=[]);return function(v){var y=
new t;if(0===n.length)y.resolve(!0);else{var A=[];v.traversal(function(N){A.push(N.getLayerType())});D(A).then(function(N){for(var M=0;M<N.length;M++)for(var c=0;c<n.length;c++)if(N[M]===n[c]){y.resolve(!0);return}y.resolve(!1)},function(N){console.error(N);y.reject(N)})}return y}};x.createFeaturelayerFilter=function(n,v,y,A){var N=["point","polyline","polygon"];n&&0<n.length?(n=w.filter(n,function(M){return 0<=N.indexOf(M)}),0===n.length&&(n=N)):n=N;return function(M){var c=M.getLayerType();M=M.getLayerObject();
return D({layerType:c,layerObject:M}).then(function(h){var r=h.layerType;h=h.layerObject;if("ArcGISDynamicMapServiceLayer"===r||"ArcGISTiledMapServiceLayer"===r||"GroupLayer"===r||"FeatureCollection"===r)return!0;if("FeatureLayer"===r){r=J.getTypeByGeometryType(h.geometryType);r=0<=w.indexOf(n,r);var z=x._shouldPassStatisticsCheck(A,h);return h.url?(h=J.isFeaturelayerUrlSupportQuery(h.url,h.capabilities),r&&h&&z):v&&r}return"Table"===r?(r=J.isFeaturelayerUrlSupportQuery(h.url,h.capabilities),h=x._shouldPassStatisticsCheck(A,
h),y&&r&&h):!1})}};x.createImageServiceLayerFilter=function(n,v){return function(y){var A=y.getLayerType();y=y.getLayerObject();return D({layerType:A,layerObject:y}).then(function(N){var M=N.layerType,c=N.layerObject;return"ArcGISImageServiceLayer"===M||"ArcGISImageServiceVectorLayer"===M?n?J.isImageServiceSupportQuery(N.layerObject.capabilities)?v?x._shouldPassStatisticsCheck(v,c):!0:!1:!0:!1})}};x._shouldPassStatisticsCheck=function(n,v){return n?(n=!1,n=v.advancedQueryCapabilities?!!v.advancedQueryCapabilities.supportsStatistics:
!!v.supportsStatistics):!0};x.createQueryableLayerFilter=function(n){var v=x.createFeaturelayerFilter(["point","polyline","polygon"],!1,!0,n);n=x.createImageServiceLayerFilter(!0,n);return x.orCombineFilters([v,n])};x.andCombineFilters=function(n){return x._combineFilters(n,!0)};x.orCombineFilters=function(n){return x._combineFilters(n,!1)};x._combineFilters=function(n,v){return function(y){var A=new t,N=w.map(n,function(M){return M(y)});D(N).then(function(M){var c=!1;c=v?w.every(M,function(h){return h}):
w.some(M,function(h){return h});A.resolve(c)},function(M){console.error(M);A.reject(M)});return A}};return x})},"dijit/tree/ObjectStoreModel":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/_base/lang dojo/when ../Destroyable".split(" "),function(g,a,b,d,k,l,m){return b("dijit.tree.ObjectStoreModel",m,{store:null,labelAttr:"name",labelType:"text",root:null,query:null,constructor:function(t){k.mixin(this,t);this.childrenCache={}},getRoot:function(t,C){if(this.root)t(this.root);
else{var B=this.store.query(this.query);B.then&&this.own(B);l(B,k.hitch(this,function(D){if(1!=D.length)throw Error("dijit.tree.ObjectStoreModel: root query returned "+D.length+" items, but must return exactly one");this.root=D[0];t(this.root);B.observe&&B.observe(k.hitch(this,function(q){this.onChange(q)}),!0)}),C)}},mayHaveChildren:function(){return!0},getChildren:function(t,C,B){var D=this.store.getIdentity(t);if(this.childrenCache[D])l(this.childrenCache[D],C,B);else{var q=this.childrenCache[D]=
this.store.getChildren(t);q.then&&this.own(q);q.observe&&this.own(q.observe(k.hitch(this,function(p,w,J){this.onChange(p);w!=J&&l(q,k.hitch(this,"onChildrenChange",t))}),!0));l(q,C,B)}},isItem:function(){return!0},getIdentity:function(t){return this.store.getIdentity(t)},getLabel:function(t){return t[this.labelAttr]},newItem:function(t,C,B,D){return this.store.put(t,{parent:C,before:D})},pasteItem:function(t,C,B,D,q,p){var w=new d;if(C===B&&!D&&!p)return w.resolve(!0),w;C&&!D?this.getChildren(C,k.hitch(this,
function(J){J=[].concat(J);var K=g.indexOf(J,t);J.splice(K,1);this.onChildrenChange(C,J);w.resolve(this.store.put(t,{overwrite:!0,parent:B,oldParent:C,before:p,isCopy:!1}))})):w.resolve(this.store.put(t,{overwrite:!0,parent:B,oldParent:C,before:p,isCopy:!0}));return w},onChange:function(){},onChildrenChange:function(){},onDelete:function(){}})})},"jimu/dijit/_Tree":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/_TreeNode.html dojo/_base/lang dojo/_base/html dojo/_base/array dojo/_base/event dojo/query dojo/aspect dojo/on dojo/keys dojo/Evented dijit/registry dijit/Tree jimu/utils".split(" "),
function(g,a,b,d,k,l,m,t,C,B,D,q,p,w,J,K){var Q=g([J._TreeNode,p],{templateString:d,declaredClass:"jimu._TreeNode",isLeaf:!1,groupId:"",postCreate:function(){this.inherited(arguments);l.addClass(this.domNode,"jimu-tree-node");this.isLeaf=!!this.isLeaf;this.groupId?(this.checkNode=l.toDom('\x3cinput type\x3d"radio" /\x3e'),this.checkNode.name=this.groupId):this.checkNode=l.toDom('\x3cinput type\x3d"checkbox" /\x3e');l.addClass(this.checkNode,"jimu-tree-check-node");l.place(this.checkNode,this.contentNode,
"first");this.own(D(this.checkNode,"click",k.hitch(this,this._onClick)));this.own(D(this.rowNode,"keydown",k.hitch(this,function(u,x){x.target=u;x.keyCode!==q.ENTER&&x.keyCode!==q.SPACE||this._onClick(x)},this.checkNode)));this.isLeaf?this.groupId?l.setStyle(this.checkNode,"display","none"):l.setStyle(this.checkNode,"display","inline"):l.setStyle(this.checkNode,"display","none");this.isLeaf?l.addClass(this.domNode,"jimu-tree-leaf-node"):l.addClass(this.domNode,"jimu-tree-not-leaf-node")},select:function(){this.isLeaf&&
(this.checkNode.checked=!0,l.addClass(this.domNode,"jimu-tree-selected-leaf-node"))},unselect:function(){this.isLeaf&&(this.checkNode.checked=!1,l.removeClass(this.domNode,"jimu-tree-selected-leaf-node"))},toggleSelect:function(){this.isLeaf&&(this.checkNode.checked?this.unselect():this.select())},_onClick:function(u){(u.target||u.srcElement)===this.checkNode?this.tree._onCheckNodeClick(this,this.checkNode.checked,u):this.tree._onClick(this,u)},_onChange:function(){this.isLeaf&&setTimeout(k.hitch(this,
function(){this.checkNode.checked?this.emit("tn-select",this):this.emit("tn-unselect",this)}),100)},destroy:function(){delete this.tree;this.inherited(arguments)}});return g([J,p],{declaredClass:"jimu._Tree",openOnClick:!0,multiple:!0,uniqueId:"",showRoot:!1,postMixInProperties:function(){this.inherited(arguments);this.uniqueId="tree_"+K.getRandomString()},postCreate:function(){this.inherited(arguments);l.addClass(this.domNode,"jimu-tree");this.own(B.before(this,"onClick",k.hitch(this,this._jimuBeforeClick)));
this.rootLoadingIndicator&&l.setStyle(this.rootLoadingIndicator,"display","none");this.dndController.singular=!0;l.setAttr(this.domNode,"tabindex",0)},removeItem:function(u){this.model.store.remove(u)},getAllItems:function(){var u=this.getAllTreeNodeWidgets();return m.map(u,k.hitch(this,function(x){var n=x.item;n.selected=x.checkNode.checked;return n}))},getSelectedItems:function(){var u=this.getAllTreeNodeWidgets();u=m.filter(u,k.hitch(this,function(x){return x.checkNode.checked}));return m.map(u,
k.hitch(this,function(x){return x.item}))},getFilteredItems:function(u){var x=this.getAllTreeNodeWidgets();x=m.map(x,k.hitch(this,function(n){var v=n.item;v.selected=n.checkNode.checked;return v}));return m.filter(x,k.hitch(this,function(n){return u(n)}))},getTreeNodeByItemId:function(u){for(var x=this._getAllTreeNodeDoms(),n=0;n<x.length;n++){var v=w.byNode(x[n]);if(v.item.id.toString()===u.toString())return v}return null},selectItem:function(u){(u=this.getTreeNodeByItemId(u))&&u.isLeaf&&this.selectNodeWidget(u)},
unselectItem:function(u){(u=this.getTreeNodeByItemId(u))&&u.isLeaf&&u.unselect()},getAllLeafTreeNodeWidgets:function(){var u=this.getAllTreeNodeWidgets();return m.filter(u,k.hitch(this,function(x){return x.isLeaf}))},getAllTreeNodeWidgets:function(){var u=this._getAllTreeNodeDoms();return m.map(u,k.hitch(this,function(x){return w.byNode(x)}))},isLeafItem:function(u){return u&&u.isLeaf},_getAllTreeNodeDoms:function(){return C(".dijitTreeNode",this.domNode)},_createTreeNode:function(u){u.isLeaf=this.isLeafItem(u.item);
this.multiple||(u.groupId=this.uniqueId);return new Q(u)},_onTreeNodeSelect:function(u){this.emit("item-select",{item:u.item,treeNode:u})},_onTreeNodeUnselect:function(u){this.emit("item-unselect",{item:u.item,treeNode:u})},selectNodeWidget:function(u){this.multiple||this.unselectAllLeafNodeWidgets();u.select()},_jimuBeforeClick:function(u,x,n){x.isLeaf&&(l.hasClass(n.target||n.srcElement,"jimu-tree-check-node")||(this.multiple?x.toggleSelect():this.selectNodeWidget(x)));return arguments},_onCheckNodeClick:function(u,
x,n){!this.multiple&&x&&this.unselectAllLeafNodeWidgets();t.stop(n);this.focusNode(u);setTimeout(k.hitch(this,function(){x?this.selectNodeWidget(u):u.unselect();this.onClick(u.item,u,n)}),0)},unselectAllLeafNodeWidgets:function(){var u=this.getAllLeafTreeNodeWidgets();m.forEach(u,k.hitch(this,function(x){x.unselect()}))}})})},"dijit/Tree":function(){define("dojo/_base/array dojo/aspect dojo/cookie dojo/_base/declare dojo/Deferred dojo/promise/all dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/errors/create dojo/fx dojo/has dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/topic dojo/touch dojo/when ./a11yclick ./focus ./registry ./_base/manager ./_Widget ./_TemplatedMixin ./_Container ./_Contained ./_CssStateMixin ./_KeyNavMixin dojo/text!./templates/TreeNode.html dojo/text!./templates/Tree.html ./tree/TreeStoreModel ./tree/ForestStoreModel ./tree/_dndSelector dojo/query!css2".split(" "),
function(g,a,b,d,k,l,m,t,C,B,D,q,p,w,J,K,Q,u,x,n,v,y,A,N,M,c,h,r,z,F,I,O,T,X,U){function H(e){return K.delegate(e.promise||e,{addCallback:function(f){this.then(f)},addErrback:function(f){this.otherwise(f)}})}var W=d("dijit._TreeNode",[M,c,h,r,z],{item:null,isTreeNode:!0,label:"",_setLabelAttr:function(e){this.labelNode["html"==this.labelType?"innerHTML":"innerText"in this.labelNode?"innerText":"textContent"]=e;this._set("label",e);p("dojo-bidi")&&this.applyTextDir(this.labelNode)},labelType:"text",
isExpandable:null,isExpanded:!1,state:"NotLoaded",templateString:I,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);this.isExpandable&&this.labelNode.setAttribute("aria-expanded",this.isExpanded);this.setSelected(!1)},_setIndentAttr:function(e){var f=Math.max(e,0)*this.tree._nodePixelIndent+"px";B.set(this.domNode,
"backgroundPosition",f+" 0px");B.set(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",f);g.forEach(this.getChildren(),function(E){E.set("indent",e+1)});this._set("indent",e)},markProcessing:function(){this.state="Loading";this._setExpando(!0)},unmarkProcessing:function(){this._setExpando(!1)},_updateItemClasses:function(e){var f=this.tree,E=f.model;f._v10Compat&&e===E.root&&(e=null);this._applyClassAndStyle(e,"icon","Icon");this._applyClassAndStyle(e,"label","Label");this._applyClassAndStyle(e,
"row","Row");this.tree._startPaint(!0)},_applyClassAndStyle:function(e,f,E){var G="_"+f+"Class";f+="Node";var L=this[G];this[G]=this.tree["get"+E+"Class"](e,this.isExpanded);t.replace(this[f],this[G]||"",L||"");B.set(this[f],this.tree["get"+E+"Style"](e,this.isExpanded)||{})},_updateLayout:function(){var e=this.getParent();e=!e||!e.rowNode||"none"==e.rowNode.style.display;t.toggle(this.domNode,"dijitTreeIsRoot",e);t.toggle(this.domNode,"dijitTreeIsLast",!e&&!this.getNextSibling())},_setExpando:function(e){var f=
["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"];e=e?0:this.isExpandable?this.isExpanded?1:2:3;t.replace(this.expandoNode,f[e],f);this.expandoNodeText.innerHTML=["*","-","+","*"][e]},expand:function(){if(this._expandDeferred)return H(this._expandDeferred);this._collapseDeferred&&(this._collapseDeferred.cancel(),delete this._collapseDeferred);this.isExpanded=!0;this.labelNode.setAttribute("aria-expanded","true");(this.tree.showRoot||this!==this.tree.rootNode)&&
this.containerNode.setAttribute("role","group");t.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","true");var e=q.wipeIn({node:this.containerNode,duration:N.defaultDuration}),f=this._expandDeferred=new k(function(){e.stop()});a.after(e,"onEnd",function(){f.resolve(!0)},!0);e.play();return H(f)},collapse:function(){if(this._collapseDeferred)return H(this._collapseDeferred);
this._expandDeferred&&(this._expandDeferred.cancel(),delete this._expandDeferred);this.isExpanded=!1;this.labelNode.setAttribute("aria-expanded","false");this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","false");t.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var e=q.wipeOut({node:this.containerNode,duration:N.defaultDuration}),f=this._collapseDeferred=new k(function(){e.stop()});a.after(e,"onEnd",
function(){f.resolve(!0)},!0);e.play();return H(f)},indent:0,setChildItems:function(e){var f=this.tree,E=f.model,G=[],L=f.focusedChild,Z=this.getChildren();g.forEach(Z,function(P){h.prototype.removeChild.call(this,P)},this);this.defer(function(){g.forEach(Z,function(P){if(!P._destroyed&&!P.getParent()){f.dndController.removeTreeNode(P);(function da(R){var aa=E.getIdentity(R.item),ca=f._itemNodesMap[aa];1==ca.length?delete f._itemNodesMap[aa]:(aa=g.indexOf(ca,R),-1!=aa&&ca.splice(aa,1));g.forEach(R.getChildren(),
da)})(P);if(f.persist){var V=g.map(P.getTreePath(),function(R){return f.model.getIdentity(R)}).join("/"),S;for(S in f._openedNodes)S.substr(0,V.length)==V&&delete f._openedNodes[S];f._saveExpandedNodes()}f.lastFocusedChild&&!m.isDescendant(f.lastFocusedChild.domNode,f.domNode)&&delete f.lastFocusedChild;L&&!m.isDescendant(L.domNode,f.domNode)&&f.focus();P.destroyRecursive()}})});this.state="Loaded";e&&0<e.length?(this.isExpandable=!0,g.forEach(e,function(P){var V=E.getIdentity(P),S=f._itemNodesMap[V];
if(S)for(var ba=0;ba<S.length;ba++)if(S[ba]&&!S[ba].getParent()){var R=S[ba];R.set("indent",this.indent+1);break}R||(R=this.tree._createTreeNode({item:P,tree:f,isExpandable:E.mayHaveChildren(P),label:f.getLabel(P),labelType:f.model&&f.model.labelType||"text",tooltip:f.getTooltip(P),ownerDocument:f.ownerDocument,dir:f.dir,lang:f.lang,textDir:f.textDir,indent:this.indent+1}),S?S.push(R):f._itemNodesMap[V]=[R]);this.addChild(R);(this.tree.autoExpand||this.tree._state(R))&&G.push(f._expandNode(R))},this),
g.forEach(this.getChildren(),function(P){P._updateLayout()})):this.isExpandable=!1;this._setExpando&&this._setExpando(!1);this._updateItemClasses(this.item);e=l(G);this.tree._startPaint(e);return H(e)},getTreePath:function(){for(var e=this,f=[];e&&e!==this.tree.rootNode;)f.unshift(e.item),e=e.getParent();f.unshift(this.tree.rootNode.item);return f},getIdentity:function(){return this.tree.model.getIdentity(this.item)},removeChild:function(e){this.inherited(arguments);var f=this.getChildren();0==f.length&&
(this.isExpandable=!1,this.collapse());g.forEach(f,function(E){E._updateLayout()})},makeExpandable:function(){this.isExpandable=!0;this._setExpando(!1)},setSelected:function(e){this.labelNode.setAttribute("aria-selected",e?"true":"false");t.toggle(this.rowNode,"dijitTreeRowSelected",e)},focus:function(){y.focus(this.focusNode)}});p("dojo-bidi")&&W.extend({_setTextDirAttr:function(e){!e||this.textDir==e&&this._created||(this._set("textDir",e),this.applyTextDir(this.labelNode),g.forEach(this.getChildren(),
function(f){f.set("textDir",e)},this))}});var Y=d("dijit.Tree",[M,F,c,z],{baseClass:"dijitTree",store:null,model:null,query:null,label:"",showRoot:!0,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:!1,openOnDblClick:!1,templateString:O,persist:!1,autoExpand:!1,dndController:U,dndParams:"onDndDrop itemCreator onDndCancel checkAcceptance checkItemAcceptance dragThreshold betweenThreshold".split(" "),onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,
checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(e,f){u.publish(this.id,K.mixin({tree:this,event:e},f||{}))},postMixInProperties:function(){this.tree=this;this.autoExpand&&(this.persist=!1);this._itemNodesMap={};!this.cookieName&&this.id&&(this.cookieName=this.id+"SaveStateCookie");this.expandChildrenDeferred=new k;this.pendingCommandsPromise=this.expandChildrenDeferred.promise;this.inherited(arguments)},postCreate:function(){this._initState();var e=
this;this.own(Q(this.containerNode,Q.selector(".dijitTreeNode",x.enter),function(G){e._onNodeMouseEnter(A.byNode(this),G)}),Q(this.containerNode,Q.selector(".dijitTreeNode",x.leave),function(G){e._onNodeMouseLeave(A.byNode(this),G)}),Q(this.containerNode,Q.selector(".dijitTreeRow",v.press),function(G){e._onNodePress(A.getEnclosingWidget(this),G)}),Q(this.containerNode,Q.selector(".dijitTreeRow",v),function(G){e._onClick(A.getEnclosingWidget(this),G)}),Q(this.containerNode,Q.selector(".dijitTreeRow",
"dblclick"),function(G){e._onDblClick(A.getEnclosingWidget(this),G)}));this.model||this._store2model();this.own(a.after(this.model,"onChange",K.hitch(this,"_onItemChange"),!0),a.after(this.model,"onChildrenChange",K.hitch(this,"_onItemChildrenChange"),!0),a.after(this.model,"onDelete",K.hitch(this,"_onItemDelete"),!0));this.inherited(arguments);if(this.dndController){K.isString(this.dndController)&&(this.dndController=K.getObject(this.dndController));for(var f={},E=0;E<this.dndParams.length;E++)this[this.dndParams[E]]&&
(f[this.dndParams[E]]=this[this.dndParams[E]]);this.dndController=new this.dndController(this,f)}this._load();this.onLoadDeferred=H(this.pendingCommandsPromise);this.onLoadDeferred.then(K.hitch(this,"onLoad"))},_store2model:function(){this._v10Compat=!0;w.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var e={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};this.params.mayHaveChildren&&(e.mayHaveChildren=
K.hitch(this,"mayHaveChildren"));this.params.getItemChildren&&(e.getChildren=K.hitch(this,function(f,E,G){this.getItemChildren(this._v10Compat&&f===this.model.root?null:f,E,G)}));this.model=new X(e);this.showRoot=!!this.label},onLoad:function(){},_load:function(){this.model.getRoot(K.hitch(this,function(e){var f=this.rootNode=this.tree._createTreeNode({item:e,tree:this,isExpandable:!0,label:this.label||this.getLabel(e),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?
0:-1});this.showRoot?(this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular),this.rootLoadingIndicator.style.display="none"):(f.rowNode.style.display="none",this.domNode.setAttribute("role","presentation"),this.domNode.removeAttribute("aria-expanded"),this.domNode.removeAttribute("aria-multiselectable"),this["aria-label"]?(f.containerNode.setAttribute("aria-label",this["aria-label"]),this.domNode.removeAttribute("aria-label")):this["aria-labelledby"]&&(f.containerNode.setAttribute("aria-labelledby",
this["aria-labelledby"]),this.domNode.removeAttribute("aria-labelledby")),f.labelNode.setAttribute("role","presentation"),f.labelNode.removeAttribute("aria-selected"),f.containerNode.setAttribute("role","tree"),f.containerNode.setAttribute("aria-expanded","true"),f.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular));this.containerNode.appendChild(f.domNode);e=this.model.getIdentity(e);this._itemNodesMap[e]?this._itemNodesMap[e].push(f):this._itemNodesMap[e]=[f];f._updateLayout();
this._expandNode(f).then(K.hitch(this,function(){this._destroyed||(this.rootLoadingIndicator.style.display="none",this.expandChildrenDeferred.resolve(!0))}))}),K.hitch(this,function(e){console.error(this,": error loading root: ",e)}))},getNodesByItem:function(e){if(!e)return[];e=K.isString(e)?e:this.model.getIdentity(e);return[].concat(this._itemNodesMap[e])},_setSelectedItemAttr:function(e){this.set("selectedItems",[e])},_setSelectedItemsAttr:function(e){var f=this;return this.pendingCommandsPromise=
this.pendingCommandsPromise.always(K.hitch(this,function(){var E=g.map(e,function(L){return!L||K.isString(L)?L:f.model.getIdentity(L)}),G=[];g.forEach(E,function(L){G=G.concat(f._itemNodesMap[L]||[])});this.set("selectedNodes",G)}))},_setPathAttr:function(e){return e.length?H(this.set("paths",[e]).then(function(f){return f[0]})):H(this.set("paths",[]).then(function(f){return f[0]}))},_setPathsAttr:function(e){function f(G,L){var Z=G.shift(),P=g.filter(L,function(V){return V.getIdentity()==Z})[0];
if(P)return G.length?E._expandNode(P).then(function(){return f(G,P.getChildren())}):P;throw new Y.PathError("Could not expand path at "+Z);}var E=this;return H(this.pendingCommandsPromise=this.pendingCommandsPromise.always(function(){return l(g.map(e,function(G){G=g.map(G,function(L){return L&&K.isObject(L)?E.model.getIdentity(L):L});if(G.length)return f(G,[E.rootNode]);throw new Y.PathError("Empty path");}))}).then(function(G){E.set("selectedNodes",G);return E.paths}))},_setSelectedNodeAttr:function(e){this.set("selectedNodes",
[e])},_setSelectedNodesAttr:function(e){this.dndController.setSelection(e)},expandAll:function(){function e(E){return f._expandNode(E).then(function(){var G=g.filter(E.getChildren()||[],function(L){return L.isExpandable});return l(g.map(G,e))})}var f=this;return H(e(this.rootNode))},collapseAll:function(){function e(E){var G=g.filter(E.getChildren()||[],function(L){return L.isExpandable});G=l(g.map(G,e));return!E.isExpanded||E==f.rootNode&&!f.showRoot?G:G.then(function(){return f._collapseNode(E)})}
var f=this;return H(e(this.rootNode))},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(e){return this.model.getLabel(e)},getIconClass:function(e,f){return!e||this.model.mayHaveChildren(e)?f?"dijitFolderOpened":"dijitFolderClosed":"dijitLeaf"},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return""},_onDownArrow:function(e,f){(e=this._getNext(f))&&e.isTreeNode&&this.focusNode(e)},
_onUpArrow:function(e,f){if(e=f.getPreviousSibling())for(f=e;f.isExpandable&&f.isExpanded&&f.hasChildren();)f=f.getChildren(),f=f[f.length-1];else if(e=f.getParent(),this.showRoot||e!==this.rootNode)f=e;f&&f.isTreeNode&&this.focusNode(f)},_onRightArrow:function(e,f){f.isExpandable&&!f.isExpanded?this._expandNode(f):f.hasChildren()&&(f=f.getChildren()[0])&&f.isTreeNode&&this.focusNode(f)},_onLeftArrow:function(e,f){f.isExpandable&&f.isExpanded?this._collapseNode(f):(e=f.getParent())&&e.isTreeNode&&
(this.showRoot||e!==this.rootNode)&&this.focusNode(e)},focusLastChild:function(){var e=this._getLast();e&&e.isTreeNode&&this.focusNode(e)},_getFirst:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0]},_getLast:function(){for(var e=this.rootNode;e.isExpanded;){var f=e.getChildren();if(!f.length)break;e=f[f.length-1]}return e},_getNext:function(e){if(e.isExpandable&&e.isExpanded&&e.hasChildren())return e.getChildren()[0];for(;e&&e.isTreeNode;){var f=e.getNextSibling();if(f)return f;
e=e.getParent()}return null},childSelector:".dijitTreeRow",isExpandoNode:function(e,f){return m.isDescendant(e,f.expandoNode)||m.isDescendant(e,f.expandoNodeText)},_onNodePress:function(e,f){this.focusNode(e)},__click:function(e,f,E,G){var L=this.isExpandoNode(f.target,e);e.isExpandable&&(E||L)?this._onExpandoClick({node:e}):(this._publish("execute",{item:e.item,node:e,evt:f}),this[G](e.item,e,f),this.focusNode(e));f.stopPropagation();f.preventDefault()},_onClick:function(e,f){this.__click(e,f,this.openOnClick,
"onClick")},_onDblClick:function(e,f){this.__click(e,f,this.openOnDblClick,"onDblClick")},_onExpandoClick:function(e){e=e.node;this.focusNode(e);e.isExpanded?this._collapseNode(e):this._expandNode(e)},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(e){w.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.","","2.0");return this._getNext(e)},_getRootOrFirstNode:function(){w.deprecated(this.declaredClass+
"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","","2.0");return this._getFirst()},_collapseNode:function(e){e._expandNodeDeferred&&delete e._expandNodeDeferred;if("Loading"!=e.state&&e.isExpanded){var f=e.collapse();this.onClose(e.item,e);this._state(e,!1);this._startPaint(f);return f}},_expandNode:function(e){if(e._expandNodeDeferred)return e._expandNodeDeferred;var f=this.model,E=e.item,G=this;e._loadDeferred||(e.markProcessing(),e._loadDeferred=new k,f.getChildren(E,function(L){e.unmarkProcessing();
e.setChildItems(L).then(function(){e._loadDeferred.resolve(L)})},function(L){console.error(G,": error loading "+e.label+" children: ",L);e._loadDeferred.reject(L)}));f=e._loadDeferred.then(K.hitch(this,function(){var L=e.expand();this.onOpen(e.item,e);this._state(e,!0);return L}));this._startPaint(f);return f},focusNode:function(e){for(var f=[],E=this.domNode;E&&E.tagName&&"IFRAME"!==E.tagName.toUpperCase();E=E.parentNode)f.push({domNode:E.contentWindow||E,scrollLeft:E.scrollLeft||0,scrollTop:E.scrollTop||
0});this.focusChild(e);this.defer(function(){for(var G=0,L=f.length;G<L;G++)f[G].domNode.scrollLeft=f[G].scrollLeft,f[G].domNode.scrollTop=f[G].scrollTop},0)},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(e){var f=this.model.getIdentity(e);if(f=this._itemNodesMap[f]){var E=this.getLabel(e),G=this.getTooltip(e);g.forEach(f,function(L){L.set({item:e,label:E,tooltip:G});L._updateItemClasses(e)})}},_onItemChildrenChange:function(e,f){e=this.model.getIdentity(e);
(e=this._itemNodesMap[e])&&g.forEach(e,function(E){E.setChildItems(f)})},_onItemDelete:function(e){e=this.model.getIdentity(e);var f=this._itemNodesMap[e];f&&(g.forEach(f,function(E){this.dndController.removeTreeNode(E);var G=E.getParent();G&&G.removeChild(E);this.lastFocusedChild&&!m.isDescendant(this.lastFocusedChild.domNode,this.domNode)&&delete this.lastFocusedChild;this.focusedChild&&!m.isDescendant(this.focusedChild.domNode,this.domNode)&&this.focus();E.destroyRecursive()},this),delete this._itemNodesMap[e])},
_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var e=b(this.cookieName);e&&g.forEach(e.split(","),function(f){this._openedNodes[f]=!0},this)}},_state:function(e,f){if(!this.persist)return!1;var E=g.map(e.getTreePath(),function(G){return this.model.getIdentity(G)},this).join("/");if(1===arguments.length)return this._openedNodes[E];f?this._openedNodes[E]=!0:delete this._openedNodes[E];this._saveExpandedNodes()},_saveExpandedNodes:function(){if(this.persist&&this.cookieName){var e=
[],f;for(f in this._openedNodes)e.push(f);b(this.cookieName,e.join(","),{expires:365})}},destroy:function(){this._curSearch&&(this._curSearch.timer.remove(),delete this._curSearch);this.rootNode&&this.rootNode.destroyRecursive();this.dndController&&!K.isString(this.dndController)&&this.dndController.destroy();this.rootNode=null;this.inherited(arguments)},destroyRecursive:function(){this.destroy()},resize:function(e){e&&C.setMarginBox(this.domNode,e);this._nodePixelIndent=C.position(this.tree.indentDetector).w||
this._nodePixelIndent;this.expandChildrenDeferred.then(K.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths()}))},_outstandingPaintOperations:0,_startPaint:function(e){this._outstandingPaintOperations++;this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);var f=K.hitch(this,function(){this._outstandingPaintOperations--;0>=this._outstandingPaintOperations&&!this._adjustWidthsTimer&&this._started&&(this._adjustWidthsTimer=this.defer("_adjustWidths"))});
n(e,f,f)},_adjustWidths:function(){this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);this.containerNode.style.width="auto";this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%"},_createTreeNode:function(e){return new W(e)},focus:function(){this.lastFocusedChild?this.focusNode(this.lastFocusedChild):this.focusFirstChild()}});p("dojo-bidi")&&Y.extend({_setTextDirAttr:function(e){e&&this.textDir!=e&&(this._set("textDir",
e),this.rootNode.set("textDir",e))}});Y.PathError=D("TreePathError");Y._TreeNode=W;return Y})},"dijit/tree/TreeStoreModel":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(g,a,b,d){return b("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:!1,constructor:function(k){d.mixin(this,k);this.connects=[];k=this.store;if(!k.getFeatures()["dojo.data.api.Identity"])throw Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");
k.getFeatures()["dojo.data.api.Notification"]&&(this.connects=this.connects.concat([a.after(k,"onNew",d.hitch(this,"onNewItem"),!0),a.after(k,"onDelete",d.hitch(this,"onDeleteItem"),!0),a.after(k,"onSet",d.hitch(this,"onSetItem"),!0)]))},destroy:function(){for(var k;k=this.connects.pop();)k.remove()},getRoot:function(k,l){this.root?k(this.root):this.store.fetch({query:this.query,onComplete:d.hitch(this,function(m){if(1!=m.length)throw Error("dijit.tree.TreeStoreModel: root query returned "+m.length+
" items, but must return exactly one");this.root=m[0];k(this.root)}),onError:l})},mayHaveChildren:function(k){return g.some(this.childrenAttrs,function(l){return this.store.hasAttribute(k,l)},this)},getChildren:function(k,l,m){var t=this.store;if(t.isItemLoaded(k)){for(var C=[],B=0;B<this.childrenAttrs.length;B++){var D=t.getValues(k,this.childrenAttrs[B]);C=C.concat(D)}var q=0;this.deferItemLoadingUntilExpand||g.forEach(C,function(w){t.isItemLoaded(w)||q++});0==q?l(C):g.forEach(C,function(w,J){t.isItemLoaded(w)||
t.loadItem({item:w,onItem:function(K){C[J]=K;0==--q&&l(C)},onError:m})})}else{var p=d.hitch(this,arguments.callee);t.loadItem({item:k,onItem:function(w){p(w,l,m)},onError:m})}},isItem:function(k){return this.store.isItem(k)},fetchItemByIdentity:function(k){this.store.fetchItemByIdentity(k)},getIdentity:function(k){return this.store.getIdentity(k)},getLabel:function(k){return this.labelAttr?this.store.getValue(k,this.labelAttr):this.store.getLabel(k)},newItem:function(k,l,m){var t={parent:l,attribute:this.childrenAttrs[0]},
C;this.newItemIdAttr&&k[this.newItemIdAttr]?this.fetchItemByIdentity({identity:k[this.newItemIdAttr],scope:this,onItem:function(B){B?this.pasteItem(B,null,l,!0,m):(C=this.store.newItem(k,t))&&void 0!=m&&this.pasteItem(C,l,l,!1,m)}}):(C=this.store.newItem(k,t))&&void 0!=m&&this.pasteItem(C,l,l,!1,m)},pasteItem:function(k,l,m,t,C){var B=this.store,D=this.childrenAttrs[0];l&&g.forEach(this.childrenAttrs,function(p){if(B.containsValue(l,p,k)){if(!t){var w=g.filter(B.getValues(l,p),function(J){return J!=
k});B.setValues(l,p,w)}D=p}});if(m)if("number"==typeof C){var q=B.getValues(m,D).slice();q.splice(C,0,k);B.setValues(m,D,q)}else B.setValues(m,D,B.getValues(m,D).concat(k))},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(k,l){l&&this.getChildren(l.item,d.hitch(this,function(m){this.onChildrenChange(l.item,m)}))},onDeleteItem:function(k){this.onDelete(k)},onSetItem:function(k,l){if(-1!=g.indexOf(this.childrenAttrs,l))this.getChildren(k,d.hitch(this,function(m){this.onChildrenChange(k,
m)}));else this.onChange(k)}})})},"dijit/tree/ForestStoreModel":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(g,a,b,d,k){return a("dijit.tree.ForestStoreModel",k,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(l){this.root={store:this,root:!0,id:l.rootId,label:l.rootLabel,children:l.rootChildren}},mayHaveChildren:function(l){return l===this.root||this.inherited(arguments)},getChildren:function(l,m,t){l===
this.root?this.root.children?m(this.root.children):this.store.fetch({query:this.query,onComplete:d.hitch(this,function(C){this.root.children=C;m(C)}),onError:t}):this.inherited(arguments)},isItem:function(l){return l===this.root?!0:this.inherited(arguments)},fetchItemByIdentity:function(l){if(l.identity==this.root.id){var m=l.scope||b.global;l.onItem&&l.onItem.call(m,this.root)}else this.inherited(arguments)},getIdentity:function(l){return l===this.root?this.root.id:this.inherited(arguments)},getLabel:function(l){return l===
this.root?this.root.label:this.inherited(arguments)},newItem:function(l,m,t){return m===this.root?(this.onNewRootItem(l),this.store.newItem(l)):this.inherited(arguments)},onNewRootItem:function(){},pasteItem:function(l,m,t,C,B){if(m===this.root&&!C)this.onLeaveRoot(l);this.inherited(arguments,[l,m===this.root?null:m,t===this.root?null:t,C,B]);if(t===this.root)this.onAddToRoot(l)},onAddToRoot:function(l){console.log(this,": item ",l," added to root")},onLeaveRoot:function(l){console.log(this,": item ",
l," removed from root")},_requeryTop:function(){var l=this.root.children||[];this.store.fetch({query:this.query,onComplete:d.hitch(this,function(m){this.root.children=m;if(l.length!=m.length||g.some(l,function(t,C){return m[C]!=t}))this.onChildrenChange(this.root,m)})})},onNewItem:function(l,m){this._requeryTop();this.inherited(arguments)},onDeleteItem:function(l){-1!=g.indexOf(this.root.children,l)&&this._requeryTop();this.inherited(arguments)},onSetItem:function(l,m,t,C){this._requeryTop();this.inherited(arguments)}})})},
"dijit/tree/_dndSelector":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/dnd/common dojo/dom dojo/mouse dojo/on dojo/touch ../a11yclick ./_dndContainer".split(" "),function(g,a,b,d,k,l,m,t,C,B,D){return a("dijit.tree._dndSelector",D,{constructor:function(){this.selection={};this.anchor=null;this.events.push(t(this.tree.domNode,C.press,d.hitch(this,"onMouseDown")),t(this.tree.domNode,C.release,d.hitch(this,"onMouseUp")),t(this.tree.domNode,C.move,d.hitch(this,
"onMouseMove")),t(this.tree.domNode,B.press,d.hitch(this,"onClickPress")),t(this.tree.domNode,B.release,d.hitch(this,"onClickRelease")))},singular:!1,getSelectedTreeNodes:function(){var q=[],p=this.selection,w;for(w in p)q.push(p[w]);return q},selectNone:function(){this.setSelection([]);return this},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null},addTreeNode:function(q,p){this.setSelection(this.getSelectedTreeNodes().concat([q]));p&&(this.anchor=q);return q},removeTreeNode:function(q){var p=
g.filter(this.getSelectedTreeNodes(),function(w){return!l.isDescendant(w.domNode,q.domNode)});this.setSelection(p);return q},isTreeNodeSelected:function(q){return q.id&&!!this.selection[q.id]},setSelection:function(q){var p=this.getSelectedTreeNodes();g.forEach(this._setDifference(p,q),d.hitch(this,function(w){w.setSelected(!1);this.anchor==w&&delete this.anchor;delete this.selection[w.id]}));g.forEach(this._setDifference(q,p),d.hitch(this,function(w){w.setSelected(!0);this.selection[w.id]=w}));this._updateSelectionProperties()},
_setDifference:function(q,p){g.forEach(p,function(w){w.__exclude__=!0});q=g.filter(q,function(w){return!w.__exclude__});g.forEach(p,function(w){delete w.__exclude__});return q},_updateSelectionProperties:function(){var q=this.getSelectedTreeNodes(),p=[],w=[];g.forEach(q,function(J){var K=J.getTreePath();w.push(J);p.push(K)},this);q=g.map(w,function(J){return J.item});this.tree._set("paths",p);this.tree._set("path",p[0]||[]);this.tree._set("selectedNodes",w);this.tree._set("selectedNode",w[0]||null);
this.tree._set("selectedItems",q);this.tree._set("selectedItem",q[0]||null)},onClickPress:function(q){if(!(this.current&&this.current.isExpandable&&this.tree.isExpandoNode(q.target,this.current))){"mousedown"==q.type&&m.isLeft(q)&&q.preventDefault();var p="keydown"==q.type?this.tree.focusedChild:this.current;if(p){var w=k.getCopyKeyState(q),J=p.id;this.singular||q.shiftKey||!this.selection[J]?(this._doDeselect=!1,this.userSelect(p,w,q.shiftKey)):this._doDeselect=!0}}},onClickRelease:function(q){this._doDeselect&&
(this._doDeselect=!1,this.userSelect("keyup"==q.type?this.tree.focusedChild:this.current,k.getCopyKeyState(q),q.shiftKey))},onMouseMove:function(){this._doDeselect=!1},onMouseDown:function(){},onMouseUp:function(){},_compareNodes:function(q,p){if(q===p)return 0;if("sourceIndex"in document.documentElement)return q.sourceIndex-p.sourceIndex;if("compareDocumentPosition"in document.documentElement)return q.compareDocumentPosition(p)&2?1:-1;if(document.createRange){var w=doc.createRange();w.setStartBefore(q);
q=doc.createRange();q.setStartBefore(p);return w.compareBoundaryPoints(w.END_TO_END,q)}throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");},userSelect:function(q,p,w){if(this.singular)this.anchor==q&&p?this.selectNone():(this.setSelection([q]),this.anchor=q);else if(w&&this.anchor){p=this._compareNodes(this.anchor.rowNode,q.rowNode);w=this.anchor;0>p?p=w:(p=q,q=w);for(w=[];p!=q;)w.push(p),p=this.tree._getNext(p);w.push(q);this.setSelection(w)}else this.selection[q.id]&&
p?this.removeTreeNode(q):p?this.addTreeNode(q,!0):(this.setSelection([q]),this.anchor=q)},getItem:function(q){return{data:this.selection[q],type:["treeNode"]}},forInSelectedItems:function(q,p){p=p||b.global;for(var w in this.selection)q.call(p,this.getItem(w),w,this)}})})},"dijit/tree/_dndContainer":function(){define("dojo/aspect dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/on dojo/touch".split(" "),function(g,a,b,d,k,l){return a("dijit.tree._dndContainer",null,{constructor:function(m,t){this.tree=
m;this.node=m.domNode;d.mixin(this,t);this.containerState="";b.add(this.node,"dojoDndContainer");this.events=[k(this.node,l.enter,d.hitch(this,"onOverEvent")),k(this.node,l.leave,d.hitch(this,"onOutEvent")),g.after(this.tree,"_onNodeMouseEnter",d.hitch(this,"onMouseOver"),!0),g.after(this.tree,"_onNodeMouseLeave",d.hitch(this,"onMouseOut"),!0),k(this.node,"dragstart, selectstart",function(C){C.preventDefault()})]},destroy:function(){for(var m;m=this.events.pop();)m.remove();this.node=this.parent=
null},onMouseOver:function(m){this.current=m},onMouseOut:function(){this.current=null},_changeState:function(m,t){var C="dojoDnd"+m;m=m.toLowerCase()+"State";b.replace(this.node,C+t,C+this[m]);this[m]=t},_addItemClass:function(m,t){b.add(m,"dojoDndItem"+t)},_removeItemClass:function(m,t){b.remove(m,"dojoDndItem"+t)},onOverEvent:function(){this._changeState("Container","Over")},onOutEvent:function(){this._changeState("Container","")}})})},"jimu/dijit/LayerChooserFromMapWithDropbox":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/html dojo/on dojo/keys dojo/Evented dojo/Deferred dijit/popup dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/LayerChooserFromMapWithDropbox.html jimu/LayerInfos/LayerInfos".split(" "),
function(g,a,b,d,k,l,m,t,C,B,D,q){return g([C,B,l],{templateString:D,baseClass:"jimu-layer-chooser-from-map-withdropbox",declaredClass:"jimu.dijit.LayerChooserFromMapWithDropbox",_selectedItem:null,_isLayerChooserShow:!1,layerInfosObj:null,layerChooser:null,customClass:"",postMixInProperties:function(){this.inherited(arguments);this.nls=window.jimuNls.queryableLayerSource;this.nls.customSelectLayer=this.label?this.label:this.nls.selectLayer},postCreate:function(){this.inherited(arguments);this.layerInfosObj=
q.getInstanceSync();this.layerChooser.domNode.style.zIndex=1;this.layerChooser.tree.domNode.style.borderTop="0";this.layerChooser.tree.domNode.style.maxHeight="290px";this.own(d(this.layerChooser,"tree-click",a.hitch(this,this._onTreeClick)));this.own(d(this.layerChooser,"update",a.hitch(this,this._onLayerChooserUpdate)));this.own(d(document.body,"click",a.hitch(this,this._onBodyClicked)));this.own(d(document.body,"keydown",a.hitch(this,function(p){p.keyCode===k.ENTER&&this._onBodyClicked(p)})));
this.own(d(this.layerChooser.domNode,"keydown",a.hitch(this,function(p){p.keyCode===k.ESCAPE&&this.hideLayerChooser()})))},destroy:function(){this.hideLayerChooser();this.layerChooser&&this.layerChooser.destroy();this.layerChooser=null;this.inherited(arguments)},getLayerChooser:function(){return this.layerChooser},setSelectedLayer:function(p){var w=new m;if(p){var J=this.layerInfosObj.getLayerOrTableInfoById(p.id);J?this.layerChooser.filter(J).then(a.hitch(this,function(K){K?(this._onSelectNewItem({layerInfo:J,
name:J.title,url:p.url}),w.resolve(!0)):w.resolve(!1)}),a.hitch(this,function(){w.resolve(!1)})):w.resolve(!1)}else this._onSelectNewItem(null),w.resolve(!0);return w},getSelectedItem:function(){return this._selectedItem},getSelectedItems:function(){return[this._selectedItem]},_onBodyClicked:function(p){p=p.target||p.srcElement;p===this.domNode||b.isDescendant(p,this.domNode)||p===this.layerChooser.domNode||b.isDescendant(p,this.layerChooser.domNode)||this.hideLayerChooser()},_onDropDownClick:function(p){p.stopPropagation();
p.preventDefault();this._isLayerChooserShow?this.hideLayerChooser():(this.isActive=!0,this.showLayerChooser())},_onDropDownKeydown:function(p){p.keyCode===k.ENTER&&this._onDropDownClick(p)},_getSelectedItems:function(){return this.layerChooser.getSelectedItems()},showLayerChooser:function(){this.layerChooser.domNode.style.minWidth=this.domNode.clientWidth+2+"px";t.open({parent:this,popup:this.layerChooser,around:this.domNode});var p=this.layerChooser.domNode.parentNode;p&&(b.addClass(p,"jimu-layer-chooser-from-map-withdropbox-popup"),
this.customClass&&b.addClass(p,this.customClass),this.layerChooser.tree.domNode.focus());this._isLayerChooserShow=!0},hideLayerChooser:function(){t.close(this.layerChooser);this._isLayerChooserShow=!1;this.isActive&&(this.dropDownBtn.focus(),this.isActive=!1)},_onLayerChooserUpdate:function(){this._selectedItem&&this.layerChooser.onlyShowVisible&&!this._selectedItem.layerInfo.isShowInMap()&&(this._selectedItem=null,this.emit("selection-change",[]))},_onSelectNewItem:function(p){var w=a.getObject("layerInfo.id",
!1,this._selectedItem)||-1,J=a.getObject("layerInfo.id",!1,p)||-1;w=w!==J;this._selectedItem=p;this.hideLayerChooser();p=a.getObject("layerInfo.title",!1,this._selectedItem)||"";this.layerNameNode.innerHTML=p;b.setAttr(this.layerNameNode,"title",p);p=a.getObject("layerInfo.layerObject",!1,this._selectedItem);w&&this.emit("selection-change",[p])},_onTreeClick:function(){var p=this._getSelectedItems();this._onSelectNewItem(0<p.length?p[0]:null)}})})},"widgets/ParcelDrafter/layerUtils":function(){define(["dojo/_base/declare",
"dijit/_WidgetBase","dojo/_base/array","dojo/_base/lang"],function(g,a,b,d){return g([a],{map:null,getPopupInfo:!0,getRenderer:!0,postCreate:function(){},getLayerDetailsFromMap:function(k,l,m){var t={},C;this.map&&this.map.webMapResponse&&this.map.webMapResponse.itemInfo&&this.map.webMapResponse.itemInfo.itemData&&this.map.webMapResponse.itemInfo.itemData.operationalLayers&&b.forEach(this.map.webMapResponse.itemInfo.itemData.operationalLayers,d.hitch(this,function(B){B.layerObject&&("ArcGISMapServiceLayer"===
B.layerType||"ArcGISTiledMapServiceLayer"===B.layerType?(C=m&&m.substring(0,m.lastIndexOf("_")),C&&B.id!==C||(t.isMapServer=!0,k.substring(0,k.length-1)===B.url&&(b.forEach(B.resourceInfo.layers,d.hitch(this,function(D){D.id===parseInt(l,10)&&(t.title=D.name)})),b.forEach(B.layers,d.hitch(this,function(D){D.id===parseInt(l,10)&&(D.name&&(t.title=D.name),this.getPopupInfo&&(t.popupInfo=D.popupInfo),D.layerDefinition&&(D.layerDefinition.definitionExpression&&(t.definitionExpression=D.layerDefinition.definitionExpression),
this.getRenderer&&D.layerDefinition.drawingInfo&&D.layerDefinition.drawingInfo.renderer&&(t.renderer=D.layerDefinition.drawingInfo.renderer)))}))))):m&&B.id!==m||B.url.replace(/.*?:\/\//g,"").toLowerCase()!==(k+l).replace(/.*?:\/\//g,"").toLowerCase()||B.id!==m||(t.isMapServer=!1,t.title=B.title,this.getPopupInfo&&(t.popupInfo=B.popupInfo),B.layerDefinition&&(B.layerDefinition.definitionExpression&&(t.definitionExpression=B.layerDefinition.definitionExpression),this.getRenderer&&B.layerDefinition.drawingInfo&&
B.layerDefinition.drawingInfo.renderer&&(t.renderer=B.layerDefinition.drawingInfo.renderer))))}));return t}})})},"widgets/ParcelDrafter/utils":function(){define([],function(){var g={bearingFieldPlaces:2,planSettingsOptions:{directionOrAngleType:["northAzimuth","southAzimuth","quadrantBearing"],directionOrAngleUnits:["decimalDegree","degreeMinuteSeconds"],distanceAndLengthUnits:["uSSurveyFeet","feet","meters"],areaUnits:["squareUSSurveyFeet","squareFeet","acres","squareMeters"],circularCurveParameters:["radiusAndChordLength",
"radiusAndArcLength"]},getQuadrant:function(a){return{"-1":"NE","-2":"SE","-3":"SW","-4":"NW"}[a]},getQuadrantShortcut:function(a){a=a.toUpperCase();return{NE:"-1",SE:"-2",SW:"-3",NW:"-4"}[a]},getQuadrantShortcutFromDD:function(a){var b;0<=a&&90>=a?b="-1":90<a&&180>=a?b="-2":180<a&&270>a?b="-3":270<=a&&360>a&&(b="-4");return b},getQuadrantAngleFromNADD:function(a){a=g.getQuadrantAngleAndShortcut(a);return a.quadrant.charAt(0)+a.quadrantAngle+a.quadrant.charAt(1)},getSouthAzimuthFromNorthAzimuth:function(a){var b;
180<a?b=a-180:180>a?b=a+180:180===a&&(b=0);return b},DMStoDD:function(a){var b=Math.abs(parseFloat(a.degree));var d=parseFloat(a.minutes);var k=parseFloat(a.seconds);b=b+d/60+k/3600;a.isNegative&&(b*=-1);return b},DDtoDMS:function(a){var b=3600*a.angle;a=Math.round(b%60);a=60==a?0:a;var d=(b-a)/60;b=Math.round(d%60);b=60==b?0:b;return{degree:Math.round((d-b)/60),minutes:b,seconds:a}},getBearingObjForFormat0:function(a){var b;var d={};d.degree=parseInt(a[1],10);d.minutes=parseInt(a[2]||0,10);d.seconds=
parseInt(a[3]||0,10);d.quadrant=g.getQuadrant("-"+a[4]);d.quadrantShortcut="-"+a[4];"string"===typeof a[1]&&(b="-"===a[1].charAt(0));d.decimalDegrees=g.DMStoDD({degree:d.degree,minutes:d.minutes,seconds:d.seconds,isNegative:b});return d},getBearingObjForFormat1:function(a){var b;var d={};d.degree=parseInt(a[2],10);d.minutes=parseInt(a[3]||0,10);d.seconds=parseInt(a[4]||0,10);d.quadrant=a[1]+a[5];d.quadrantShortcut=g.getQuadrantShortcut(a[1]+a[5]);"string"===typeof a[2]&&(b="-"===a[2].charAt(0));d.decimalDegrees=
g.DMStoDD({degree:d.degree,minutes:d.minutes,seconds:d.seconds,isNegative:b});return d},getBearingObjForFormat2:function(a){var b;var d={};d.degree=parseInt(a[2],10);d.minutes=parseInt(a[3]||0,10);d.seconds=parseInt(a[4]||0,10);d.quadrant=a[1]+a[5];d.quadrantShortcut=g.getQuadrantShortcut(a[1]+a[5]);"string"===typeof a[2]&&(b="-"===a[2].charAt(0));d.decimalDegrees=g.DMStoDD({degree:d.degree,minutes:d.minutes,seconds:d.seconds,isNegative:b});return d},getBearingObjForFormat3:function(a){var b;var d=
{};d.degree=parseInt(a[1],10);d.minutes=parseInt(a[2]||0,10);d.seconds=parseInt(a[3]||0,10);"string"===typeof a[1]&&(b="-"===a[1].charAt(0));d.decimalDegrees=g.DMStoDD({degree:d.degree,minutes:d.minutes,seconds:d.seconds,isNegative:b});d.quadrantShortcut=g.getQuadrantShortcutFromDD(d.decimalDegrees);d.quadrant=g.getQuadrant(d.quadrantShortcut);return d},getBearingObjForFormat4:function(a){var b=g.DDtoDMS({angle:a[1]});var d={};d.degree=b.degree;d.minutes=b.minutes;d.seconds=b.seconds;d.decimalDegrees=
a[1];d.quadrantShortcut=g.getQuadrantShortcutFromDD(d.decimalDegrees);d.quadrant=g.getQuadrant(d.quadrantShortcut);return d},getBearingObjForFormat5:function(a){var b;var d={};d.degree=parseInt(a[1],10);d.minutes=parseInt(a[2]||0,10);d.seconds=parseInt(a[3]||0,10);"string"===typeof a[1]&&(b="-"===a[1].charAt(0));d.decimalDegrees=g.DMStoDD({degree:d.degree,minutes:d.minutes,seconds:d.seconds,isNegative:b});d.quadrantShortcut=g.getQuadrantShortcutFromDD(d.decimalDegrees);d.quadrant=g.getQuadrant(d.quadrantShortcut);
return d},getBearingObjForFormat6:function(a){var b;var d={};d.degree=parseInt(a[1],10);d.minutes=parseInt(a[2]||0,10);d.seconds=parseInt(a[3]||0,10);d.quadrantShortcut=a[4];d.quadrant=g.getQuadrant(d.quadrantShortcut);"string"===typeof a[1]&&(b="-"===a[1].charAt(0));d.decimalDegrees=g.DMStoDD({degree:d.degree,minutes:d.minutes,seconds:d.seconds,isNegative:b});return d},getBearingObjForFormat7:function(a){var b={};b.decimalDegrees=a[2];var d=g.DDtoDMS({angle:b.decimalDegrees});b.degree=parseInt(d.degree,
10);b.minutes=parseInt(d.minutes||0,10);b.seconds=parseInt(d.seconds||0,10);b.quadrant=a[1]+a[3];b.quadrantShortcut=g.getQuadrantShortcut(b.quadrant);return b},getBearingObjForFormat8:function(a){var b={};b.decimalDegrees=a[1];var d=g.DDtoDMS({angle:b.decimalDegrees});b.degree=parseInt(d.degree,10);b.minutes=parseInt(d.minutes||0,10);b.seconds=parseInt(d.seconds||0,10);b.quadrantShortcut=a[2];b.quadrant=g.getQuadrant(b.quadrantShortcut);return b},getQuadrantAngleAndShortcut:function(a){var b={};0<=
a&&90>=a?(b.quadrantAngle=a,b.quadrant="NE"):90<a&&180>=a?(b.quadrantAngle=180-a,b.quadrant="SE"):180<a&&270>a?(b.quadrantAngle=a-180,b.quadrant="SW"):270<=a&&360>a&&(b.quadrantAngle=360-a,b.quadrant="NW");return b},roundSeconds:function(a){a=Number(a);return 10>a?"0"+a:a},showFixedPlacesAfterDecimal:function(a,b){var d=0;b||(b=2);a=a.toString();d=a.indexOf(".");0<d&&(a=a.slice(0,d+b+1));return Number(a)},honourPopupRounding:function(a,b){if(isNaN(a)||null===a)a=4;var d=Math.pow(10,a);b=Math.round(b*
d)/d;return b=b.toFixed(a)},convertBearingToOutputFormats:function(a){var b={};var d={};360===a.degree&&(a.degree=0);b=a.decimalDegrees;360===b&&(b=0);d.naDD=b;d.naDDRound=g.honourPopupRounding(g.bearingFieldPlaces,b);360===Number(d.naDDRound)&&(d.naDDRound=0);var k=10>a.minutes?"0"+a.minutes:a.minutes;var l=a.seconds;0<Number(k)&&0<Number(g.roundSeconds(l))?d.naDMS=a.degree+"-"+k+"-"+g.roundSeconds(l):0===Number(k)&&0<Number(g.roundSeconds(l))?d.naDMS=a.degree+"-"+k+"-"+g.roundSeconds(l):0<Number(k)&&
0===Number(g.roundSeconds(l))?d.naDMS=a.degree+"-"+k+"-00":0===Number(k)&&0===Number(g.roundSeconds(l))&&(d.naDMS=a.degree+"-00-00");a=g.getQuadrantAngleAndShortcut(b);d.qb3DD=a.quadrant.charAt(0)+a.quadrantAngle+a.quadrant.charAt(1);d.qb3DDRound=a.quadrant.charAt(0)+g.honourPopupRounding(g.bearingFieldPlaces,a.quadrantAngle)+a.quadrant.charAt(1);k=g.DDtoDMS({angle:a.quadrantAngle});l=10>k.minutes?"0"+k.minutes:k.minutes;var m=k.seconds;0<Number(l)&&0<Number(g.roundSeconds(m))?d.qb3DMS=a.quadrant.charAt(0)+
k.degree+"-"+l+"-"+g.roundSeconds(m)+a.quadrant.charAt(1):0===Number(l)&&0<Number(g.roundSeconds(m))?d.qb3DMS=a.quadrant.charAt(0)+k.degree+"-"+l+"-"+g.roundSeconds(m)+a.quadrant.charAt(1):0<Number(l)&&0===Number(g.roundSeconds(m))?d.qb3DMS=a.quadrant.charAt(0)+k.degree+"-"+l+"-00"+a.quadrant.charAt(1):0===Number(l)&&0===Number(g.roundSeconds(m))&&(d.qb3DMS=a.quadrant.charAt(0)+k.degree+"-00-00"+a.quadrant.charAt(1));b=g.getSouthAzimuthFromNorthAzimuth(b);360===b&&(b=0);d.saDD=b;d.saDDRound=g.honourPopupRounding(g.bearingFieldPlaces,
b);360===Number(d.saDDRound)&&(d.saDDRound=0);b=g.DDtoDMS({angle:b});360===b.degree&&(b.degree=0);a=10>b.minutes?"0"+b.minutes:b.minutes;k=b.seconds;0<Number(a)&&0<Number(g.roundSeconds(k))?d.saDMS=b.degree+"-"+a+"-"+g.roundSeconds(k):0===Number(a)&&0<Number(g.roundSeconds(k))?d.saDMS=b.degree+"-"+a+"-"+g.roundSeconds(k):0<Number(a)&&0===Number(g.roundSeconds(k))?d.saDMS=b.degree+"-"+a+"-00":0===Number(a)&&0===Number(g.roundSeconds(k))&&(d.saDMS=b.degree+"-00-00");return d},getBearingDetailsOfRequiredFormat:function(a,
b){var d={};switch(b){case 0:d=g.getBearingObjForFormat0(a);break;case 1:d=g.getBearingObjForFormat1(a);break;case 2:d=g.getBearingObjForFormat2(a);break;case 3:d=g.getBearingObjForFormat3(a);break;case 4:d=g.getBearingObjForFormat4(a);break;case 5:d=g.getBearingObjForFormat5(a);break;case 6:d=g.getBearingObjForFormat6(a);break;case 7:d=g.getBearingObjForFormat7(a);break;case 8:d=g.getBearingObjForFormat8(a)}return g.convertBearingToOutputFormats(d)},getBearingFormatArr:function(){var a=[];a.push({regex:/^((?:\-)?(?:3[0-5]\d|[12]\d{2}|[0-9]\d?|0))(?:\-(0|[0-5]?\d)\-(0|[0-5]\d))?\-([1-4])$/,
type:"degreeMinuteSeconds"});a.push({regex:/^([nNsS])((?:\-)?(?:3[0-5]\d|[12]\d{2}|[0-9]\d?|0))(?:\-(0|[0-5]?\d)\-(0|[0-5]\d))?([eEwW])$/,type:"degreeMinuteSeconds"});a.push({regex:/^([nNsS])((?:\-)?(?:3[0-5]\d|[12]\d{2}|[0-9]\d?|0))(?:\.([0-5]\d)(?:([0-5]\d))?)?([eEwW])$/,type:"degreeMinuteSeconds"});a.push({regex:/^((?:\-)?(?:3[0-5]\d|[12]\d{2}|[0-9]\d?|0))(?:\.([0-5]\d)(?:([0-5]\d))?)?$/,type:"degreeMinuteSeconds"});a.push({regex:/^((?:(?:\-?)(?:3[0-5]\d|[12]\d{2}|[0-9]\d?|0)(?:\.\d+)?)|(?:\-?)(?:\.\d+))$/,
type:"decimalDegree"});a.push({regex:/^((?:\-)?(?:3[0-5]\d|[12]\d{2}|[0-9]\d?|0))(?:\-(0|[0-5]?\d)\-((?:[0-5]\d)))?$/,type:"degreeMinuteSeconds"});a.push({regex:/^((?:\-)?(?:3[0-5]\d|[12]\d{2}|[0-9]\d?|0))(?:\.([0-5]\d)(?:([0-5]\d))?)?(\-[1-4])$/,type:"degreeMinuteSeconds"});a.push({regex:/^([nNsS])((?:(?:\-?)(?:3[0-5]\d|[12]\d{2}|[0-9]\d?|0)(?:\.\d+)?)|(?:\-?)(?:\.\d+))([eEwW])$/,type:"decimalDegree"});a.push({regex:/^((?:(?:\-?)(?:3[0-5]\d|[12]\d{2}|[0-9]\d?|0)(?:\.\d+)?)|(?:\-?)(?:\.\d+))(\-[1-4])$/,
type:"decimalDegree"});return a},getNorthAzimuthAngle:function(a,b){b=b.toUpperCase();a=Number(a);switch(b){case "-1":case "NE":return(a+360)%360;case "-2":case "SE":return(540-a)%360;case "-3":case "SW":return(540+a)%360;case "-4":case "NW":return(360-a)%360}},convertBearingToNorthAzimuth:function(a,b,d){switch(b){case 0:b=g.getBearingObjForFormat0(a);b=g.getNorthAzimuthAngle(b.decimalDegrees,"-"+a[4]);b=g.DDtoDMS({angle:b});a[1]=b.degree;a[2]=b.minutes;a[3]=b.seconds;break;case 1:b=g.getBearingObjForFormat1(a);
b=g.getNorthAzimuthAngle(b.decimalDegrees,a[1]+a[5]);b=g.DDtoDMS({angle:b});a[2]=b.degree;a[3]=b.minutes;a[4]=b.seconds;break;case 2:b=g.getBearingObjForFormat2(a);b=g.getNorthAzimuthAngle(b.decimalDegrees,a[1]+a[5]);b=g.DDtoDMS({angle:b});a[2]=b.degree;a[3]=b.minutes;a[4]=b.seconds;break;case 3:"northAzimuth"===d.directionOrAngleType||"quadrantBearing"===d.directionOrAngleType?(b=g.getBearingObjForFormat3(a),b=g.getNorthAzimuthAngle(b.decimalDegrees,"-1"),b=g.DDtoDMS({angle:b}),a[1]=b.degree,a[2]=
b.minutes,a[3]=b.seconds):"southAzimuth"===d.directionOrAngleType&&(b=g.getBearingObjForFormat3(a),b=g.getNorthAzimuthAngle(b.decimalDegrees,"-3"),b=g.DDtoDMS({angle:b}),a[1]=b.degree,a[2]=b.minutes,a[3]=b.seconds);break;case 4:"northAzimuth"===d.directionOrAngleType||"quadrantBearing"===d.directionOrAngleType?a[1]=g.getNorthAzimuthAngle(a[1],"-1"):"southAzimuth"===d.directionOrAngleType&&(a[1]=g.getNorthAzimuthAngle(a[1],"-3"));break;case 5:"northAzimuth"===d.directionOrAngleType?(b=g.getBearingObjForFormat5(a),
b=g.getNorthAzimuthAngle(b.decimalDegrees,"-1"),b=g.DDtoDMS({angle:b}),a[1]=b.degree,a[2]=b.minutes,a[3]=b.seconds):"southAzimuth"===d.directionOrAngleType?(b=g.getBearingObjForFormat5(a),b=g.getNorthAzimuthAngle(b.decimalDegrees,"-3"),b=g.DDtoDMS({angle:b}),a[1]=b.degree,a[2]=b.minutes,a[3]=b.seconds):"quadrantBearing"===d.directionOrAngleType&&(a=null);break;case 6:b=g.getBearingObjForFormat6(a);b=g.getNorthAzimuthAngle(b.decimalDegrees,a[4]);b=g.DDtoDMS({angle:b});a[1]=b.degree;a[2]=b.minutes;
a[3]=b.seconds;break;case 7:a[2]=g.getNorthAzimuthAngle(a[2],a[1]+a[3]);break;case 8:a[1]=g.getNorthAzimuthAngle(a[1],a[2])}return a},categorizeBearingFormat:function(a,b){var d,k;a=a.toString();var l=g.getBearingFormatArr();for(k=0;k<l.length;k++)if(l[k].type===b.directionOrAngleUnits&&(d=l[k].regex.exec(a.trim()))&&0<d.length){d=g.convertBearingToNorthAzimuth(d,k,b);break}if(!d)for(k=0;k<l.length;k++)if(l[k].type!==b.directionOrAngleUnits&&(d=l[k].regex.exec(a.trim()))&&0<d.length){d=g.convertBearingToNorthAzimuth(d,
k,b);break}return d?g.getBearingDetailsOfRequiredFormat(d,k):null},metersToUSSurveyFeet:function(a){a=Number(a);return 3.28083333333*a},usSurveyFeetToMeters:function(a){a=Number(a);return.304800609601*a},feetToUSSurveyFeet:function(a){a=Number(a);return g.metersToUSSurveyFeet(.3048*a)},feetToMeters:function(a){a=Number(a);return.3048*a},usSurveyFeetToFeet:function(a){a=Number(a);return 1.000001999999281*a},metersToFeet:function(a){a=Number(a);return 3.280839895*a},getLengthObjForFormat0:function(a,
b){var d={};"feet"===b?(d.feet=Number(a[0]),d.feetRound=Math.round(1E4*d.feet)/1E4,d.uSSurveyFeet=g.feetToUSSurveyFeet(a[0]),d.uSSurveyFeetRound=Math.round(1E4*d.uSSurveyFeet)/1E4,d.meters=g.feetToMeters(a[0]),d.metersRound=Math.round(1E4*d.meters)/1E4):"uSSurveyFeet"===b?(d.uSSurveyFeet=Number(a[0]),d.uSSurveyFeetRound=Math.round(1E4*d.uSSurveyFeet)/1E4,d.meters=g.usSurveyFeetToMeters(a[0]),d.metersRound=Math.round(1E4*d.meters)/1E4,d.feet=g.usSurveyFeetToFeet(d.uSSurveyFeet),d.feetRound=Math.round(1E4*
d.feet)/1E4):"meters"===b&&(d.uSSurveyFeet=g.metersToUSSurveyFeet(a[0]),d.uSSurveyFeetRound=Math.round(1E4*d.uSSurveyFeet)/1E4,d.meters=Number(a[0]),d.metersRound=Math.round(1E4*d.meters)/1E4,d.feet=g.metersToFeet(d.meters),d.feetRound=Math.round(1E4*d.feet)/1E4);return d},getLengthObjForFormat3:function(a){var b={};b.uSSurveyFeet=Number(a[2]);b.uSSurveyFeetRound=Math.round(1E4*b.uSSurveyFeet)/1E4;b.meters=g.usSurveyFeetToMeters(a[2]);b.metersRound=Math.round(1E4*b.meters)/1E4;b.feet=g.usSurveyFeetToFeet(b.uSSurveyFeet);
b.feetRound=Math.round(1E4*b.feet)/1E4;return b},getLengthObjForFormat2:function(a){var b={};b.uSSurveyFeet=g.metersToUSSurveyFeet(a[2]);b.uSSurveyFeetRound=Math.round(1E4*b.uSSurveyFeet)/1E4;b.meters=Number(a[2]);b.metersRound=Math.round(1E4*b.meters)/1E4;b.feet=g.metersToFeet(b.meters);b.feetRound=Math.round(1E4*b.feet)/1E4;return b},getLengthObjForFormat1:function(a){var b={};b.feet=Number(a[2]);b.feetRound=Math.round(1E4*b.feet)/1E4;b.uSSurveyFeet=g.feetToUSSurveyFeet(a[2]);b.uSSurveyFeetRound=
Math.round(1E4*b.uSSurveyFeet)/1E4;b.meters=g.feetToMeters(a[2]);b.metersRound=Math.round(1E4*b.meters)/1E4;return b},categorizeLengthFormat:function(a,b){var d,k;var l=[];a=a.toString();l.push(/^((\-?)((0?|([1-9]\d*))(\.\d+)?))$/);l.push(/^(((\-?)((0?|([1-9]\d*))(\.\d+)?))(ft|FT|fT|Ft))$/);l.push(/^(((\-?)((0?|([1-9]\d*))(\.\d+)?))(m|M))$/);l.push(/^(((\-?)((0?|([1-9]\d*))(\.\d+)?))(FTUS|FTUs|FTuS|FTus|FtUS|FtUs|FtuS|Ftus|fTUS|fTUs|fTuS|fTus|ftUS|ftUs|ftuS|ftus))$/);for(k=0;k<l.length&&!((d=l[k].exec(a.trim()))&&
0<d.length);k++);d?(a=g.getLengthOfRequiredFormat(d,k,b))&&isNaN(a.meters)&&(a=null):a=null;return a},getLengthOfRequiredFormat:function(a,b,d){var k={};switch(b){case 0:k=g.getLengthObjForFormat0(a,d);break;case 1:k=g.getLengthObjForFormat1(a);break;case 2:k=g.getLengthObjForFormat2(a);break;case 3:k=g.getLengthObjForFormat3(a)}return k}};return g})},"widgets/ParcelDrafter/setting/_build-generate_module":function(){define(["dojo/text!./Setting.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],
function(){})},"url:widgets/ParcelDrafter/setting/SymbolChooserPopup.html":'\x3cdiv style\x3d"width: 100%; height: 100%;"\x3e\r\n    \x3cdiv class\x3d"esriCTSymbolChooserContainer"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"symbolData" title\x3d"${symbolChooserTitle}" class\x3d"common-input esriCTSymbolData"\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"buttonsDiv" class\x3d"buttonsDiv"\x3e\r\n        \x3cdiv class\x3d"button-container button-container-absolute" style\x3d"padding: 0px;"\x3e\r\n            \x3cdiv class\x3d"jimu-btn jimu-float-trailing jimu-leading-margin1" data-dojo-attach-point\x3d"okButton" tabindex\x3d"0"\x3e\r\n                ${nls.common.ok}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/ParcelDrafter/setting/LayerChooser.html":'\x3cdiv style\x3d"width: 100%; height: 100%;"\x3e\r\n    \x3cdiv class\x3d"esriCTLayerSelectorNode" data-dojo-attach-point\x3d"layerSelectorContainer"\x3e\r\n        \x3c!-- Single Layer Selector --\x3e\r\n        \x3cdiv style\x3d"width: 98%;"  data-dojo-attach-point\x3d"singleLayerChooser"\x3e\r\n        \x3c/div\x3e\r\n        \x3c!-- Related Layer Selector --\x3e\r\n        \x3cdiv class\x3d"esriCTLayerSelectorDiv"  data-dojo-attach-point\x3d"relatedLayerChooser"\x3e\r\n            \x3cdiv class\x3d"esriCTLayerChooserContainer row"\x3e\r\n                \x3cdiv class\x3d"esriCTLayerChooserFieldLabel esriCTEllipsis" title\x3d"${nls.parcelPolygonLayer.selectPolygonLayerLabel}"\x3e\r\n                    ${nls.parcelPolygonLayer.selectPolygonLayerLabel}\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriCTLayerChooserField"\x3e\r\n                    \x3cdiv style\x3d"width: 98%;" data-dojo-attach-point\x3d"relatedLayerChooserDiv"\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriCTHint"\x3e\r\n                        ${nls.parcelPolygonLayer.selectPolygonLayerHintText}\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"esriCTLayerChooserContainer row"\x3e\r\n                \x3cdiv class\x3d"esriCTLayerChooserFieldLabel esriCTEllipsis" title\x3d"${nls.parcelLineLayer.selectLayerLabel}"\x3e\r\n                    ${nls.parcelLineLayer.selectLayerLabel}\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriCTLayerChooserField"\x3e\r\n                    \x3cselect style\x3d"width: 98%;" data-dojo-type\x3d"dijit/form/Select"  data-dojo-attach-point\x3d"relatedLayerSelector"\x3e\r\n                \x3c/select\x3e\r\n                    \x3cdiv class\x3d"esriCTHint"\x3e\r\n                        ${nls.parcelLineLayer.selectLayerHintText}\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:jimu/dijit/templates/_TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"contentNode" class\x3d"dijitTreeContent" role\x3d"presentation"\x3e\r\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem" tabindex\x3d"-1" aria-selected\x3d"false"\x3e\x3c/span\x3e\r\n\t\t\x3c/span\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation" style\x3d"display: none;"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',
"url:dijit/templates/TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\r\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\r\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"contentNode"\r\n\t\t\tclass\x3d"dijitTreeContent" role\x3d"presentation"\x3e\r\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem"\r\n\t\t\t\t   tabindex\x3d"-1" aria-selected\x3d"false" id\x3d"${id}_label"\x3e\x3c/span\x3e\r\n\t\t\x3c/span\r\n\t\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation"\r\n\t\t style\x3d"display: none;" aria-labelledby\x3d"${id}_label"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/templates/Tree.html":'\x3cdiv role\x3d"tree"\x3e\r\n\t\x3cdiv class\x3d"dijitInline dijitTreeIndent" style\x3d"position: absolute; top: -9999px" data-dojo-attach-point\x3d"indentDetector"\x3e\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dijitTreeExpando dijitTreeExpandoLoading" data-dojo-attach-point\x3d"rootLoadingIndicator"\x3e\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeContainer" role\x3d"presentation"\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:jimu/dijit/templates/LayerChooserFromMapWithDropbox.html":'\x3cdiv\x3e\r\n\x3ctable role\x3d"listbox" aria-haspopup\x3d"true" data-dojo-attach-point\x3d"dropDownBtn" data-dojo-attach-event\x3d"onclick: _onDropDownClick,onkeydown: _onDropDownKeydown"\r\n  tabindex\x3d"0" title\x3d"${nls.customSelectLayer}" aria-label\x3d"${nls.customSelectLayer}"\x3e\r\n    \x3ccaption class\x3d"screen-readers-only-no-position"\x3e${nls.customSelectLayer}\x3c/caption\x3e\r\n    \x3ccolgroup\x3e\r\n      \x3ccol width\x3d"10px"\x3e\x3c/col\x3e\r\n      \x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n      \x3ccol width\x3d"30px"\x3e\x3c/col\x3e\r\n    \x3c/colgroup\x3e\r\n    \x3ctbody\x3e\r\n      \x3ctr\x3e\r\n        \x3ctd\x3e\x3c/td\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv class\x3d"layer-name jimu-ellipsis" data-dojo-attach-point\x3d"layerNameNode"\x3e\x3c/div\x3e\r\n        \x3c/td\x3e\r\n        \x3ctd\x3e\r\n          \x3cdiv class\x3d"drop-select jimu-float-trailing" data-dojo-attach-point\x3d"dropArrowNode"\x3e\r\n            \x3cdiv class\x3d"jimu-icon jimu-icon-down-arrow-8"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n    \x3c/tbody\x3e\r\n  \x3c/table\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/ParcelDrafter/setting/Setting.html":'\x3cdiv style\x3d"width: 100%;height: 100%;"\x3e\r\n\t\x3cdiv class\x3d"esriCTMainContainer"\x3e\r\n\t\t\x3cdiv class\x3d".esriCTTabDiv" data-dojo-attach-point\x3d"tabDiv"\x3e\r\n\t\t\t\x3c!--Parcel layer tab contents--\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"parcelLineLayerNode" class\x3d"esriCTFullHeight esriCTTabNode"\x3e\r\n\t\t\t\t\x3c!--1.Parcel layer chooser--\x3e\r\n\t\t\t\t\x3cdiv class\x3d"esriCTLayerContainer row"\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTSelectLayerLabel esriCTEllipsis"\x3e\r\n\t\t\t\t\t\t${nls.selectLayerLabel}\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTSelectedLayersDiv" data-dojo-attach-point\x3d"layersNode"\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTSetButton jimu-btn jimu-float-trailing" data-dojo-attach-point\x3d"selectLineLayerBtnNode"\x3e\r\n\t\t\t\t\t\t\t${nls.setBtnLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTHint esriCTLayerHint"\x3e\r\n\t\t\t\t\t\t\t${nls.selectLayerHintText}\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c!--2.Start/Rotation point symbol selectors--\x3e\r\n\t\t\t\t\x3cdiv class\x3d"esriCTLayerContainer row"\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTPointSymbolLabel esriCTEllipsis"\x3e\r\n\t\t\t\t\t\t${nls.parcelLineLayer.startOrRotationSymbolLabel}\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTPreviewField" data-dojo-attach-point\x3d"startOrRotationSymbolNode"\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTHint esriCTPreviewHintField"\x3e\r\n\t\t\t\t\t\t${nls.parcelLineLayer.startOrRotationSymbolHintText}\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c!--3.Parcel point symbol selectors--\x3e\r\n\t\t\t\t\x3cdiv class\x3d"esriCTLayerContainer row"\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTPointSymbolLabel esriCTEllipsis"\x3e\r\n\t\t\t\t\t\t${nls.parcelLineLayer.parcelPointSymbolLabel}\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTPreviewField" data-dojo-attach-point\x3d"pointSymbolNode"\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTHint esriCTPreviewHintField"\x3e\r\n\t\t\t\t\t\t${nls.parcelLineLayer.parcelPointSymbolHintText}\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c!--4.Line Layer field selectors--\x3e\r\n\t\t\t\t\x3cdiv class\x3d"esriCTMainFieldsetContainer row"\x3e\r\n\t\t\t\t\t\x3cfieldset class\x3d"esriCTFieldSet"\x3e\r\n\t\t\t\t\t\t\x3clegend class\x3d"esriCTFieldSetLegend"\x3e${nls.parcelLineLayer.selectFieldLegendLabel}\x3c/legend\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTFieldsContainer"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelLineLayer.bearingFieldLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerLeft"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"bearingFieldNode"\x3e\r\n         \t   \t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelLineLayer.chordLengthFieldLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerRight"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"chordLengthFieldNode"\x3e\r\n         \t   \t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelLineLayer.distanceFieldLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerLeft"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"distanceFieldNode"\x3e\r\n         \t   \t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelLineLayer.sequenceIdFieldLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerRight"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"sequenceIdFieldNode"\x3e\r\n         \t   \t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelLineLayer.radiusFieldLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerLeft"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"radiusFieldNode"\x3e\r\n         \t   \t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelLineLayer.foreignKeyFieldLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerRight"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"foreignKeyFieldNode"\x3e\r\n         \t   \t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelLineLayer.arcLengthFieldLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerLeft"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"arcLengthFieldNode"\x3e\r\n         \t   \t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelLineLayer.lineTypeFieldLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerRight"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"lineTypeFieldNode"\x3e\r\n         \t   \t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLineTypeTableContanier row"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"lineTypeNode"\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3c/fieldset\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c!--5. Polygon Layer field selectors--\x3e\r\n\t\t\t\t\x3cdiv class\x3d"esriCTMainFieldsetContainer row"\x3e\r\n\t\t\t\t\t\x3cfieldset class\x3d"esriCTFieldSet"\x3e\r\n\t\t\t\t\t\t\x3clegend class\x3d"esriCTFieldSetLegend"\x3e${nls.parcelPolygonLayer.selectFieldLegendLabel}\x3c/legend\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTFieldsContainer"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField esriCTHidden"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelPolygonLayer.parcelNameLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerLeft"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"parcelNameFieldNode"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelPolygonLayer.rotationLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerLeft"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"rotationFieldNode"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-event\x3d"onChange:_updateAttributeSettings"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField esriCTHidden"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelPolygonLayer.planNameLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerLeft"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"planNameFieldNode"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelPolygonLayer.scalingLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerRight"\x3e\x3cselect class\x3d"esriCTDropBox"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"scaleFieldNode"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-event\x3d"onChange:_updateAttributeSettings"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField esriCTHidden"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelPolygonLayer.documentTypeLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerLeft"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"documentTypeFieldNode"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelPolygonLayer.miscloseRatioLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerLeft"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"miscloseRatioFieldNode"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-event\x3d"onChange:_updateAttributeSettings"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelPolygonLayer.miscloseDistanceLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerRight"\x3e\x3cselect class\x3d"esriCTDropBox"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"miscloseDistanceFieldNode"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-event\x3d"onChange:_updateAttributeSettings"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTField"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTEllipsis"\x3e${nls.parcelPolygonLayer.statedAreaLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTDropBoxContainerLeft"\x3e\x3cselect class\x3d"esriCTDropBox" data-dojo-type\x3d"dijit/form/Select"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-point\x3d"statedAreaFieldNode"\r\n\t\t\t\t\t\t\t\t\t\tdata-dojo-attach-event\x3d"onChange:_updateAttributeSettings"\x3e\r\n\t\t\t\t\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c!-- Parcel layer tab contents ends --\x3e\r\n\t\t\t\x3c!-- Attribute settings tab content --\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"attributeSettingsNode" class\x3d"esriCTFullHeight esriCTTabNode"\x3e\r\n\t\t\t\t\x3cdiv class\x3d"esriCTLayerContainer row" style\x3d"margin-bottom: 10px;"\x3e\r\n                    \x3cdiv class\x3d"esriCTLabelAttribute" title\x3d"${nls.parcelPolygonLayer.titleLabel}"\x3e\r\n                        ${nls.parcelPolygonLayer.titleLabel}\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriCTLayerField"\x3e\r\n\t\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"polygonLayerNameNode" data-dojo-type\x3d"dijit/form/TextBox" style\x3d"width: 100%;" trim\x3d"true"\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c!-- Radio buttons--\x3e\r\n\t\t\t\t\x3cdiv class\x3d"esriCTRadioBtnContainer"\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTRadioBtn"\x3e\r\n\t\t\t\t\t\t\x3cinput data-dojo-type\x3d"jimu/dijit/RadioBtn" id\x3d"webmapSettingsRadioBtn" data-dojo-props\x3d"group: \'g1\'"\r\n\t\t\t\t\t\t\ttype\x3d"radio" name\x3d"jimuradiobtn" data-dojo-attach-point\x3d"webmapSettingsRadioBtn"\x3e\r\n\t\t\t\t\t\t\x3clabel class\x3d"esriCTRadioLabel" for\x3d"webmapSettingsRadioBtn"\x3e\r\n\t\t\t\t\t\t\t${nls.parcelPolygonLayer.honorSettingRbLabel}\r\n\t\t\t\t\t\t\x3c/label\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTRadioBtn"\x3e\r\n\t\t\t\t\t\t\x3cinput data-dojo-type\x3d"jimu/dijit/RadioBtn" id\x3d"customSettingsRadioBtn" data-dojo-props\x3d"group: \'g1\'"\r\n\t\t\t\t\t\t\ttype\x3d"radio" name\x3d"jimuradiobtn" data-dojo-attach-point\x3d"customSettingsRadioBtn"\x3e\r\n\t\t\t\t\t\t\x3clabel class\x3d"esriCTRadioLabel" for\x3d"customSettingsRadioBtn"\x3e\r\n\t\t\t\t\t\t\t${nls.parcelPolygonLayer.customSettingsRbLabel}\r\n\t\t\t\t\t\t\x3c/label\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3cdiv class\x3d"esriCTAdditionalFieldsTable" data-dojo-attach-point\x3d"additionalFieldsTable"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3c/fieldset\x3e\r\n\t\t\t\x3c/div\x3e\r\n\r\n\t\t\t\x3c!-- Attribute settings tab content ends--\x3e\r\n\t\t\t\x3c!-- Advance settings tab content --\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"closureSettingsNode" class\x3d"esriCTFullHeight esriCTTabNode"\x3e\r\n\t\t\t\t\x3c!--1.Snapping layer chooser--\x3e\r\n\t\t\t\t\x3cdiv class\x3d"esriCTLayerContainer row"\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTSelectLayerLabel esriCTEllipsis" data-dojo-attach-point\x3d"addLayersLabelNode"\x3e\r\n\t\t\t\t\t\t${nls.closureSetting.snappingLayerLabel}\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTSelectedSnappingLayersDiv" data-dojo-attach-point\x3d"snappingLayerNode"\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTAddLayerButton jimu-btn jimu-float-trailing" data-dojo-attach-point\x3d"snappingLayerBtnNode"\x3e\r\n\t\t\t\t\t\t\t${nls.setBtnLabel}\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTHint esriCTLayerHint"\x3e\r\n\t\t\t\t\t\t${nls.closureSetting.snappingLayerHintText}\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c!--2. Closure settings field selectors--\x3e\r\n\t\t\t\t\x3cdiv class\x3d"esriCTClosureFieldsContainer"\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTClosureField"\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTClosureLabel esriCTEllipsis"\x3e${nls.closureSetting.miscloseDistanceLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTClosureBoxContainer"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTClosureTextBox" data-dojo-type\x3d"dijit/form/NumberTextBox" trim\x3d"true" required\x3d"true" data-dojo-attach-point\x3d"miscloseDistanceNode"\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTUnitsDropBox"\x3e\r\n\t\t\t\t\t\t\t\t\x3cselect class\x3d"esriCTClosureTextBox" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"miscloseDistanceUnitNode"\x3e\r\n         \t   \t\t\x3c/select\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTHint esriCTClosureTabHint"\x3e\r\n\t\t\t\t\t\t\t${nls.closureSetting.miscloseDistanceHintText}\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTClosureField"\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTClosureLabel esriCTEllipsis"\x3e${nls.closureSetting.miscloseRatioLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTClosureBoxContainer"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTClosureTextBox" data-dojo-type\x3d"dijit/form/NumberTextBox" trim\x3d"true" required\x3d"true" data-dojo-attach-point\x3d"miscloseRatioNode"\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTHint esriCTClosureTabHint"\x3e\r\n\t\t\t\t\t\t\t${nls.closureSetting.miscloseRatioHintText}\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esriCTClosureFieldsContainer"\x3e\r\n\t\t\t\t\t\t\x3cdiv class\x3d"esriCTClosureField"\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTLabel esriCTClosureLabel esriCTEllipsis"\x3e${nls.closureSetting.snappingToleranceLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTClosureBoxContainer"\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv data-dojo-type\x3d"dijit/form/NumberSpinner" class\x3d"esriCTClosureTextBox" value\x3d"15" data-dojo-attach-point\x3d"toleranceNode"\x3e\r\n\t\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTPixelsDiv"\x3e${nls.closureSetting.pixelLabel}\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\t\x3cdiv class\x3d"esriCTHint esriCTClosureTabHint"\x3e\r\n\t\t\t\t\t\t\t\t${nls.closureSetting.snappingToleranceHintText}\r\n\t\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3c!-- Closure settings field selectors end --\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c!-- Advance settings tab content end --\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/ParcelDrafter/setting/css/style.css":".jimu-widget-ParcelDrafter-setting .esriCTMainContainer{width: 100%; height: 100%; color: #596679; font-size: 14px;}.jimu-widget-ParcelDrafter-setting .jimu-tab3{height: 100%; overflow: hidden;}.jimu-widget-ParcelDrafter-setting .jimu-viewstack{height: calc(100% - 45px); overflow: auto;}.jimu-widget-ParcelDrafter-setting .esriCTTabNode{padding: 20px;}.jimu-widget-ParcelDrafter-setting .esriCTLayerContainer {width: 100%; float: left;}.jimu-widget-ParcelDrafter-setting .esriCTSelectLayerLabel {width: 25%; word-break: break-all; line-height: 30px; float: left; min-width: 230px; margin-right: 10px;}.jimu-widget-ParcelDrafter-setting .row {clear: both;}.jimu-widget-ParcelDrafter-setting .esriCTHint {margin: 5px 5px 10px 0px; float: left; font-size: 12px; color: #a0acbf; font-style: oblique;} .jimu-widget-ParcelDrafter-setting .esriCTLayerHint{margin-left: 240px;}.jimu-widget-ParcelDrafter-setting .esriCTEllipsis{overflow: hidden; text-overflow: ellipsis; white-space: nowrap;}.jimu-widget-ParcelDrafter-setting .esriCTHidden{display: none;}.jimu-widget-ParcelDrafter-setting .esriCTSelectedLayersDiv {max-height: 200px; min-height: 60px; overflow: auto; width: 58%; float: left; border: 1px solid #d2dae2; background: #e3ecf2; margin-right: 10px; line-height: 30px; padding-left: 10px;}.jimu-widget-ParcelDrafter-setting .esriCTActionsContent{padding: 15px;}.jimu-widget-ParcelDrafter-setting .esriCTFieldSet{height: auto; width: 100%; border: 1px solid #a0acbf! important; border-radius: 5px; font-size: 14px; color: #596679; margin-bottom: 10px; min-width: 0px;}.jimu-widget-ParcelDrafter-setting .esriCTFieldSetLegend{margin-left: 15px;}.jimu-widget-ParcelDrafter-setting .esriCTFieldsContainer{clear: both; width: 90%; margin: 0 auto; padding-top: 15px;}.jimu-widget-ParcelDrafter-setting .esriCTClosureFieldsContainer{clear: both; width: 100%; margin: 0 auto;}.jimu-widget-ParcelDrafter-setting .esriCTField{width: 50%; float:left; margin-bottom:10px;}.jimu-widget-ParcelDrafter-setting .esriCTClosureField{width: 100%; float:left; margin-bottom:10px;}.jimu-widget-ParcelDrafter-setting .esriCTLabel{float:left; padding: 10px 0; width: 48%;}.jimu-widget-ParcelDrafter-setting .esriCTClosureLabel{min-width: 240px; width: 25%;}.jimu-widget-ParcelDrafter-setting .esriCTPointSymbolLabel{min-width: 240px; width: 25%;}.jimu-widget-ParcelDrafter-setting .esriCTDropBox{width: 100%;}.jimu-widget-ParcelDrafter-setting .esriCTUnitsDropBox{margin-left: 10px; float: left;}.jimu-widget-ParcelDrafter-setting .esriCTClosureBoxContainer{width: 70%; float: left;}.jimu-widget-ParcelDrafter-setting .esriCTDropBoxContainerLeft{width: 45%; float: left;}.jimu-widget-ParcelDrafter-setting .esriCTDropBoxContainerRight{width: 45%; float: right;}.jimu-widget-ParcelDrafter-setting .esriCTFieldsetHint {margin: 5px 5px 10px 20px; float: left; font-size: 12px; color: #a0acbf; font-style: oblique;}.jimu-widget-ParcelDrafter-setting .esriCTadditionalFieldTable {height: 100%; width: 68%; float: left; margin-left: 15%;}.jimu-widget-ParcelDrafter-setting .esriCTLineTypeTableContanier {width: 100%; margin-bottom: 20px;}.jimu-widget-ParcelDrafter-setting .esriCTLineTypeTableContanier .dijitTextBox .dijitInputInner{height: 20px; line-height: 20px !important;}.jimu-widget-ParcelDrafter-setting .esriCTLayerListItem{line-height: 30px; width: 90%}.jimu-widget-ParcelDrafter-setting .esriCTGeometryTypeIcon{height: 16px; width: 16px; background-repeat: no-repeat; margin: 8px 2px 0px 0px; float: left;}.jimu-widget-ParcelDrafter-setting .esriCTPointGeometryIcon{background-image: url('../../images/point_layer.png');}.jimu-widget-ParcelDrafter-setting .esriCTPolygonGeometryIcon{background-image: url('../../images/polygon_layer.png');}.jimu-widget-ParcelDrafter-setting .esriCTPolylineGeometryIcon{background-image: url('../../images/line_layer.png');}.jimu-widget-ParcelDrafter-setting .esriCTLayerSelectorDiv{height: 140px; overflow-y: auto;}.jimu-widget-ParcelDrafter-setting .esriCTLayerChooserFieldLabel{width: 35%; float: left; line-height: 30px; padding-right: 10px;}.jimu-widget-ParcelDrafter-setting .esriCTLayerChooserField{width: 65%; float: right; margin-bottom: 10px;}.jimu-widget-ParcelDrafter-setting .esriCTLayerSelectorNode .jimu-basic-layer-chooser-from-map .jimu-tree{position: relative !important;}.jimu-widget-ParcelDrafter-setting .esriCTLayerSelectorNode{max-height: 200px; overflow: auto; text-overflow: ellipsis; white-space: nowrap;}.jimu-widget-ParcelDrafter-setting .esriCTSymbolChooserNode{text-align: center; cursor: pointer; min-width: 80px;}.jimu-widget-ParcelDrafter-setting .esriCTColorChooserNode{text-align: center; cursor: pointer; min-width: 80px;}.jimu-widget-ParcelDrafter-setting .esriCTColorChooserNode .jimu-color-picker{display:inline-block;}.jimu-widget-ParcelDrafter-setting .esriCTSymbolPreviewText{padding-right: 5px; color: #596679; font-size: 14px; max-width: 130px; text-overflow: ellipsis; overflow: hidden; white-space:nowrap;}.jimu-widget-ParcelDrafter-setting .esriCTPreviewField{float: left;}.jimu-widget-ParcelDrafter-setting .esriCTPreviewHintField{float: left; padding: 5px;}.jimu-widget-ParcelDrafter-setting .esriCTSymbolPreviewField{width: 35%; min-width: 250px; float: left; margin-left: 10px;}table{border-spacing: 0; padding: 0; margin: 0;}.jimu-widget-ParcelDrafter-setting .esriCTSymbolPreviewHintField{width: 50%; line-height: 20px; margin-left: 5px; float: right;}.jimu-widget-ParcelDrafter-setting .esriCTSymbolChooserContainer{height: calc(100% - 50px); overflow: auto;} .jimu-widget-ParcelDrafter-setting .esriCTTableCell {position: relative;} .jimu-widget-ParcelDrafter-setting .esriCTTableControl {position: absolute; top: 2px;} .jimu-widget-ParcelDrafter-setting .esriCTSelectedSnappingLayersDiv{height: 90px; overflow: auto; width: 60%; float: left; border: 1px solid #d2dae2; background: #e3ecf2; margin: 0 10px 0 0px; padding-left: 10px;}.jimu-widget-ParcelDrafter-setting .esriCTClosureTextBox{width: 150px; float: left;}.jimu-widget-ParcelDrafter-setting .esriCTPixelsDiv{line-height: 30px; font-style: italic; float: left; margin-left: 10px;} .jimu-widget-ParcelDrafter-setting .dijitValidationTextBoxLabel{max-width: 445px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; float: left;} .jimu-widget-ParcelDrafter-setting .jimu-layer-chooser-from-map-withdropbox .layer-name{text-overflow: ellipsis; overflow: hidden; white-space: nowrap; padding: 0px 18px 0px 9px;} .claro .dijitTextBox, .claro .dijitSelect{color: #7989a0; background-color: #fafafc; border: 1px solid #d2dae2;}.dj_webkit .claro .dijitTextBox .dijitInputInner{color: #7989a0;}.claro .dijitSelectDisabled, .claro .dijitTextBoxDisabled, .claro .dijitTextBoxDisabled .dijitInputContainer{background-color: #e3ecf2;}.claro .dijitSelect .dijitArrowButton{background-color: #fafafc; background-image: none; border-color: #fafafc;}.jimu-widget-ParcelDrafter-setting .dijitSelect .dijitButtonContents{border-style: none none none none; background-color: transparent;}input[type\x3dtext]::-ms-clear{display: none;}.jimu-widget-ParcelDrafter-setting .esriCTDefaultChkBox{margin: 0 20px;}.jimu-widget-ParcelDrafter-setting .esriCTParcelPolygonInformation{width: 95%;margin-left: 22px;}.jimu-widget-ParcelDrafter-setting .esriCTAttributeHint{width: 100%; float: inherit; margin-left: 10px;}.jimu-widget-ParcelDrafter-setting .esriCTRadioBtn{margin: 10px 10px;}.jimu-widget-ParcelDrafter-setting .esriCTAdditionalFieldsTable{height: 210px; width: 99%; margin: 10px 10px 10px 10px;}.jimu-widget-ParcelDrafter-setting .esriCTLayerContainer{width: 100%; float: left;}.jimu-widget-ParcelDrafter-setting .esriCTLayerField{width: 85%; float: right;}.jimu-widget-ParcelDrafter-setting .esriCTAttributeHint{margin: 5px 5px 10px 8px;}.jimu-widget-ParcelDrafter-setting .esriCTLabelAttribute{float: left; padding-left: 10px; line-height: 30px;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTSelectLayerLabel{float: right; margin-left: 10px;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTSelectedLayersDiv{float: right;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTGeometryTypeIcon{float: right; margin: 8px 5px 0px 10px;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTLabel{float: right;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTPreviewField{float: right;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTPreviewHintField{float: right;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTSymbolPreviewHintField{float: right;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTFieldSetLegend{margin-right: 15px;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTField{float: right;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTLabel{float: right;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTDropBoxContainerLeft{float: right;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTSelectedSnappingLayersDiv{float: right; padding-right: 10px;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTClosureTextBox{float: right;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTUnitsDropBox{margin-right: 10px; float: right;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTPixelsDiv{float: right; margin-right: 10px;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTClosureBoxContainer{float: right; margin-right: 10px;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTSelectLayerLabel{float: right; margin-right: 0px;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTHint{float: right; margin: 5px 10px 10px 0px}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTLayerHint{margin-right: 250px;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTClosureTabHint {float: right; margin: 5px 10px 10px 0;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTLayerChooserFieldLabel{float: right; padding-left: 10px; padding-right: 0;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTDropBoxContainerRight{float: left;}.esriRtl .jimu-widget-ParcelDrafter-setting .esriCTLabelAttribute{float: right; padding-right: 10px;}.esriRtl .jimu-widget-ParcelDrafter-setting .jimu-simple-table .head-section .simple-table-thead th.simple-table-field .jimu-checkbox \x3e .label{padding-right: 3px;}",
"*now":function(g){g(['dojo/i18n!*preload*widgets/ParcelDrafter/setting/nls/Setting*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dijit/_WidgetsInTemplateMixin jimu/dijit/TabContainer3 dijit/registry dojo/query dojo/on dojo/_base/lang dojo/_base/array jimu/dijit/SimpleTable jimu/utils esri/symbols/jsonUtils jimu/symbolUtils dojo/dom-construct dojo/dom-class ./SymbolChooserPopup ./LayerChooser jimu/BaseWidgetSetting ../layerUtils ../utils dojo/query jimu/dijit/Message jimu/LayerInfos/LayerInfos dijit/form/Select dijit/form/ValidationTextBox dijit/form/NumberTextBox dijit/form/NumberSpinner jimu/dijit/RadioBtn".split(" "),function(g,
a,b,d,k,l,m,t,C,B,D,q,p,w,J,K,Q,u,x,n,v,y,A,N,M){return g([Q,a],{baseClass:"jimu-widget-ParcelDrafter-setting",_tab:null,_symbolParams:{},_layerUtils:null,_stringFieldType:"esriFieldTypeString",_oidFieldType:"esriFieldTypeOID",_guidFieldType:"esriFieldTypeGUID",_globalIdFieldType:"esriFieldTypeGlobalID",_numberFieldTypes:[],polylineDetails:null,polygonDetails:null,snappingLayerDetails:null,distanceAndLengthUnits:{},postMixInProperties:function(){this.nls.common={};m.mixin(this.nls.common,window.jimuNls.common)},
postCreate:function(){y.getInstance(this.map,this.map.itemInfo).then(m.hitch(this,function(c){this._jimuLayerInfos=c;this._init()}))},_init:function(){this._symbolParams={};this._numberFieldTypes=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble"];this.distanceAndLengthUnits=m.clone(x.planSettingsOptions.distanceAndLengthUnits);this._layerUtils=new u({map:this.map,getPopupInfo:!1,getRenderer:!1});this._initTabs();this._initFieldsTable();this.own(l(this.selectLineLayerBtnNode,
"click",m.hitch(this,function(){this._showLayerChooser("parcelLayers",["polygon"],!1)})));this._createTableForLineTypes();this._createSymbolPicker(this.startOrRotationSymbolNode,"startOrRotaionSymbol","esriGeometryPoint",this.nls.parcelLineLayer.startOrRotationSymbolLabel);this._createSymbolPicker(this.pointSymbolNode,"pointSymbol","esriGeometryPoint",this.nls.parcelLineLayer.parcelPointSymbolLabel);this.own(l(this.snappingLayerBtnNode,"click",m.hitch(this,function(){this._showLayerChooser("snapping",
[""],!0)})));this.own(this.lineTypeFieldNode.on("change",m.hitch(this,this._updateLineTypeOptions)));this._loadMiscloseUnits();this.setConfig(this.config);this.miscloseRatioNode.constraints={min:0};this.miscloseDistanceNode.constraints={min:0};this.toleranceNode.constraints={min:1,max:50,places:0,pattern:"#"};this.toleranceNode.smallDelta=1;this.webmapSettingsRadioBtn.onStateChange=m.hitch(this,function(){this._updateAttributeSettings()})},_initTabs:function(){this._tab=new b({tabs:[{title:this.nls.parcelLineLayer.layerSettingTabLabel,
content:this.parcelLineLayerNode},{title:this.nls.parcelLineLayer.attributeSettingTabLabel,content:this.attributeSettingsNode},{title:this.nls.parcelLineLayer.advancedSettingTabLabel,content:this.closureSettingsNode}]},this.tabDiv);this._tab.startup()},_loadMiscloseUnits:function(){var c=[],h;t.forEach(this.distanceAndLengthUnits,m.hitch(this,function(r){h={value:r,label:window.jimuNls.units[r]};c.push(h)}));this.miscloseDistanceUnitNode.addOption(c)},setConfig:function(){this.config&&((this.config.snappingTolerance||
0===this.config.snappingTolerance)&&this.toleranceNode.set("value",this.config.snappingTolerance),(this.config.miscloseRatioSnap||0===this.config.miscloseRatioSnap)&&this.miscloseRatioNode.set("value",this.config.miscloseRatioSnap),(this.config.miscloseSnapDistance||0===this.config.miscloseSnapDistance)&&this.miscloseDistanceNode.set("value",this.config.miscloseSnapDistance),this.config.miscloseSnapDistanceUnit&&this.miscloseDistanceUnitNode&&this.miscloseDistanceUnitNode.set("value",this.config.miscloseSnapDistanceUnit),
this.config.polylineLayer&&this._setPolylineDetails(this.config.polylineLayer),this.config.polygonLayer?(this.config.hasOwnProperty("useFieldInfosFromWebmap")?!0===this.config.useFieldInfosFromWebmap?this.webmapSettingsRadioBtn.set("checked",!0):this.customSettingsRadioBtn.set("checked",!0):this.customSettingsRadioBtn.set("checked",!0),this.config.polygonLayer.attributeListTitle&&this.polygonLayerNameNode.set("value",this.config.polygonLayer.attributeListTitle),this._setPolygonDetails(this.config.polygonLayer,
!this.config.polygonLayer.attributeListTitle,!0)):this.webmapSettingsRadioBtn.set("checked",!0),this.config.polylineLayer&&this.config.polygonLayer&&this._setLayersInUI(this.layersNode,[this.config.polygonLayer,this.config.polylineLayer]),this.config.snappingLayers&&0<this.config.snappingLayers.length&&this._setSnappingLayerDetails(this.config.snappingLayers,!0))},getSelectedOption:function(c){return c&&c.options&&0<c.options.length&&(c=c.options,(c=t.filter(c,function(h){return!0===h.selected}))&&
0<c.length)?c[0]:null},getSelectedField:function(c){return(c=this.getSelectedOption(c))?c.field:null},_errorMessage:function(c){(new v({message:c,buttons:[{label:this.nls.common.ok}]})).message=c},_validateForDistinctFields:function(c){var h=[],r;var z=!0;for(r in c){var F=c[r];if("object"===typeof F&&F.hasOwnProperty("name"))if(-1<h.indexOf(F.name)){z=!1;break}else h.push(F.name)}return z},validateConfig:function(c){return c.polylineLayer?c.polylineLayer.bearing?c.polylineLayer.chordLength?c.polylineLayer.distance?
c.polylineLayer.sequenceId?c.polylineLayer.radius?c.polylineLayer.relatedGUID?c.polylineLayer.arcLength?c.polylineLayer.lineType?this._validateForDistinctFields(c.polylineLayer)?c.lineTypes[0].hasOwnProperty("type")&&null!==c.lineTypes[0].type&&void 0!==c.lineTypes[0].type&&""!==c.lineTypes[0].type&&this.connectionBox.isValid(!1)?c.lineTypes[1].hasOwnProperty("type")&&null!==c.lineTypes[1].type&&void 0!==c.lineTypes[1].type&&""!==c.lineTypes[1].type&&this.boundaryBox.isValid(!1)?c.lineTypes[0].type===
c.lineTypes[1].type?(this._errorMessage(this.nls.errorMsg.selectDistinctLineTypes),!1):c.polygonLayer?c.polygonLayer.relatedGUID?c.polygonLayer.parcelName&&c.polygonLayer.rotation?c.polygonLayer.planName?c.polygonLayer.scale?c.polygonLayer.documentType?c.polygonLayer.miscloseRatio?c.polygonLayer.statedArea?this._validateForDistinctFields(c.polygonLayer)?c.polygonLayer.miscloseDistance?this.miscloseDistanceNode.isValid()?this.toleranceNode.isValid()?this.miscloseRatioNode.isValid()?!0:(this._errorMessage(this.nls.errorMsg.invalidMiscloseRatio),
!1):(this._errorMessage(this.nls.errorMsg.invalidSnappingTolerance),!1):(this._errorMessage(this.nls.errorMsg.invalidMiscloseDistance),!1):(this._errorMessage(this.nls.errorMsg.miscloseDistanceFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.selectDistinctPolygonFields),!1):(this._errorMessage(this.nls.errorMsg.statedAreaFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.miscloseRatioFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.documentTypeFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.scaleFieldErrMsg),
!1):(this._errorMessage(this.nls.errorMsg.planNameFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.parcelNameFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.globalIdFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.invalidPolygonLayer),!1):(this._errorMessage(this.nls.errorMsg.invalidBoundaryLineType),!1):(this._errorMessage(this.nls.errorMsg.invalidConnectionLineType),!1):(this._errorMessage(this.nls.errorMsg.selectDistinctPolylineFields),!1):(this._errorMessage(this.nls.errorMsg.lineTypeFieldErrMsg),
!1):(this._errorMessage(this.nls.errorMsg.arcLengthFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.foreignKeyFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.radiusFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.sequenceIdFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.distanceFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.chordLengthErrMsg),!1):(this._errorMessage(this.nls.errorMsg.bearingFieldErrMsg),!1):(this._errorMessage(this.nls.errorMsg.invalidPolylineLayer),
!1)},getConfig:function(){var c={};if(this.polylineDetails){c.polylineLayer={};m.mixin(c.polylineLayer,this.polylineDetails);c.polylineLayer.bearing=this.getSelectedField(this.bearingFieldNode);c.polylineLayer.chordLength=this.getSelectedField(this.chordLengthFieldNode);c.polylineLayer.distance=this.getSelectedField(this.distanceFieldNode);c.polylineLayer.sequenceId=this.getSelectedField(this.sequenceIdFieldNode);c.polylineLayer.radius=this.getSelectedField(this.radiusFieldNode);c.polylineLayer.relatedGUID=
this.getSelectedField(this.foreignKeyFieldNode);c.polylineLayer.arcLength=this.getSelectedField(this.arcLengthFieldNode);c.polylineLayer.lineType=this.getSelectedField(this.lineTypeFieldNode);c.lineTypes=[{},{}];this._symbolParams.connectionLine&&(c.lineTypes[0].symbol=this._symbolParams.connectionLine,c.lineTypes[0].isDefault=this._isConnectionLineDefault.checked);this._symbolParams.boundaryLine&&(c.lineTypes[1].symbol=this._symbolParams.boundaryLine,c.lineTypes[1].isDefault=this._isBoundaryLineDefault.checked);
if(this.connectionBox)if(this.connectionBox.options){var h=this.getSelectedOption(this.connectionBox);c.lineTypes[0].label=h.label;c.lineTypes[0].type=h.value}else c.lineTypes[0].label=this.nls.lineTypesTable.connectionLineLabel,c.lineTypes[0].type=this.connectionBox.get("value");this.boundaryBox&&(this.boundaryBox.options?(h=this.getSelectedOption(this.boundaryBox),c.lineTypes[1].label=h.label,c.lineTypes[1].type=h.value):(c.lineTypes[1].label=this.nls.lineTypesTable.boundaryLineLabel,c.lineTypes[1].type=
this.boundaryBox.get("value")),c.BoundaryLineType=c.lineTypes[1].type)}this.polygonDetails&&(c.polygonLayer={},m.mixin(c.polygonLayer,this.polygonDetails),this.map._layers[this.polygonDetails.id]&&(h=this.map._layers[this.polygonDetails.id].fields,(h=t.filter(h,m.hitch(this,function(r){return r.type===this._globalIdFieldType})))&&0<h.length&&(c.polygonLayer.relatedGUID=h[0])),c.polygonLayer.parcelName=this.getSelectedField(this.parcelNameFieldNode),c.polygonLayer.rotation=this.getSelectedField(this.rotationFieldNode),
c.polygonLayer.planName=this.getSelectedField(this.planNameFieldNode),c.polygonLayer.scale=this.getSelectedField(this.scaleFieldNode),c.polygonLayer.documentType=this.getSelectedField(this.documentTypeFieldNode),c.polygonLayer.miscloseRatio=this.getSelectedField(this.miscloseRatioFieldNode),c.polygonLayer.statedArea=this.getSelectedField(this.statedAreaFieldNode),c.polygonLayer.miscloseDistance=this.getSelectedField(this.miscloseDistanceFieldNode),this.webmapSettingsRadioBtn.get("checked")?c.useFieldInfosFromWebmap=
!0:c.useFieldInfosFromWebmap=!1,c.polygonLayer.attributeListTitle=B.sanitizeHTML(this.polygonLayerNameNode.get("value")),c.polygonLayer.additionalFieldsInfo=this._getAdditionalFieldInfos());this.snappingLayerDetails&&(c.snappingLayers=[],m.mixin(c.snappingLayers,this.snappingLayerDetails));this.toleranceNode&&(c.snappingTolerance=this.toleranceNode.get("value"));this.miscloseRatioNode&&(c.miscloseRatioSnap=this.miscloseRatioNode.get("value"));this.miscloseDistanceNode&&(c.miscloseSnapDistance=this.miscloseDistanceNode.get("value"));
this.miscloseDistanceUnitNode&&(c.miscloseSnapDistanceUnit=this.miscloseDistanceUnitNode.get("value"));this._symbolParams.startOrRotaionSymbol&&(c.startOrRotaionSymbol=this._symbolParams.startOrRotaionSymbol);this._symbolParams.pointSymbol&&(c.pointSymbol=this._symbolParams.pointSymbol);return this.validateConfig(c)?c:!1},_showLayerChooser:function(c,h,r){switch(c){case "parcelLayers":var z=this.nls.selectLayerLabel;var F=!0;break;case "snapping":z=this.nls.closureSetting.snappingLayerLabel,F=!1}(new K({title:z,
portalUrl:this.appConfig.portalUrl,nls:this.nls,folderUrl:this.folderUrl,map:this.map,multiple:r,types:h,chooseRelatedLayers:F,relatedLayerTypes:["polyline"],showLayerTypes:["FeatureLayer"]})).onOKButtonClicked=m.hitch(this,function(I){I&&0<I.length&&this._setLayersInfo(c,I)})},_setLayersInfo:function(c,h){for(var r=0;r<h.length;r++)m.mixin(h[r],this._layerUtils.getLayerDetailsFromMap(h[r].baseURL,h[r].layerId,h[r].id));this.config.polygonLayer={};this.config.polylineLayer={};this.config.lineTypes[0].type=
null;this.config.lineTypes[1].type=null;switch(c){case "parcelLayers":this._setLayersInUI(this.layersNode,h);this._setPolygonDetails(h[0],!0);this._setPolylineDetails(h[1]);this._setSnappingLayerDetails(h,!1);break;case "snapping":this._setSnappingLayerDetails(h,!0)}},_setPolylineDetails:function(c){this.polylineDetails=c;this._setPolylineFields();this._updateLineTypeOptions()},_setPolygonDetails:function(c,h,r){this.polygonDetails=c;this._setPolygonFields(h,r)},_setSnappingLayerDetails:function(c,
h){this.snappingLayerDetails&&!h?t.forEach(c,m.hitch(this,function(r){var z;(z=t.filter(this.snappingLayerDetails,m.hitch(function(F){return F.id===r.id})))&&0!==z.length||this.snappingLayerDetails.push(r)})):this.snappingLayerDetails=c;this._setLayersInUI(this.snappingLayerNode,this.snappingLayerDetails)},_setLayersInUI:function(c,h){var r,z;p.empty(c);for(r=0;r<h.length;r++){"esriGeometryPoint"===h[r].geometryType?z="esriCTPointGeometryIcon":"esriGeometryPolygon"===h[r].geometryType?z="esriCTPolygonGeometryIcon":
"esriGeometryPolyline"===h[r].geometryType&&(z="esriCTPolylineGeometryIcon");var F=p.create("div",{"class":"esriCTLayerList"},c);z&&p.create("div",{"class":"esriCTGeometryTypeIcon "+z,title:h[r].title},F);p.create("div",{"class":"esriCTLayerListItem esriCTEllipsis",innerHTML:h[r].title,title:h[r].title},F)}},_getSelectionInfo:function(c,h,r){var z={};this.config.hasOwnProperty(h)&&this.config[h].hasOwnProperty(c)&&this.config[h][c]&&this.config[h][c].hasOwnProperty("name")?(z.fieldName=this.config[h][c].name.toLowerCase(),
z.exactMatch=!0):(z.fieldName=c.toLowerCase(),z.exactMatch=!1);z.isRequired=r;return z},_autoPopulateRelatedGUID:function(){var c;this.foreignKeyFieldNode.options.length=0;this.foreignKeyFieldNode.addOption([{value:" ",label:"",field:null}]);var h=this.polylineDetails.relationShipId;var r=this.map._layers[this.polylineDetails.id];if((c=t.filter(r.relationships,m.hitch(this,function(F){return F.id===h})))&&1===c.length){var z=c[0].keyField;(r=t.filter(r.fields,m.hitch(this,function(F){return F.name.toUpperCase()===
z.toUpperCase()})))&&0<r.length&&this._loadOptionsForDropDown(this._getSelectionInfo("relatedGUID","polylineLayer",!0),this.foreignKeyFieldNode,r,this._guidFieldType)}this.foreignKeyFieldNode.set("disabled",!0)},_autoPopulateSequenceID:function(){var c;this.sequenceIdFieldNode.options.length=0;this.sequenceIdFieldNode.addOption([{value:" ",label:"",field:null}]);(c=t.filter(this.map._layers[this.polylineDetails.id].fields,m.hitch(this,function(h){return"sequenceid"===h.name.toLowerCase()&&-1<this._numberFieldTypes.indexOf(h.type)})))&&
0<c.length&&this._loadOptionsForDropDown(this._getSelectionInfo("sequenceId","polylineLayer",!0),this.sequenceIdFieldNode,c,this._numberFieldTypes);this.sequenceIdFieldNode.set("disabled",!0)},_setPolylineFields:function(){if(this.map._layers[this.polylineDetails.id]){var c=this.map._layers[this.polylineDetails.id].fields;this._loadOptionsForDropDown(this._getSelectionInfo("bearing","polylineLayer",!0),this.bearingFieldNode,c,this._numberFieldTypes);this._loadOptionsForDropDown(this._getSelectionInfo("chordLength",
"polylineLayer",!0),this.chordLengthFieldNode,c,this._numberFieldTypes);this._loadOptionsForDropDown(this._getSelectionInfo("distance","polylineLayer",!0),this.distanceFieldNode,c,this._numberFieldTypes);this._autoPopulateSequenceID();this._loadOptionsForDropDown(this._getSelectionInfo("radius","polylineLayer",!0),this.radiusFieldNode,c,this._numberFieldTypes);this._autoPopulateRelatedGUID();this._loadOptionsForDropDown(this._getSelectionInfo("arcLength","polylineLayer",!0),this.arcLengthFieldNode,
c,this._numberFieldTypes);this._loadOptionsForDropDown(this._getSelectionInfo("lineType","polylineLayer",!0),this.lineTypeFieldNode,c,this._numberFieldTypes.concat(this._stringFieldType))}},_setPolygonFields:function(c,h){if(this.map._layers[this.polygonDetails.id]){var r=this.map._layers[this.polygonDetails.id].fields;this._loadOptionsForDropDown(this._getSelectionInfo("parcelName","polygonLayer",!1),this.parcelNameFieldNode,r,this._stringFieldType);this._loadOptionsForDropDown(this._getSelectionInfo("rotation",
"polygonLayer",!0),this.rotationFieldNode,r,this._numberFieldTypes);this._loadOptionsForDropDown(this._getSelectionInfo("planName","polygonLayer",!1),this.planNameFieldNode,r,this._stringFieldType);this._loadOptionsForDropDown(this._getSelectionInfo("scale","polygonLayer",!0),this.scaleFieldNode,r,this._numberFieldTypes);this._loadOptionsForDropDown(this._getSelectionInfo("documentType","polygonLayer",!1),this.documentTypeFieldNode,r,this._numberFieldTypes.concat(this._stringFieldType));this._loadOptionsForDropDown(this._getSelectionInfo("miscloseRatio",
"polygonLayer",!0),this.miscloseRatioFieldNode,r,this._numberFieldTypes);this._loadOptionsForDropDown(this._getSelectionInfo("statedArea","polygonLayer",!1),this.statedAreaFieldNode,r,this._numberFieldTypes.concat(this._stringFieldType));this._loadOptionsForDropDown(this._getSelectionInfo("miscloseDistance","polygonLayer",!0),this.miscloseDistanceFieldNode,r,this._numberFieldTypes);this._updateAttributeSettings(c,h)}},_loadOptionsForDropDown:function(c,h,r,z){var F=[];c.isRequired||F.push({value:" ",
label:this.nls.selectLabel,field:{}});t.forEach(r,m.hitch(this,function(I){var O=!0;z&&0>z.indexOf(I.type)&&(O=!1);O&&(O={value:I.name,label:I.alias,field:I},c.exactMatch?I.name.toLowerCase()===c.fieldName&&(O.selected="selected"):-1<I.name.toLowerCase().indexOf(c.fieldName)&&(O.selected="selected"),F.push(O))}));h.options.length=0;0===F.length&&F.push({value:" ",label:"",field:null});h.addOption(F)},_createTableForLineTypes:function(){var c=new C({fields:[{name:"isDefault",title:this.nls.common.defaults,
type:"radio",width:"40px"},{name:"lineType",title:this.nls.lineTypesTable.lineTypeLabel,type:"text",editable:"false",width:"120px"},{name:"value",title:this.nls.lineTypesTable.valueLabel,type:"empty",editable:"false",width:"100px"},{name:"symbol",title:this.nls.common.symbol,type:"empty",editable:"false",width:"100px"}],selectable:!1});c.placeAt(this.lineTypeNode);c.startup();var h=this.config.lineTypes[1].isDefault;this._createLineTypeRow(c,"connectionLine",!h);this._createLineTypeRow(c,"boundaryLine",
h)},_createLineTypeRow:function(c,h,r){c=c.addRow({isDefault:r});c.success&&c.tr&&(c=c.tr,c=n(".simple-table-cell",c),c[1].innerHTML=this.nls.lineTypesTable[h+"Label"],w.add(c[2],"esriCTTableCell"),"connectionLine"===h?(this._connectionLineTypeNode=p.create("div",{},c[2]),this._isConnectionLineDefault=n("input",c[0])[0],w.add(this._isConnectionLineDefault,"esriCTDefaultChkBox")):"boundaryLine"===h&&(this._boundaryLineTypeNode=p.create("div",{},c[2]),this._isBoundaryLineDefault=n("input",c[0])[0],
w.add(this._isBoundaryLineDefault,"esriCTDefaultChkBox")),w.add(c[3],"esriCTTableCell"),c=p.create("div",{"class":"esriCTTableControl esriCTPreviewField"},c[3]),this._createSymbolPicker(c,h,"esriGeometryPolyline",this.nls.lineTypesTable[h+"Label"]))},_updateLineTypeOptions:function(){var c=[],h=[];var r=this.getSelectedField(this.lineTypeFieldNode);p.empty(this._connectionLineTypeNode);p.empty(this._boundaryLineTypeNode);r&&r.domain&&r.domain.codedValues?(this.connectionBox=new A({"class":"esriCTTableControl",
required:!0,style:{width:"180px",height:"25px"}},p.create("div",{},this._connectionLineTypeNode)),this.boundaryBox=new A({"class":"esriCTTableControl",required:!0,style:{width:"180px",height:"25px"}},p.create("div",{},this._boundaryLineTypeNode)),t.forEach(r.domain.codedValues,m.hitch(this,function(z){var F={value:z.code,label:z.name};var I={value:z.code,label:z.name};this.config.lineTypes&&0<this.config.lineTypes.length&&null!==this.config.lineTypes[0].type&&null!==this.config.lineTypes[1].type?
(this.config.lineTypes[0].type===z.code&&(F.selected=!0),this.config.lineTypes[1].type===z.code&&(I.selected=!0)):(-1<z.name.toLowerCase().indexOf("connection")&&(F.selected=!0),-1<z.name.toLowerCase().indexOf("boundary")&&(I.selected=!0));c.push(F);h.push(I)})),this.connectionBox.addOption(c),this.boundaryBox.addOption(h)):r&&(r=0>this._numberFieldTypes.indexOf(r.type)?N:M,this.connectionBox=new r({"class":"esriCTTableControl",trim:!0,required:!0,style:{width:"180px",height:"25px"}},p.create("div",
{},this._connectionLineTypeNode)),this.boundaryBox=new r({"class":"esriCTTableControl",trim:!0,required:!0,style:{width:"180px",height:"25px"}},p.create("div",{},this._boundaryLineTypeNode)),this.config.lineTypes&&0<this.config.lineTypes.length&&(this.connectionBox.set("value",this.config.lineTypes[0].type),this.boundaryBox.set("value",this.config.lineTypes[1].type)))},_createSymbolPicker:function(c,h,r,z){var F={};if(r){F.type=B.getSymbolTypeByGeometryType(r);"startOrRotaionSymbol"!==h||this.config[h]||
(r={color:[136,136,136,255],size:11.25,angle:0,xoffset:0,yoffset:0,type:"esriSMS",style:"esriSMSCircle",outline:{color:[29,29,53,255],width:.75,type:"esriSLS",style:"esriSLSSolid"}},this.config[h]=r);if(this.config&&this.config[h]){F.symbol=D.fromJson(this.config[h]);var I=this._createPreviewContainer(c,!0)}else"connectionLine"===h?(F.symbol=D.fromJson(this.config.lineTypes[0].symbol),I=this._createPreviewContainer(c,!1)):"boundaryLine"===h&&(F.symbol=D.fromJson(this.config.lineTypes[1].symbol),I=
this._createPreviewContainer(c,!1));var O={symbolChooserTitle:z,symbolParams:F,symbolType:h,nls:this.nls};this._showSelectedSymbol(I,F.symbol,h);this.own(l(I,"click",m.hitch(this,function(){F.symbol=D.fromJson(this._symbolParams[h]);this._initSymbolChooserPopup(O,I)})))}return I},_createPreviewContainer:function(c,h){h?(c=p.create("table",{cellspacing:"0",cellpadding:"0"},c),c=p.create("tr",{style:"height:30px"},c),h=p.create("td",{},c),p.create("div",{innerHTML:this.nls.parcelLineLayer.symbolPickerPreviewText,
"class":"esriCTSymbolPreviewText"},h),c=p.create("td",{},c),c=p.create("div",{"class":"esriCTSymbolChooserNode"},c)):c=p.create("div",{"class":"esriCTSymbolChooserNode"},c);return c},_initSymbolChooserPopup:function(c,h){var r=new J(c);r.onOkClick=m.hitch(this,function(){var z=r.symbolChooser.getSymbol();this._showSelectedSymbol(h,z,c.symbolType);r.popup.close()})},_showSelectedSymbol:function(c,h,r){p.empty(c);if(h){var z=q.createSymbolNode(h);z||(z=p.create("div"));p.place(z,c);this._symbolParams[r]=
h.toJson()}},_initFieldsTable:function(){this._fieldsTable=new C({fields:[{name:"visible",title:this.nls.parcelPolygonLayer.display,type:"checkbox","class":"display",width:"15%"},{name:"isEditable",title:this.nls.parcelPolygonLayer.edit,type:"checkbox","class":"editable",width:"12%"},{name:"fieldName",title:this.nls.parcelPolygonLayer.editpageName,type:"text",width:"26%"},{name:"label",title:this.nls.parcelPolygonLayer.editpageAlias,type:"text",editable:!0,width:"34%"},{name:"actions",title:this.nls.parcelPolygonLayer.actions,
type:"actions",actions:["up","down"],"class":"actions",width:"13%"}],selectable:!1,style:{height:"210px",maxHeight:"210px"}});this._fieldsTable.placeAt(this.additionalFieldsTable);this._fieldsTable.startup()},_updateAttributeSettings:function(c,h){this._fieldsTable.clear();if(this.polygonDetails&&this.polygonDetails.id){c&&(c=this._jimuLayerInfos.getLayerInfoById(this.polygonDetails.id),this.polygonLayerNameNode.set("value",c.layerObject.name));this._fieldsTable.fields&&(this.webmapSettingsRadioBtn.get("checked")?
this._fieldsTable.fields[3].editable=!1:this._fieldsTable.fields[3].editable=!0);h=this._getFieldInfosForPolygonLayer(h);var r=!0,z=!0;t.forEach(h,m.hitch(this,function(I){var O=this._fieldsTable.addRow({fieldName:I.fieldName,isEditable:I.isEditable,label:I.label?I.label:I.fieldName,visible:I.visible}),T=!0,X=!1;r&&!I.visible&&(r=!1);z&&!I.isEditable&&(z=!1);if(this.webmapSettingsRadioBtn.get("checked"))T=!1,k(".action-item",O.tr).forEach(function(H){w.add(H,"esriCTHidden")});else{if(!I.nullable&&
I.editable){var U=!0;T=!1}I.editable||(X=!0)}k(".editable",O.tr).forEach(function(H){H=d.getEnclosingWidget(H.childNodes[0]);U&&H.setValue(!0);H.setStatus(T);X&&(H.setValue(!1),H.setStatus(!1))});k(".display",O.tr).forEach(function(H){H=d.getEnclosingWidget(H.childNodes[0]);U&&H.setValue(!0);H.setStatus(T)})}));h=this._fieldsTable._getThCheckBox("visible");c=this._fieldsTable._getThCheckBox("isEditable");var F=this.webmapSettingsRadioBtn.checked?!1:!0;F||(h.setValue(r),c.setValue(z));h.setStatus(F);
c.setStatus(F);setTimeout(m.hitch(this,function(){t.forEach(this._fieldsTable.fields,function(I){"visible"===I.name?I.onChange=m.hitch(this,this._onDisplayFieldChanged):"isEditable"===I.name&&(I.onChange=m.hitch(this,this._onIsEditableFieldChanged))},this)}),300)}},_onDisplayFieldChanged:function(c){var h=this._fieldsTable.getRowData(c);!h.visible&&h.isEditable&&(h.isEditable=!1,this._fieldsTable.editRow(c,h))},_onIsEditableFieldChanged:function(c){var h=this._fieldsTable.getRowData(c);h.isEditable&&
!h.visible&&(h.visible=!0,this._fieldsTable.editRow(c,h))},_getAdditionalFieldInfos:function(){var c=[],h,r=this._fieldsTable.getData();this.customSettingsRadioBtn.get("checked")&&(h=!0);t.forEach(r,function(z){var F=!1;h&&null===z.isEditable&&null===z.visible&&(F=!0);c.push({fieldName:z.fieldName,isEditable:F?F:z.isEditable,label:z.label,visible:F?F:z.visible})});return c},mergeFirstToLast:function(){for(var c={},h=arguments.length-1,r;0<=h;h--)for(r in arguments[h])arguments[h].hasOwnProperty(r)&&
(c[r]=arguments[h][r]);return c},_getFieldInfosFromLayer:function(c){var h=[];c&&c.layerObject&&t.forEach(c.layerObject.fields,function(r){var z=B.getDefaultPortalFieldInfo(r);z=this.mergeFirstToLast(z,r);z.format&&z.format.dateFormat&&z.format.dateFormat.toLowerCase()&&0<=z.format.dateFormat.toLowerCase().indexOf("time")&&(z.format.time=!0);z.visible=!0;h.push(z)},this);return h},_createFieldsDetailsObject:function(c){var h={};t.forEach(c,m.hitch(this,function(r){h[r.name]=r.type}));return h},getFieldInfoByFieldName:function(c,
h){var r={};t.some(c,function(z){if(z.name===h)return m.mixin(r,z),!0});return r},_skipReadOnlyFields:function(c){var h=[];c.layerObject.hasOwnProperty("globalIdField")&&void 0!==c.layerObject.globalIdField&&null!==c.layerObject.globalIdField&&h.push(c.layerObject.globalIdField);c.layerObject.hasOwnProperty("objectIdField")&&void 0!==c.layerObject.objectIdField&&null!==c.layerObject.objectIdField&&h.push(c.layerObject.objectIdField);if(c.layerObject.hasOwnProperty("editFieldsInfo")&&void 0!==c.layerObject.editFieldsInfo&&
null!==c.layerObject.editFieldsInfo)for(var r in c.layerObject.editFieldsInfo)c.layerObject.editFieldsInfo.hasOwnProperty(r)&&h.push(c.layerObject.editFieldsInfo[r]);return h},_getFieldInfosForPolygonLayer:function(c){var h=[],r=!1,z=[this.rotationFieldNode.get("value"),this.scaleFieldNode.get("value"),this.miscloseRatioFieldNode.get("value"),this.miscloseDistanceFieldNode.get("value"),this.statedAreaFieldNode.get("value")],F=this._jimuLayerInfos.getLayerInfoById(this.polygonDetails.id),I=this._createFieldsDetailsObject(F.layerObject.fields);
var O=this._getFieldInfosFromLayer(F);if(this.webmapSettingsRadioBtn.get("checked")&&F.controlPopupInfo&&F.controlPopupInfo.enablePopup&&F.controlPopupInfo.infoTemplate)r=!0,O=m.clone(F.controlPopupInfo.infoTemplate.info.fieldInfos);else if(c&&this.config.polygonLayer.hasOwnProperty("additionalFieldsInfo")&&0<this.config.polygonLayer.additionalFieldsInfo.length){var T=[];t.forEach(this.config.polygonLayer.additionalFieldsInfo,function(H){var W=this.getFieldInfoByFieldName(O,H.fieldName);W=m.mixin(W,
H);T.push(W)},this);O=T}else c&&this.config.polygonLayer&&(this.config.polygonLayer.documentType&&this.config.polygonLayer.documentType.hasOwnProperty("name")&&h.push(this.config.polygonLayer.documentType.name),this.config.polygonLayer.parcelName&&this.config.polygonLayer.parcelName.hasOwnProperty("name")&&h.push(this.config.polygonLayer.parcelName.name),this.config.polygonLayer.planName&&this.config.polygonLayer.planName.hasOwnProperty("name")&&h.push(this.config.polygonLayer.planName.name));if(!r){var X=
this._skipReadOnlyFields(F);O=O.filter(function(H){return-1!==t.indexOf(X,H.fieldName)?!1:H.hasOwnProperty("editable")?H.editable:H.isEditable})}var U=[];t.forEach(O,m.hitch(this,function(H){h&&0<h.length&&(0<=h.indexOf(H.fieldName)?H.isEditable=H.editable:H.visible=!1);-1<z.indexOf(H.fieldName)&&(H.visible=!1);0>z.indexOf(H.fieldName)&&I[H.fieldName]&&"esriFieldTypeRaster"!==I[H.fieldName]&&"esriFieldTypeBlob"!==I[H.fieldName]&&"esriFieldTypeXML"!==I[H.fieldName]&&(H.format&&H.format.dateFormat&&
H.format.dateFormat.toLowerCase()&&0<=H.format.dateFormat.toLowerCase().indexOf("time")&&(H.format.time=!0),U.push(H))}));return U}})});