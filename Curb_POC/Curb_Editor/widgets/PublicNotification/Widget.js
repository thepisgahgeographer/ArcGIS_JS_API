// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
/*

 ====================================================================
 jsPDF - PDF Document creation from JavaScript
 Version 1.3.4 Built on 2017-04-10T14:14:44.483Z
                           CommitID cf4827d221

 Copyright (c) 2010-2016 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
               2010 Aaron Spike, https://github.com/acspike
               2012 Willow Systems Corporation, willow-systems.com
               2012 Pablo Hess, https://github.com/pablohess
               2012 Florian Jenett, https://github.com/fjenett
               2013 Warren Weckesser, https://github.com/warrenweckesser
               2013 Youssef Beddad, https://github.com/lifof
               2013 Lee Driscoll, https://github.com/lsdriscoll
               2013 Stefan Slonevskiy, https://github.com/stefslon
               2013 Jeremy Morel, https://github.com/jmorel
               2013 Christoph Hartmann, https://github.com/chris-rock
               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
               2014 James Makes, https://github.com/dollaruw
               2014 Diego Casorran, https://github.com/diegocr
               2014 Steven Spungin, https://github.com/Flamenco
               2014 Kenneth Glassey, https://github.com/Gavvers

 Licensed under the MIT License

 Contributor(s):
    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
    kim3er, mfo, alnorth, Flamenco

 ====================================================================
 jsPDF AcroForm Plugin
 Copyright (c) 2016 Alexander Weidt, https://github.com/BiggA94

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF addHTML PlugIn
 Copyright (c) 2014 Diego Casorran

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF addImage plugin
 Copyright (c) 2012 Jason Siefken, https://github.com/siefkenj/
               2013 Chris Dowling, https://github.com/gingerchris
               2013 Trinh Ho, https://github.com/ineedfat
               2013 Edwin Alejandro Perez, https://github.com/eaparango
               2013 Norah Smith, https://github.com/burnburnrocket
               2014 Diego Casorran, https://github.com/diegocr
               2014 James Robb, https://github.com/jamesbrobb

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Cell plugin
 Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com
               2013 Eduardo Menezes de Morais, eduardo.morais@usp.br
               2013 Lee Driscoll, https://github.com/lsdriscoll
               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
               2014 James Hall, james@parall.ax
               2014 Diego Casorran, https://github.com/diegocr

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF fromHTML plugin. BETA stage. API subject to change. Needs browser
 Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
               2014 Diego Casorran, https://github.com/diegocr
               2014 Daniel Husar, https://github.com/danielhusar
               2014 Wolfgang Gassler, https://github.com/woolfg
               2014 Steven Spungin, https://github.com/flamenco

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF JavaScript plugin
 Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

  ====================================================================
 jsPDF PNG PlugIn
 Copyright (c) 2014 James Robb, https://github.com/jamesbrobb

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF split_text_to_size plugin - MIT license.
 Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
               2014 Diego Casorran, https://github.com/diegocr

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF total_pages plugin
 Copyright (c) 2013 Eduardo Menezes de Morais, eduardo.morais@usp.br

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 adler32cs
 Copyright (c) 2012 chick307 <chick307@gmail.com>

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
         Deflate.js - https://github.com/gildas-lormeau/zip.js
         Copyright (c) 2013 Gildas Lormeau. All rights reserved.

         Redistribution and use in source and binary forms, with or without
         modification, are permitted provided that the following conditions are met:

         1. Redistributions of source code must retain the above copyright notice,
         this list of conditions and the following disclaimer.

         2. Redistributions in binary form must reproduce the above copyright
         notice, this list of conditions and the following disclaimer in
         the documentation and/or other materials provided with the distribution.

         3. The names of the authors may not be used to endorse or promote products
         derived from this software without specific prior written permission.

         THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,
         INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
         FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,
         INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,
         INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
         LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
         OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
         LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
         NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
         EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

 ====================================================================
 html2canvas 0.5.0-beta3 <http://html2canvas.hertzen.com>
 Copyright (c) 2016 Niklas von Hertzen

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 base64-arraybuffer
 https://github.com/niklasvh/base64-arraybuffer

 Copyright (c) 2012 Niklas von Hertzen

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 PNG.js
 Copyright (c) 2011 Devon Govett

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 Extracted from pdf.js
 https://github.com/andreasgal/pdf.js

 Copyright (c) 2011 Mozilla Foundation

 Contributors: Andreas Gal <gal@mozilla.com>
               Chris G Jones <cjones@mozilla.com>
               Shaon Barman <shaon.barman@gmail.com>
               Vivien Nicolas <21@vingtetun.org>
               Justin D'Arcangelo <justindarc@gmail.com>
               Yury Delendik

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 String.prototype.trimLeft, String.prototype.trimRight are
 adapted from Chapter 5 Strings and Regular Expressions by
 Steven Levithan in the book High Performance JavaScript by
 Nicholas C. Zakas Copyright 2010 Yahoo!, Inc.,
 978-0-596-80279-0

 License: "In general, you may use the code in this book in
 your programs and documentation. You do not need to contact
 us for permission unless youâ€™re reproducing a significant
 portion of the code. For example, writing a program that uses
 several chunks of code from this book does not require
 permission."
 https://www.safaribooksonline.com/library/view/high-performance-javascript/9781449382308/pr02s12.html

 ====================================================================
 jsPDF Annotations PlugIn
 Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Autoprint Plugin

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Canvas PlugIn
 Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Context2D PlugIn Copyright (c) 2014 Steven Spungin (TwelveTone LLC) steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF Outline PlugIn
 Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF standard_fonts_metrics plugin
 Copyright (c) 2012 Willow Systems Corporation,
 willow-systems.com

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF SVG plugin Copyright (c) 2012 Willow Systems
 Corporation, willow-systems.com

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 jsPDF XMP metadata plugin
 Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license

 ====================================================================
 CssColors
 Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv

 Licensed under the MIT License.
 http://opensource.org/licenses/mit-license
 http://mths.be/punycode v1.2.4 by @mathias */
require({cache:{"dijit/ProgressBar":function(){define("require dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/number ./_Widget ./_TemplatedMixin dojo/text!./templates/ProgressBar.html".split(" "),function(xa,sa,ha,ia,U,N,F,ja){return sa("dijit.ProgressBar",[N,F],{progress:"0",value:"",maximum:100,places:0,indeterminate:!1,label:"",name:"",templateString:ja,_indeterminateHighContrastImagePath:xa.toUrl("./themes/a11y/indeterminate_progress.gif"),postMixInProperties:function(){this.inherited(arguments);
this.params&&"value"in this.params||(this.value=this.indeterminate?Infinity:this.progress)},buildRendering:function(){this.inherited(arguments);this.indeterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath.toString());this.update()},_setDirAttr:function(ca){var la="rtl"==ca.toLowerCase();ha.toggle(this.domNode,"dijitProgressBarRtl",la);ha.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&la);this.inherited(arguments)},update:function(ca){ia.mixin(this,
ca||{});ca=this.internalProgress;var la=this.domNode,T=1;this.indeterminate?la.removeAttribute("aria-valuenow"):(-1!=String(this.progress).indexOf("%")?(T=Math.min(parseFloat(this.progress)/100,1),this.progress=T*this.maximum):(this.progress=Math.min(this.progress,this.maximum),T=this.maximum?this.progress/this.maximum:0),la.setAttribute("aria-valuenow",this.progress));la.setAttribute("aria-labelledby",this.labelNode.id);la.setAttribute("aria-valuemin",0);la.setAttribute("aria-valuemax",this.maximum);
this.labelNode.innerHTML=this.report(T);ha.toggle(this.domNode,"dijitProgressBarIndeterminate",this.indeterminate);ha.toggle(this.domNode,"dijitProgressBarIndeterminateRtl",this.indeterminate&&!this.isLeftToRight());ca.style.width=100*T+"%";this.onChange()},_setValueAttr:function(ca){this._set("value",ca);Infinity==ca?this.update({indeterminate:!0}):this.update({indeterminate:!1,progress:ca})},_setLabelAttr:function(ca){this._set("label",ca);this.update()},_setIndeterminateAttr:function(ca){this._set("indeterminate",
ca);this.update()},report:function(ca){return this.label?this.label:this.indeterminate?"\x26#160;":U.format(ca,{type:"percent",places:this.places,locale:this.lang})},onChange:function(){}})})},"esri/geometry/geometryEngineAsync":function(){define("require exports esri/kernel module esri/geometry/Geometry esri/geometry/Polygon esri/geometry/Polyline esri/geometry/Point esri/geometry/Extent esri/geometry/Multipoint esri/workers/WorkerClient esri/arcade/polyfill/promiseUtils".split(" "),function(xa,
sa,ha,ia,U,N,F,ja,ca,la,T,k){function m(x){if(void 0===ja.fromJson){if(void 0!==x.x&&void 0!==x.y)return new ja(x);if(void 0!==x.paths)return new F(x);if(void 0!==x.rings)return new N(x);if(void 0!==x.points)return new la(x);if(void 0!==x.xmin&&void 0!==x.ymin&&void 0!==x.xmax&&void 0!==x.ymax)return new ca(x)}else{if(void 0!==x.x&&void 0!==x.y)return ja.fromJson(x);if(void 0!==x.paths)return F.fromJson(x);if(void 0!==x.rings)return N.fromJson(x);if(void 0!==x.points)return la.fromJson(x);if(void 0!==
x.xmin&&void 0!==x.ymin&&void 0!==x.xmax&&void 0!==x.ymax)return ca.fromJson(x)}}function q(x,w){if(null==x||void 0===x||"number"===typeof x)return x;var G=x.toString();if(""===G)return null;if(2==w){var Q=y[G];if(void 0!==Q)return Q}else if(0==w){Q=n[G];if(void 0!==Q)return Q;Q=u[x];if(void 0!==Q)return Q}else if(3==w&&(Q=n[G],void 0!==Q))return Q;if(1==w&&(Q=u[x],void 0!==Q))return Q;if(!0===/^\d+$/.test(G))return parseInt(G);throw Error("Unrecognised Unit Type");}function e(x){if(void 0!==x&&null!==
x)switch(x){case "loxodrome":return 1;case "great-elliptic":return 2;case "normal-section":return 3;case "shape-preserving":return 4}return 0}function a(x){if(null===x||void 0===x)return null;if(p)switch(x.type){case "point":return{x:x.x,y:x.y,z:x.z,m:x.m};case "multipoint":return{points:x.points,hasZ:x.hasZ,hasM:x.hasM};case "polyline":return{paths:x.paths,hasZ:x.hasZ,hasM:x.hasM};case "polygon":return{rings:x.rings,hasZ:x.hasZ,hasM:x.hasM};case "extent":return{xmin:x.xmin,ymin:x.ymin,xmax:x.xmax,
ymax:x.ymax,zmin:x.zmin,zmax:x.zmax,mmin:x.mmin,mmax:x.mmax}}else switch(x.type){case "point":return{x:x.x,y:x.y};case "multipoint":return{points:x.points};case "polyline":return{paths:x.paths};case "polygon":return{rings:x.rings};case "extent":return{xmin:x.xmin,ymin:x.ymin,xmax:x.xmax,ymax:x.ymax}}return null}function h(x,w){if(null===x)return null;x=m(x);p?x.set("spatialReference",w):x.setSpatialReference(w);return x}function d(x){return null==x||void 0===x?null:-1!=x.wkid&&null!==x.wkid&&void 0!==
x.wkid?{wkid:x.wkid}:""!==x.wkt&&void 0!==x.wkt&&null!==x.wkt?{wkt:x.wkt}:null}function f(x,w,G){return k.create(function(Q,S){var O=w.spatialReference;z.a({action:x,geoma:a(w),geomb:a(G),spatialReference:d(w.spatialReference)}).then(function(M){0===M.status?S(Error(M.error.message)):Q(h(M.result,O))},function(M){S(M)})})}function l(x,w,G){return k.create(function(Q,S){z.a({action:x,geoma:a(w),geomb:a(G),spatialReference:d(w.spatialReference)}).then(function(O){0===O.status?S(Error(O.error.message)):
Q(O.result)},function(O){S(O)})})}var p=0==ha.version.indexOf("4."),c;(function(x){x[x.Linear=0]="Linear";x[x.Angular=1]="Angular";x[x.Area=2]="Area";x[x.LinearOrAngular=3]="LinearOrAngular"})(c||(c={}));var n={feet:9002,kilometers:9036,meters:9001,miles:9035,"nautical-miles":9030,yards:9096},y={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109413,"square-yards":109442},u={degrees:9102,radians:9101},D=function(){function x(){this.c=
!0;this.i=null}x.prototype.A=function(w){var G=this;this.i=new T;this.i.setWorker(this.s(),function(){G.c=!1;w()})};x.prototype.s=function(){return xa.B?xa.B("./geometryenginewebworker"):ia.id.replace(/\/[^\/]*$/ig,"/")+"./geometryenginewebworker"};return x}(),z=function(){function x(){}x.a=function(w){return k.create(function(G,Q){x.h.push({task:w,d:{resolve:G,reject:Q}});x.f()})};x.f=function(){if(0<x.h.length){for(var w=null,G=0;G<x.b.length;G++)if(!1===x.b[G].c){w=x.b[G];break}null===w&&x.b.length<
x.g&&(G=new D,x.b.push(G),G.A(function(){x.f()}));if(null!==w){var Q=this.h.shift();w.c=!0;w.i.postMessage(Q.task).then(function(S){w.c=!1;try{Q.d.resolve(S)}catch(O){}x.f()},function(S){w.c=!1;try{Q.d.reject(S)}catch(O){}x.f()})}}};x.b=[];x.h=[];x.g=4;return x}();return function(){function x(){}x._removeAllWorkers=function(){z.b=[]};x._setMaxWorkers=function(w){x._removeAllWorkers();z.g=w};x._getMaxWorkers=function(){return z.g};x._getNumWorkers=function(){return z.b.length};x.extendedSpatialReferenceInfo=
function(w){return k.create(function(G,Q){z.a({action:"extendedspatialreferenceinfo",spatialReference:d(w)}).then(function(S){0===S.status?Q(Error(S.error.message)):G(S.result)},function(S){Q(S)})})};x.equals=function(w,G){return null===w&&null!==G||null===G&&null!==w?!1:l("equals",w,G)};x.intersects=function(w,G){if(null===w||null===G)throw Error("Illegal Argument Exception");return l("intersects",w,G)};x.touches=function(w,G){if(null===w||null===G)throw Error("Illegal Argument Exception");return l("touches",
w,G)};x.within=function(w,G){if(null===w||null===G)throw Error("Illegal Argument Exception");return l("within",w,G)};x.disjoint=function(w,G){if(null===w||null===G)throw Error("Illegal Argument Exception");return l("disjoint",w,G)};x.overlaps=function(w,G){if(null===w||null===G)throw Error("Illegal Argument Exception");return l("overlaps",w,G)};x.crosses=function(w,G){if(null===w||null===G)throw Error("Illegal Argument Exception");return l("crosses",w,G)};x.contains=function(w,G){if(null===w||null===
G)throw Error("Illegal Argument Exception");return l("contains",w,G)};x.isSimple=function(w){return l("issimple",w,null)};x.clip=function(w,G){return f("clip",w,G)};x.simplify=function(w){return k.create(function(G,Q){var S=w.spatialReference;z.a({action:"simplify",geoma:a(w),spatialReference:d(w.spatialReference)}).then(function(O){0===O.status?Q(Error(O.error.message)):G(h(O.result,S))},function(O){Q(O)})})};x.rotate=function(w,G,Q){return k.create(function(S,O){var M=w.spatialReference;if(void 0===
Q||null===Q)switch(w.type){case "point":Q=w;break;case "extent":Q=p?w.get("center"):w.getCenter();break;default:Q=p?w.get("extent").get("center"):w.getExtent().getCenter()}z.a({action:"rotate",geoma:a(w),spatialReference:d(w.spatialReference),angle:G,rotpt:a(Q)}).then(function(E){0===E.status?O(Error(E.error.message)):S(h(E.result,M))},function(E){O(E)})})};x.flipHorizontal=function(w,G){return k.create(function(Q,S){var O=w.spatialReference;if(void 0===G||null===G)switch(w.type){case "point":G=w;
break;case "extent":G=p?w.get("center"):w.getCenter();break;default:G=p?w.get("extent").get("center"):w.getExtent().getCenter()}z.a({action:"fliph",geoma:a(w),spatialReference:d(w.spatialReference),flippt:a(G)}).then(function(M){0===M.status?S(Error(M.error.message)):Q(h(M.result,O))},function(M){S(M)})})};x.flipVertical=function(w,G){return k.create(function(Q,S){var O=w.spatialReference;if(void 0===G||null===G)switch(w.type){case "point":G=w;break;case "extent":G=p?w.get("center"):w.getCenter();
break;default:G=p?w.get("extent").get("center"):w.getExtent().getCenter()}z.a({action:"flipv",geoma:a(w),spatialReference:d(w.spatialReference),flippt:a(G)}).then(function(M){0===M.status?S(Error(M.error.message)):Q(h(M.result,O))},function(M){S(M)})})};x.distance=function(w,G,Q){return k.create(function(S,O){z.a({action:"distance",geoma:a(w),geomb:a(G),spatialReference:d(w.spatialReference),distanceunits:q(Q,3)}).then(function(M){0===M.status?O(Error(M.error.message)):S(M.result)},function(M){O(M)})})};
x.relate=function(w,G,Q){return k.create(function(S,O){z.a({action:"relate",geoma:a(w),geomb:a(G),relation:Q,spatialReference:d(w.spatialReference)}).then(function(M){0===M.status?O(Error(M.error.message)):S(M.result)},function(M){O(M)})})};x.nearestCoordinate=function(w,G,Q){return k.create(function(S,O){var M=w.spatialReference;z.a({action:"nearestcoord",geoma:a(w),geomb:a(G),spatialReference:d(w.spatialReference),testinterior:void 0===Q?!0:Q}).then(function(E){0===E.status?O(Error(E.error.message)):
(E.result.coordinate=h(E.result.coordinate,M),S(E.result))},function(E){O(E)})})};x.nearestVertex=function(w,G){return k.create(function(Q,S){var O=w.spatialReference;z.a({action:"nearestvertex",geoma:a(w),geomb:a(G),spatialReference:d(w.spatialReference)}).then(function(M){0===M.status?S(Error(M.error.message)):(M.result.coordinate=h(M.result.coordinate,O),Q(M.result))},function(M){S(M)})})};x.nearestVertices=function(w,G,Q,S){return k.create(function(O,M){var E=w.spatialReference;z.a({action:"nearestvertices",
geoma:a(w),geomb:a(G),spatialReference:d(w.spatialReference),searchradius:Q,maxreturn:S}).then(function(B){if(0===B.status)M(Error(B.error.message));else{for(var P=0;P<B.result.length;P++)B.result[P].coordinate=h(B.result[P].coordinate,E);O(B.result)}},function(B){M(B)})})};x.cut=function(w,G){return k.create(function(Q,S){var O=w.spatialReference;z.a({action:"cut",geoma:a(w),geomb:a(G),spatialReference:d(w.spatialReference)}).then(function(M){if(0===M.status)S(Error(M.error.message));else{for(var E=
0;E<M.result.length;E++)M.result[E]=h(M.result[E],O);Q(M.result)}},function(M){S(M)})})};x.generalize=function(w,G,Q,S){return k.create(function(O,M){var E=w.spatialReference;z.a({action:"generalize",geoma:a(w),maxdeviation:G,removedegenerateparts:Q,maxdeviationunit:q(S,3),spatialReference:d(w.spatialReference)}).then(function(B){0===B.status?M(Error(B.error.message)):O(h(B.result,E))},function(B){M(B)})})};x.densify=function(w,G,Q){return k.create(function(S,O){var M=w.spatialReference;z.a({action:"densify",
geoma:a(w),maxsegmentlength:G,maxsegmentlengthunit:q(Q,3),spatialReference:d(w.spatialReference)}).then(function(E){0===E.status?O(Error(E.error.message)):S(h(E.result,M))},function(E){O(E)})})};x.geodesicDensify=function(w,G,Q,S){void 0===S&&(S=0);return k.create(function(O,M){var E=w.spatialReference;z.a({action:"geodensify",geoma:a(w),maxsegmentlength:G,maxsegmentlengthunit:q(Q,3),spatialReference:d(w.spatialReference),curveType:S}).then(function(B){0===B.status?M(Error(B.error.message)):O(h(B.result,
E))},function(B){M(B)})})};x.intersect=function(w,G){return w instanceof U?f("intersect",w,G):x.u(w,G)};x.u=function(w,G){return k.create(function(Q,S){for(var O=[],M=0;M<w.length;M++)O.push(a(w[M]));var E=G.spatialReference;z.a({action:"intersectmany",geom:a(G),geometries:O,spatialReference:d(G.spatialReference)}).then(function(B){if(0===B.status)S(Error(B.error.message));else{for(var P=0;P<B.result.length;P++)B.result[P]=h(B.result[P],E);Q(B.result)}},function(B){S(B)})})};x.difference=function(w,
G){return w instanceof U?f("difference",w,G):x.o(w,G)};x.o=function(w,G){return k.create(function(Q,S){for(var O=[],M=0;M<w.length;M++)O.push(a(w[M]));var E=G.spatialReference;z.a({action:"differencemany",geom:a(G),geometries:O,spatialReference:d(G.spatialReference)}).then(function(B){if(0===B.status)S(Error(B.error.message));else{for(var P=0;P<B.result.length;P++)B.result[P]=h(B.result[P],E);Q(B.result)}},function(B){S(B)})})};x.symmetricDifference=function(w,G){return w instanceof U?f("symdifference",
w,G):x.w(w,G)};x.w=function(w,G){return k.create(function(Q,S){for(var O=[],M=0;M<w.length;M++)O.push(a(w[M]));var E=G.spatialReference;z.a({action:"symdifferencemany",geom:a(G),geometries:O,spatialReference:d(G.spatialReference)}).then(function(B){if(0===B.status)S(Error(B.error.message));else{for(var P=0;P<B.result.length;P++)B.result[P]=h(B.result[P],E);Q(B.result)}},function(B){S(B)})})};x.union=function(w,G){void 0===G&&(G=null);return k.create(function(Q,S){var O=[];if(null===w)Q(null);else if(w instanceof
U&&(w=[w],null!==G&&w.push(G)),0===w.length)Q(null);else{for(var M=0;M<w.length;M++)O.push(a(w[M]));var E=w[0].spatialReference;z.a({action:"unionmany",geometries:O,spatialReference:d(E)}).then(function(B){0===B.status?S(Error(B.error.message)):Q(h(B.result,E))},function(B){S(B)})}})};x.buffer=function(w,G,Q,S){void 0===S&&(S=!1);if(w instanceof U)return k.create(function(B,P){var V=w.spatialReference;z.a({action:"buffer",geoma:a(w),spatialReference:d(w.spatialReference),distance:G,unit:q(Q,3),geodesic:!1,
geodesicmaxdeviation:NaN,geodesiccurvetype:0}).then(function(W){0===W.status?P(Error(W.error.message)):B(h(W.result,V))},function(W){P(W)})});if("[object Array]"!==Object.prototype.toString.call(G)){for(var O=[],M=0;M<w.length;M++)O.push(G);G=O}if(G.length!=w.length){if(0==G.length)throw Error("Illegal Argument Exception");O=[];var E=0;for(M=0;M<w.length;M++)void 0===G[M]?O.push(E):(O.push(G[M]),E=G[M]);G=O}return x.j(w,G,Q,!1,S,"geodesic",NaN)};x.geodesicBuffer=function(w,G,Q,S,O,M){if(w instanceof
U)return k.create(function(V,W){void 0===O&&(O=NaN);var Y=w.spatialReference;z.a({action:"buffer",geoma:a(w),spatialReference:d(w.spatialReference),distance:G,unit:q(Q,0),geodesic:!0,geodesicmaxdeviation:O,geodesiccurvetype:e(S)}).then(function(ma){0===ma.status?W(Error(ma.error.message)):V(h(ma.result,Y))},function(ma){W(ma)})});if("[object Array]"!==Object.prototype.toString.call(G)){for(var E=[],B=0;B<w.length;B++)E.push(G);G=E}if(G.length!=w.length){if(0==G.length)throw Error("Illegal Argument Exception");
E=[];var P=0;for(B=0;B<w.length;B++)void 0===G[B]?E.push(P):(E.push(G[B]),P=G[B]);G=E}return x.j(w,G,Q,!0,S,O,M)};x.j=function(w,G,Q,S,O,M,E){return k.create(function(B,P){var V=[];void 0===E&&(E=NaN);if(null===w)B(null);else if(0===w.length)B(null);else{for(var W=0;W<w.length;W++)V.push(a(w[W]));Q=S?q(Q,0):q(Q,3);var Y=w[0].spatialReference;z.a({action:"buffermany",geometries:V,spatialReference:d(Y),distances:G,tounionresults:O,unit:Q,geodesic:S,geodesicmaxdeviation:E,geodesiccurvetype:e(M)}).then(function(ma){if(0===
ma.status)P(Error(ma.error.message));else{for(var da=0;da<ma.result.length;da++)ma.result[da]=h(ma.result[da],Y);B(ma.result)}},function(ma){P(ma)})}})};x.convexHull=function(w,G){void 0===G&&(G=!1);return w instanceof U?k.create(function(Q,S){var O=w.spatialReference;z.a({action:"convexhull",geoma:a(w),spatialReference:d(w.spatialReference)}).then(function(M){0===M.status?S(Error(M.error.message)):Q(h(M.result,O))},function(M){S(M)})}):x.l(w,G)};x.l=function(w,G){return k.create(function(Q,S){for(var O=
[],M=0;M<w.length;M++)O.push(a(w[M]));var E=0<w.length?w[0].spatialReference:null;z.a({action:"convexhullmany",geometries:O,merge:G}).then(function(B){if(0===B.status)S(Error(B.error.message));else{for(var P=0;P<B.result.length;P++)B.result[P]=h(B.result[P],E);Q(B.result)}},function(B){S(B)})})};x.offset=function(w,G,Q,S,O,M){var E=0;if(null!=S&&void 0!=S)switch(S){case "round":E=0;break;case "bevel":E=1;break;case "miter":E=2;break;case "square":E=3}return w instanceof U?k.create(function(B,P){var V=
w.spatialReference;z.a({action:"offset",geoma:a(w),spatialReference:d(w.spatialReference),distance:G,joins:E,bevelratio:O,flattenerror:M,offsetunit:q(Q,3)}).then(function(W){0===W.status?P(Error(W.error.message)):B(h(W.result,V))},function(W){P(W)})}):x.v(w,G,Q,E,O,M)};x.v=function(w,G,Q,S,O,M){return k.create(function(E,B){for(var P=[],V=0;V<w.length;V++)P.push(a(w[V]));var W=0<w.length?w[0].spatialReference:null;z.a({action:"offsetmany",geometries:P,spatialReference:d(W),distance:G,joins:S,bevelratio:O,
offsetunit:q(Q,3),flattenerror:M}).then(function(Y){if(0===Y.status)B(Error(Y.error.message));else{for(var ma=0;ma<Y.result.length;ma++)Y.result[ma]=h(Y.result[ma],W);E(Y.result)}},function(Y){B(Y)})})};x.planarArea=function(w,G){return k.create(function(Q,S){z.a({action:"area",geoma:a(w),unit:q(G,2),spatialReference:d(w.spatialReference)}).then(function(O){0===O.status?S(Error(O.error.message)):Q(O.result)},function(O){S(O)})})};x.planarLength=function(w,G){return k.create(function(Q,S){z.a({action:"length",
geoma:a(w),unit:q(G,3),spatialReference:d(w.spatialReference)}).then(function(O){0===O.status?S(Error(O.error.message)):Q(O.result)},function(O){S(O)})})};x.geodesicArea=function(w,G,Q){return k.create(function(S,O){z.a({action:"geodesicarea",geoma:a(w),unit:q(G,2),geodesiccurvetype:e(Q),spatialReference:d(w.spatialReference)}).then(function(M){0===M.status?O(Error(M.error.message)):S(M.result)},function(M){O(M)})})};x.geodesicLength=function(w,G,Q){return k.create(function(S,O){z.a({action:"geodesiclength",
geoma:a(w),unit:q(G,0),geodesiccurvetype:e(Q),spatialReference:d(w.spatialReference)}).then(function(M){0===M.status?O(Error(M.error.message)):S(M.result)},function(M){O(M)})})};return x}()})},"esri/workers/WorkerClient":function(){define("dojo/Evented dojo/_base/declare dojo/Deferred dojo/_base/lang dojo/request ../sniff ../kernel ../urlUtils require".split(" "),function(xa,sa,ha,ia,U,N,F,ja,ca){var la=window.Blob||window.webkitBlob||window.mozBlob,T=window.URL||window.webkitURL||window.mozURL;xa=
sa([xa],{declaredClass:"esri.workers.WorkerClient",worker:null,returnDeferreds:!1,_queue:null,constructor:function(k,m,q){this._isIE=N("ie");this.returnDeferreds=!!q;this._queue={};this._acceptMessage=ia.hitch(this,this._acceptMessage);this._errorMessage=ia.hitch(this,this._errorMessage);k&&this.setWorker(k,ia.hitch(this,function(e){this.worker=e;m(e)}))},setWorker:function(k,m){if(k instanceof Array){var q=k;k=q.shift()}var e=this._getUrl(k);e=ja.normalize(e);k=!ja.hasSameOrigin(e,location.href);
if(!1===e)return console.log("Can not resolve worker path"),!1;if(this.worker){var a=this.worker;a.removeEventListener("message",this._acceptMessage,!1);a.removeEventListener("error",this._errorMessage,!1);a.terminate();a=null}if(k){k=this._getUrl("./mutableWorker",!0);try{this._getRemoteText(k,ia.hitch(this,function(h){h=T.createObjectURL(new la([h],{type:"text/javascript"}));m(this._createWorker(h,e))}))}catch(h){try{k=ja.getProxyUrl(k).path+"?"+encodeURI(k),this._useProxy=!0,m(this._createWorker(k,
q))}catch(d){return console.log("Can not create worker"),!1}}}else setTimeout(ia.hitch(this,function(){m(this._createWorker(e,q))}),0)},_createWorker:function(k,m){k=new Worker(k);k.addEventListener("message",this._acceptMessage,!1);k.addEventListener("error",this._errorMessage,!1);this.worker=k;m&&this.importScripts(m);return k},postMessage:function(k,m){if(k instanceof Array||"object"!=typeof k)k={data:k};var q=Math.floor(64E9*Math.random()).toString(36);k.msgId=q;q=this._queue[q]=new ha;this.worker?
(m?this.worker.postMessage(k,m):this.worker.postMessage(k),this.emit("start-message",{target:this,message:k})):q.reject({message:"No worker was set."});return this.returnDeferreds?q:q.promise||q},terminate:function(){var k=Object.keys(this._queue);this.worker&&this.worker.terminate();for(var m=k.length-1;0<=m;m--)this._queue[k[m]].cancel("terminated"),delete this._queue[k[m]]},addWorkerCallback:function(k,m){var q=this._getUrl(k,!0);!1===q?(m=new ha,m.reject({message:"Could not load text from "+k})):
(m=this.postMessage({action:"add-callback",url:q,cbName:m||"main"}),m.then(ia.hitch(this,function(e){e.target=this;this.emit("callback-added",e)})));return m},importScripts:function(k){Array.isArray(k)||(k=[k]);k=k.map(function(m){m=this._getUrl(m,!0);this._useProxy&&!ja.hasSameOrigin(m,location.href)&&(m=ja.getProxyUrl(m).path+"?"+encodeURI(m));return m},this);k=this.postMessage({action:"import-script",url:k});k.then(ia.hitch(this,function(m){m.target=this;this.emit("scripts-imported",m)}));return k},
_acceptMessage:function(k){var m=k.data,q=m.msgId;if(m.status&&"debug"==m.status)console[m.showAs||"debug"](m);else if(q&&q in this._queue){var e=this._queue[q];"progress"==m.status?e.progress(k.data):("error"==m.status?e.reject(k.data):e.resolve(k.data),delete this._queue[q])}this.emit("message",{message:k.data,event:k,target:this})},_errorMessage:function(k){this.onerror||this.onError?this.onerror?this.onerror(k):this.onError(k):console.log("Worker Error: "+k.message+"\nIn "+k.filename+" on "+k.lineno)},
_getUrl:function(k,m){if(!k)return console.error("can not resolve empty path"),!1;k.match(/\.js$/)||(k+=".js");k=ca.toUrl(k);return m?ja.getAbsoluteUrl(k):k},_getRemoteText:function(k,m){(k=this._getUrl(k))&&U.get(k,{sync:!1,handleAs:"text",headers:{"X-Requested-With":"","Content-Type":"text/plain"}}).then(function(q){m(q)})},_startBlobWorker:function(){var k=this._xdSource;k||(k=this._getUrl("./mutableWorker"),k=new la(["if(!self._mutable){importScripts('"+k+"');}"],{type:"text/javascript"}),k=this._xdSource=
T.createObjectURL(k));try{return new Worker(k)}catch(m){return console.log(m.message),!1}}});N("extend-esri")&&ia.setObject("workers.WorkerClient",xa,F);return xa})},"esri/tasks/BufferParameters":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/has ../kernel ../geometry/Polygon ../geometry/jsonUtils".split(" "),function(xa,sa,ha,ia,U,N,F,ja){xa=xa(null,{declaredClass:"esri.tasks.BufferParameters",geometries:null,outSpatialReference:null,bufferSpatialReference:null,
distances:null,unit:null,unionResults:!1,geodesic:!1,toJson:function(){var ca={unit:this.unit,unionResults:this.unionResults,geodesic:this.geodesic},la=this.distances,T=this.outSpatialReference,k=this.bufferSpatialReference,m=ha.map(this.geometries,function(a){a="extent"===a.type?F.fromExtent(a):a;return a.toJson()},this),q=this.geometries;if(q&&0<q.length){var e="extent"===q[0].type?"esriGeometryPolygon":ja.getJsonType(q[0]);ca.geometries=ia.toJson({geometryType:e,geometries:m});ca.inSR=q[0].spatialReference.wkid?
q[0].spatialReference.wkid:ia.toJson(q[0].spatialReference.toJson())}la&&(ca.distances=la.join(","));T&&(ca.outSR=T.wkid?T.wkid:ia.toJson(T.toJson()));k&&(ca.bufferSR=k.wkid?k.wkid:ia.toJson(k.toJson()));return ca}});U("extend-esri")&&sa.setObject("tasks.BufferParameters",xa,N);return xa})},"jimu/dijit/SearchDistance":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/SearchDistance.html dojo/Evented dojo/_base/lang jimu/utils jimu/dijit/CheckBox esri/tasks/GeometryService jimu/dijit/formSelect dijit/form/NumberTextBox".split(" "),
function(xa,sa,ha,ia,U,N,F,ja,ca,la){return xa([sa,ha,ia,N],{baseClass:"jimu-dijit-searchdistance",templateString:U,lastMeters:0,tip:"",distance:0,unit:"",postMixInProperties:function(){this.inherited(arguments);this.nls=F.clone(window.jimuNls.units);this.tip||(this.tip=window.jimuNls.searchDistance.applySearchDistance)},postCreate:function(){this.inherited(arguments);this.cbx=new ca({label:this.tip,onChange:F.hitch(this,this._onCbxChanged)});this.cbx.placeAt(this.cbxDiv);this.reset();this.setDistance(this.distance);
this.setUnit(this.unit);this.lastMeters=this.getMeters()},enable:function(){this.cbx.check()},disable:function(){this.cbx.uncheck()},isEnabled:function(){return this.cbx.getValue()},reset:function(){this.numberTextBox.set("value",0);this.unitSelect.set("value","MILES")},getData:function(){return{status:this.getStatus(),isEnabled:this.isEnabled(),distance:this.getDistance(),unit:this.getUnit(),bufferUnit:this.getUnitToBuffer(),meters:this.getMeters()}},getStatus:function(){if(this.isEnabled()){var T=
this.getDistance();T=0<T?1:0===T?0:-1}else T=0;return T},getMeters:function(){var T=0,k=this.getStatus();if(0<k){k=this.getDistance();var m=this.getUnit();"MILES"===m?T=1609.344*k:"KILOMETERS"===m?T=1E3*k:"FEET"===m?T=.3048*k:"METERS"===m?T=k:"YARDS"===m?T=.9144*k:"NAUTICAL_MILES"===m&&(T=1852*k);T=parseFloat(T.toFixed(3))}else 0===k?T=0:0>k&&(T=-1);return T},setDistance:function(T){"number"===typeof T&&0<=T&&this.numberTextBox.set("value",T)},setUnit:function(T){T&&"string"===typeof T&&this.unitSelect.set("value",
T)},tryShowValidationError:function(){this.numberTextBox.validate()||ja.showValidationErrorTipForFormDijit(this.numberTextBox)},getDistance:function(){return this.numberTextBox.validate()?this.numberTextBox.get("value"):(ja.showValidationErrorTipForFormDijit(this.numberTextBox),-1)},getUnit:function(){return this.unitSelect.get("value")},getUnitToBuffer:function(){var T="";switch(this.unitSelect.get("value")){case "MILES":T=la.UNIT_STATUTE_MILE;break;case "KILOMETERS":T=la.UNIT_KILOMETER;break;case "FEET":T=
la.UNIT_FOOT;break;case "METERS":T=la.UNIT_METER;break;case "YARDS":T=la.UNIT_INTERNATIONAL_YARD;break;case "NAUTICAL_MILES":T=la.UNIT_NAUTICAL_MILE}return T},_onCbxChanged:function(){this.cbx.getValue()?(this.numberTextBox.set("disabled",!1),this.unitSelect.set("disabled",!1)):(this.numberTextBox.set("disabled",!0),this.unitSelect.set("disabled",!0));this._emitEvent()},_onNumberTextBoxChanged:function(){this._emitEvent()},_onUnitSelectChanged:function(){this._emitEvent()},_emitEvent:function(){var T=
this.getData();T.meters!==this.lastMeters&&(this.lastMeters=T.meters,this.emit("change",T))}})})},"jimu/dijit/FeatureSetChooserForMultipleLayers":function(){define("dojo/on dojo/sniff dojo/mouse dojo/query dojo/Evented dojo/_base/html dojo/_base/lang dojo/_base/array dojo/promise/all dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/FeatureSetChooserForMultipleLayers.html dijit/popup dijit/TooltipDialog jimu/utils jimu/dijit/DrawBox jimu/dijit/_FeatureSetChooserCore jimu/SelectionManager jimu/dijit/FeatureActionPopupMenu".split(" "),
function(xa,sa,ha,ia,U,N,F,ja,ca,la,T,k,m,q,e,a,h,d,f,l,p){return la([T,k,m,U],{baseClass:"jimu-multiple-layers-featureset-chooser",declaredClass:"jimu.dijit.FeatureSetChooserForMultipleLayers",templateString:q,drawBox:null,_instances:null,_tooltipDialogTimeoutId1:-1,_tooltipDialogClientX1:-1,_tooltipDialogTimeoutId2:-1,_tooltipDialogClientX2:-1,_tooltipTimeout:1E3,_currentGeoTypeInfo:null,_geoTypeInfos:null,map:null,updateSelection:!1,fullyWithin:!1,geoTypes:null,actions:null,postMixInProperties:function(){this.inherited(arguments);
this.nls=window.jimuNls.featureSetChooser;var c="POINT EXTENT POLYGON CIRCLE POLYLINE FREEHAND_POLYGON".split(" ");this.geoTypes&&0<this.geoTypes.length&&(this.geoTypes=ja.filter(this.geoTypes,F.hitch(this,function(n){return 0<=c.indexOf(n)})));this.geoTypes&&0!==this.geoTypes.length||(this.geoTypes=["EXTENT"])},postCreate:function(){this.inherited(arguments);this._instances=[];this.popupMenu=p.getInstance();ia(".select-text",this.domNode)[0].innerHTML=this.nls.select;ia(".clear-text",this.domNode)[0].innerHTML=
window.jimuNls.common.clear;this._initTooltipDialogs();this._initDrawBox();this._geoTypeInfos=[];this.actions=[];0===this.geoTypes.length&&this.geoTypes.push("EXTENT");1===this.geoTypes.length?N.addClass(this.domNode,"single-geotype"):N.addClass(this.domNode,"multiple-geotypes");var c={POINT:["icon-select-by-point",this.nls.selectByPoint,this.drawBox.pointIcon],EXTENT:["icon-select-by-rect",this.nls.selectByRectangle,this.drawBox.extentIcon],POLYGON:["icon-select-by-polygon",this.nls.selectByPolygon,
this.drawBox.polygonIcon],CIRCLE:["icon-select-by-circle",this.nls.selectByCircle,this.drawBox.circleIcon],POLYLINE:["icon-select-by-line",this.nls.selectByLine,this.drawBox.polylineIcon],FREEHAND_POLYGON:["icon-select-by-freehand-polygon",this.nls.selectByFreehandPolygon,this.drawBox.freehandPolygonIcon]},n=-1;ja.forEach("POINT EXTENT POLYGON CIRCLE POLYLINE FREEHAND_POLYGON".split(" "),F.hitch(this,function(y){var u=c[y];if(0<=this.geoTypes.indexOf(y)){var D={geoType:y,action:{iconClass:u[0],label:u[1],
data:{}},dom:u[2]};u={iconClass:u[0],label:u[1],data:{},onExecute:F.hitch(this,this._onDrawItemClicked,D)};this._geoTypeInfos.push(D);this.actions.push(u);"EXTENT"===y&&(n=this._geoTypeInfos.length-1)}}));this.own(xa(this.btnSelect,"click",F.hitch(this,function(){h.simulateClickEvent(this._currentGeoTypeInfo.dom);this._hideDrawItems()})));0<=n?(this._setCurrentGeoInfo(this._geoTypeInfos[n]),N.addClass(this.geoTypeIcon,"icon-select-by-rect")):(this._setCurrentGeoInfo(this._geoTypeInfos[0]),N.addClass(this.geoTypeIcon,
this._geoTypeInfos[0].action.iconClass));this.deactivate()},_initTooltipDialogs:function(){var c=sa("mac")?"\u2318":"Ctrl",n="- "+this.nls.newSelectionTip+" ("+this.nls.dragMouse+")",y="- "+this.nls.addSelectionTip+" (Shift+"+this.nls.dragBox+")",u="- "+this.nls.removeSelectionTip+" ("+c+"+"+this.nls.dragBox+")",D="- "+this.nls.newSelectionTip+" ("+this.nls.drawShap+")",z="- "+this.nls.addSelectionTip+" (Shift+"+this.nls.darw+")",x="- "+this.nls.removeSelectionTip+" ("+c+"+"+this.nls.darw+")";c=N.create("div",
{innerHTML:'\x3cdiv class\x3d"title"\x3e\x3c/div\x3e\x3cdiv class\x3d"item new-selection-item"\x3e\x3c/div\x3e\x3cdiv class\x3d"item add-selection-item"\x3e\x3c/div\x3e\x3cdiv class\x3d"item remove-selection-item"\x3e\x3c/div\x3e',"class":"dialog-content"});var w=ia(".title",c)[0],G=ia(".new-selection-item",c)[0],Q=ia(".add-selection-item",c)[0],S=ia(".remove-selection-item",c)[0];this.tooltipDialog1=new a({content:c});N.addClass(this.tooltipDialog1.domNode,"jimu-multiple-layers-featureset-chooser-tooltipdialog");
this.own(xa(this.btnSelect,"mousemove",F.hitch(this,function(O){this._tooltipDialogClientX1=O.clientX})));this.own(xa(this.btnSelect,ha.enter,F.hitch(this,function(){clearTimeout(this._tooltipDialogTimeoutId1);this._tooltipDialogTimeoutId1=-1;this._tooltipDialogTimeoutId1=setTimeout(F.hitch(this,function(){if(this.tooltipDialog1){var O=this._currentGeoTypeInfo.geoType;"EXTENT"===O?(G.innerHTML=n,Q.innerHTML=y,S.innerHTML=u,w.innerHTML=this.nls.selectByRectangle):(G.innerHTML=D,Q.innerHTML=z,S.innerHTML=
x,"POLYGON"===O?w.innerHTML=this.nls.selectByPolygon:"CIRCLE"===O?w.innerHTML=this.nls.selectByCircle:"POLYLINE"===O?w.innerHTML=this.nls.selectByLine:"FREEHAND_POLYGON"===O?w.innerHTML=this.nls.selectByFreehandPolygon:"POINT"===O&&(w.innerHTML=this.nls.selectByPoint));e.open({parent:this.getParent(),popup:this.tooltipDialog1,around:this.btnSelect,position:["below"]});0<=this._tooltipDialogClientX1&&(this.tooltipDialog1.domNode.parentNode.style.left=this._tooltipDialogClientX1+"px")}}),this._tooltipTimeout)})));
this.own(xa(this.btnSelect,ha.leave,F.hitch(this,function(){clearTimeout(this._tooltipDialogTimeoutId1);this._tooltipDialogTimeoutId1=-1;this._hideTooltipDialog(this.tooltipDialog1)})));c=N.create("div",{innerHTML:this.nls.unselectAllSelectionTip,"class":"dialog-content"});this.tooltipDialog2=new a({content:c});N.addClass(this.tooltipDialog2.domNode,"jimu-multiple-layers-featureset-chooser-tooltipdialog");this.own(xa(this.btnClear,"mousemove",F.hitch(this,function(O){this._tooltipDialogClientX2=O.clientX})));
this.own(xa(this.btnClear,ha.enter,F.hitch(this,function(){clearTimeout(this._tooltipDialogTimeoutId2);this._tooltipDialogTimeoutId2=-1;this._tooltipDialogTimeoutId2=setTimeout(F.hitch(this,function(){this.tooltipDialog2&&(e.open({parent:this.getParent(),popup:this.tooltipDialog2,around:this.btnClear,position:["below"]}),0<=this._tooltipDialogClientX2&&(this.tooltipDialog2.domNode.parentNode.style.left=this._tooltipDialogClientX2+"px"))}),this._tooltipTimeout)})));this.own(xa(this.btnClear,ha.leave,
F.hitch(this,function(){clearTimeout(this._tooltipDialogTimeoutId2);this._tooltipDialogTimeoutId2=-1;this._hideTooltipDialog(this.tooltipDialog2)})))},_onArrowClicked:function(c){c.stopPropagation();c=N.position(c.target);this._showDrawItems(c)},_setCurrentGeoInfo:function(c){var n=this._currentGeoTypeInfo&&this._currentGeoTypeInfo.geoType;this._currentGeoTypeInfo&&N.removeClass(this.currentDrawItem,this._currentGeoTypeInfo.geoType);this._currentGeoTypeInfo=c;N.addClass(this.currentDrawItem,this._currentGeoTypeInfo.geoType);
this.isActive()?n!==this._currentGeoTypeInfo.geoType&&h.simulateClickEvent(this._currentGeoTypeInfo.dom):h.simulateClickEvent(this._currentGeoTypeInfo.dom)},_showDrawItems:function(c){this.popupMenu.setActions(this.actions);this.popupMenu.markAsSelected(this._currentGeoTypeInfo.action);this.popupMenu.show(c)},_hideDrawItems:function(){this.popupMenu.hide()},_onDrawItemClicked:function(c){this._hideDrawItems();this._setCurrentGeoInfo(c);N.removeClass(this.geoTypeIcon,"icon-select-by-point icon-select-by-circle icon-select-by-rect icon-select-by-polygon icon-select-by-line icon-select-by-freehand-polygon".split(" "));
switch(c.geoType){case "POLYGON":N.addClass(this.geoTypeIcon,"icon-select-by-polygon");break;case "CIRCLE":N.addClass(this.geoTypeIcon,"icon-select-by-circle");break;case "POLYLINE":N.addClass(this.geoTypeIcon,"icon-select-by-line");break;case "FREEHAND_POLYGON":N.addClass(this.geoTypeIcon,"icon-select-by-freehand-polygon");break;case "POINT":N.addClass(this.geoTypeIcon,"icon-select-by-point");break;default:N.addClass(this.geoTypeIcon,"icon-select-by-rect")}},_initDrawBox:function(){this.drawBox=
new d({map:this.map,showClear:!0,keepOneGraphic:!0,deactivateAfterDrawing:!1,geoTypes:this.geoTypes});this.own(xa(this.drawBox,"user-clear",F.hitch(this,this._onDrawBoxUserClear)));this.own(xa(this.drawBox,"draw-end",F.hitch(this,this._onDrawEnd)));this.own(xa(this.drawBox,"draw-activate",F.hitch(this,function(){this.map.infoWindow.hide();N.addClass(this.currentDrawItem,"pressed");N.addClass(this.btnSelect,"selected")})));this.own(xa(this.drawBox,"draw-deactivate",F.hitch(this,function(){N.removeClass(this.currentDrawItem,
"pressed");N.removeClass(this.btnSelect,"selected")})));this.own(xa(this.btnClear,"click",F.hitch(this,function(){h.simulateClickEvent(this.drawBox.btnClear)})))},disable:function(){this.drawBox.disable();N.addClass(this.domNode,"disabled")},enable:function(){this.drawBox.enable();N.removeClass(this.domNode,"disabled")},isActive:function(){return this.drawBox.isActive()},activate:function(){if(!this.isActive()){var c=this._currentGeoTypeInfo;c||(c=this._geoTypeInfos[0]);this._setCurrentGeoInfo(c)}},
deactivate:function(){this.drawBox.deactivate()},setFeatureLayers:function(c){var n=ja.filter(this._instances,F.hitch(this,function(u){return 0>c.indexOf(u.featureLayer)}));ja.forEach(n,F.hitch(this,function(u){this._removeInstance(u)}));var y=ja.map(this._instances,F.hitch(this,function(u){return u.featureLayer}));ja.forEach(c,F.hitch(this,function(u){0>y.indexOf(u)&&this.addFeatureLayer(u)}))},addFeatureLayer:function(c){"esri.layers.FeatureLayer"!==c.declaredClass||this._findInstanceByLayer(c)||
(c=new f({map:this.map,featureLayer:c,drawBox:this.drawBox,updateSelection:this.updateSelection,fullyWithin:this.fullyWithin}),this._instances.push(c))},removeFeatureLayer:function(c){"esri.layers.FeatureLayer"===c.declaredClass&&(c=this._findInstanceByLayer(c))&&this._removeInstance(c)},setDisplayLayerVisibility:function(c,n){(c=l.getInstance().getDisplayLayer(c.id))&&(n?c.show():c.hide())},_removeInstance:function(c){if(c){var n=this._instances.indexOf(c);0<=n&&(c.destroy(),this._instances.splice(n,
1))}},_findInstanceByLayer:function(c){var n=null;ja.some(this._instances,F.hitch(this,function(y){return y.featureLayer===c?(n=y,!0):!1}));return n},clear:function(c){ja.forEach(this._instances,F.hitch(this,function(n){n.clear(c)}))},destroy:function(){this._hideTooltipDialog(this.tooltipDialog1);this._hideTooltipDialog(this.tooltipDialog2);ja.forEach(this._instances,F.hitch(this,function(c){c.destroy()}));this._instances=[];this.drawBox&&this.drawBox.destroy();this.drawBox=null;this.inherited(arguments)},
_hideTooltipDialog:function(c){c&&e.close(c)},_onDrawBoxUserClear:function(){this.clear(!0);this.emit("user-clear")},_onDrawEnd:function(c,n,y,u,D,z){this.drawBox.clear();0<this._instances.length&&setTimeout(F.hitch(this,function(){if(0<this._instances.length){this.emit("loading");this.disable();var x=ja.map(this._instances,F.hitch(this,function(w){return w.getFeatures()}));ca(x).always(F.hitch(this,function(){this.enable();this._currentGeoTypeInfo&&h.simulateClickEvent(this._currentGeoTypeInfo.dom);
this.emit("unloading",c,n,y,u,D,z)}))}}),50)}})})},"jimu/dijit/_FeatureSetChooserCore":function(){define("dojo/on dojo/sniff dojo/Evented dojo/Deferred dojo/_base/lang dojo/_base/array dojo/_base/declare jimu/utils jimu/symbolUtils jimu/SelectionManager jimu/LayerInfos/LayerInfos esri/graphic esri/tasks/query esri/tasks/QueryTask esri/layers/FeatureLayer esri/symbols/jsonUtils esri/geometry/geometryEngine".split(" "),function(xa,sa,ha,ia,U,N,F,ja,ca,la,T,k,m,q,e,a,h){return F([ha],{baseClass:"jimu-featureset-chooser-core",
_middleFeatureLayer:null,_isLoading:!1,_def:null,_isDestroyed:!1,_handles:null,selectionManager:null,layerInfosObj:null,layerInfo:null,map:null,featureLayer:null,drawBox:null,updateSelection:!1,fullyWithin:!1,constructor:function(d){U.mixin(this,d);this.layerInfosObj=T.getInstanceSync();this.selectionManager=la.getInstance();this.featureLayer.getSelectionSymbol()||this.selectionManager.setSelectionSymbol(this.featureLayer);d=ja.getFeatureLayerDefinition(this.featureLayer);delete d.id;this._middleFeatureLayer=
new e({layerDefinition:d,featureSet:null},{id:"featureLayer_"+ja.getRandomString()});d=null;var f=this._middleFeatureLayer.geometryType;"esriGeometryPoint"===f?d=ca.getDefaultMarkerSymbol():"esriGeometryPolyline"===f?d=ca.getDefaultLineSymbol():"esriGeometryPolygon"===f&&(d=a.fromJson({style:"esriSFSSolid",color:[79,129,189,77],type:"esriSFS",outline:{style:"esriSLSSolid",color:[54,93,141,255],width:1.5,type:"esriSLS"}}));this._middleFeatureLayer.setSelectionSymbol(d);d=xa(this.drawBox,"user-clear",
U.hitch(this,this._onDrawBoxUserClear));f=xa(this.drawBox,"draw-end",U.hitch(this,this._onDrawEnd));this._handles=[d,f];if(this.layerInfo=this.layerInfosObj.getLayerInfoById(this.featureLayer.id))d=xa(this.layerInfo,"filterChanged",U.hitch(this,this._handleFilterChange)),this._handles.push(d)},hideMiddleFeatureLayer:function(){if(this._middleFeatureLayer){this._middleFeatureLayer.hide();var d=this.selectionManager.getDisplayLayer(this._middleFeatureLayer.id);d&&d.hide()}},showMiddleFeatureLayer:function(){if(this._middleFeatureLayer){this._middleFeatureLayer.show();
var d=this.selectionManager.getDisplayLayer(this._middleFeatureLayer.id);d&&d.show()}},clear:function(d){this.drawBox.clear();this._clearMiddleFeatureLayer();d&&this.selectionManager.clearSelection(this.featureLayer)},getFeatures:function(){var d=new ia,f=U.hitch(this,function(){var p=this.syncGetFeatures();d.resolve(p)}),l=U.hitch(this,function(p){d.reject(p)});1===this._getDeferredStatus(this._def)?this._def.then(f,l):f();return d},syncGetFeatures:function(){return(this.updateSelection?this.featureLayer:
this._middleFeatureLayer).getSelectedFeatures()},isLoading:function(){return 1===this._getDeferredStatus(this._def)},_onLoading:function(){this.drawBox.deactivate();this.emit("loading")},_onUnloading:function(){this.emit("unloading")},_getDeferredStatus:function(d){var f=0;return f=d?d.isResolved()?2:d.isRejected()?-1:1:0},_onDrawEnd:function(d,f,l,p,c,n){if(this.isLoading())throw"should not draw when loading";if(this.featureLayer.visible){var y=new ia;this._def=y;var u=e.SELECTION_NEW;p&&(u=e.SELECTION_ADD);
sa("mac")?n&&(u=e.SELECTION_SUBTRACT):c&&(u=e.SELECTION_SUBTRACT);this.emit("loading");this._getFeaturesByGeometry(d.geometry).then(U.hitch(this,function(D){this.selectionManager.updateSelectionByFeatures(this.updateSelection?this.featureLayer:this._middleFeatureLayer,D,u);this._onUnloading();y.resolve(D)}),U.hitch(this,function(D){console.error(D);this._onUnloading();y.reject(D)}))}},_addTolerance:function(d){var f=2.54*this.map.getScale()/9600;return h.buffer(d,10*f,"meters")},_getFeaturesByGeometry:function(d){"point"!==
d.type&&"polyline"!==d.type||"esriGeometryPoint"!==this.featureLayer.geometryType||(d=this._addTolerance(d));var f=new ia,l=[];if(this.featureLayer.getMap()&&this.featureLayer.mode!==e.MODE_SELECTION)d=this.selectionManager.getClientFeaturesByGeometry(this.featureLayer,d,this.fullyWithin),0<d.length&&(l=N.map(d,U.hitch(this,function(c){return new k(c.toJson())}))),f.resolve(l);else{l=new m;l.geometry=d;l.outSpatialReference=this.map.spatialReference;l.returnGeometry=!0;l.spatialRelationship=this.fullyWithin?
m.SPATIAL_REL_CONTAINS:m.SPATIAL_REL_INTERSECTS;(d=this.featureLayer.getDefinitionExpression())||(d="1\x3d1");if(this.layerInfo){var p=this.layerInfo.getFilter();p&&(d="("+d+") AND ("+p+")")}d&&(l.where=d);l.outFields=["*"];(new q(this.featureLayer.url)).execute(l).then(U.hitch(this,function(c){f.resolve(c.features)}),U.hitch(this,function(c){f.reject(c)}))}return f},_onDrawBoxUserClear:function(){this.clear()},_clearMiddleFeatureLayer:function(){this._middleFeatureLayer&&(this._middleFeatureLayer.clear(),
this.selectionManager.clearSelection(this._middleFeatureLayer))},_handleFilterChange:function(){var d=this.layerInfo.getFilter()||"1\x3d1",f=this.featureLayer.getSelectedFeatures(),l=this.featureLayer.objectIdField;if(f&&0<f.length){var p=N.map(f,function(n){return n.attributes[l]}),c=new m;c.where=l+" in ("+p.join(",")+") AND "+d;(new q(this.featureLayer.url)).executeForIds(c).then(U.hitch(this,function(n){N.forEach(f,function(y){0<=n.indexOf(y.attributes[l])?y.show():y.hide()});this.selectionManager._isLayerNeedDisplayLayer(this.featureLayer)&&
this.selectionManager._updateDisplayLayer(this.featureLayer,f,e.SELECTION_NEW);this.featureLayer.emit("selection-complete",{features:this.featureLayer.getSelectedFeatures()})}),U.hitch(this,function(n){console.error(n)}))}},destroy:function(){this._isDestroyed||(N.forEach(this._handles,U.hitch(this,function(d){d.remove()})),this._handles=null,this.clear());this._isDestroyed=!0}})})},"widgets/PublicNotification/Download_Avery":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang",
"dojo/Deferred"],function(xa,sa,ha,ia){return sa(null,{constructor:function(){this._jspdf=this._initpdf()},save:function(U,N,F,ja,ca,la){var T=U.length,k,m=Date.now(),q,e=new ia;ca=ha.mixin({canvas:{parentElem:ca,elementName:"labelCanvas"}},F,ja);ca.guidance.labelBorderBlackPercent=this._conformToRange(ca.guidance.labelBorderBlackPercent,0,100,50);ca.guidance.gridBlackPercent=this._conformToRange(ca.guidance.gridBlackPercent,0,100,50);ja=ja.useVectorFonts?null:1;F=F.numLabelsAcross*F.numLabelsDown;
ca.filenameRoot=N;!ca.useVectorFonts&&"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob&&(k=function(){confirm("Continue?")});this._createPDFLabelDocSet(ca,ja,F,T,la,k,function(a){if(0>a||a>=T)return null;var h=xa.filter(U[a],function(d){return d});++a;return h}).then(function(a){q=Date.now();console.log("Elapsed time: "+(q-m)/1E3+" sec.");e.resolve(a)});return e},_StageEnum:{START_ENV:1,FINISH_ENV:2,START_PAGE:3,FINISH_PAGE:4,START_COL:5,START_ROW:6,DRAW_LABEL:7},_createPDFLabelDocSet:function(U,
N,F,ja,ca,la,T){return this._createPDFLabelDocSetContinuation(U,N,F,ja,1,0,ca,la,T)},_createPDFLabelDocSetContinuation:function(U,N,F,ja,ca,la,T,k,m){var q=new ia;var e=-1+(N?Math.min(la+F*N,ja):ja);if(la>e)return q.resolve(!0),q;var a=N?Math.ceil(ja/(F*N)):1;this._createPDFLabelDoc(U,a,ca,la,e,F,m).then(ha.hitch(this,function(h){h?(T&&T.set({value:100*ca/a}),setTimeout(ha.hitch(this,function(){k&&ca<a&&k();this._createPDFLabelDocSetContinuation(U,N,F,ja,++ca,e+1,T,k,m).then(function(d){q.resolve(d)})}),
10)):(console.log("failure in _createPDFLabelDoc; terminate chain"),q.resolve(!1))}));return q},_createPDFLabelDoc:function(U,N,F,ja,ca,la,T){var k=0,m=new ia,q={},e=U.numLabelsDown,a=0,h=0;q.config=U;q.canvas=U.canvas;q.pageNum=0;q.totalPages=Math.ceil((ca-ja+1)/la);q.doc=this._createPDFBuilder();if(q.doc){var d="function"===typeof U.useVectorFonts?U.useVectorFonts:U.useVectorFonts?ha.hitch(this,this._drawUsingVector):ha.hitch(this,this._drawUsingRaster);for(d(this._StageEnum.START_ENV,q);ja<=ca;++ja){var f=
T(ja);Array.isArray(f)&&0!==f.length&&(0===k%la?(0<k&&(d(this._StageEnum.FINISH_PAGE,q),q.doc.addPage()),h=a=0,d(this._StageEnum.START_PAGE,q,q.pageNum++),d(this._StageEnum.START_COL,q,h)):0===k%e&&(d(this._StageEnum.START_COL,q,++h),a=0),d(this._StageEnum.START_ROW,q,a++),d(this._StageEnum.DRAW_LABEL,q,f),++k)}d(this._StageEnum.FINISH_PAGE,q);d(this._StageEnum.FINISH_ENV,q);U.filenameRoot&&(U=U.filenameRoot+(1===N?".pdf":"_"+F+"_"+N+".pdf"),console.log("Saving "+U+"..."),q.doc.save(U),console.log("Saved "+
U));m.resolve(!0);return m}m.resolve(!1)},_drawUsingVector:function(U,N,F){function ja(ca){var la=N.config.labelWidthIn-3*N.config.insetIn;if(this._getTextWidthIn(N.doc,ca)>la){do ca=ca.slice(0,-1);while(this._getTextWidthIn(N.doc,ca)>la);ca+="..."}return ca}switch(U){case this._StageEnum.START_ENV:N.vector={fontHeightIn:N.config.fontSizePx/N.doc.internal.scaleFactor};N.vector.verticalFontGapIn=.2*N.vector.fontHeightIn;break;case this._StageEnum.START_PAGE:N.doc.setFont("sans-serif","normal");N.doc.setFontSize(N.config.fontSizePx);
break;case this._StageEnum.FINISH_PAGE:this._drawFrame(N);break;case this._StageEnum.START_COL:N.vector.currentLabelLeftIn=N.config.pageLeftIn+F*(N.config.labelWidthIn+N.config.horizGapIn);break;case this._StageEnum.START_ROW:N.vector.currentLabelTopIn=N.config.pageTopIn+F*(N.config.labelHeightIn+N.config.vertGapIn);break;case this._StageEnum.DRAW_LABEL:F=F.map(ha.hitch(this,ja)),U=N.vector.currentLabelTopIn+N.config.labelHeightIn/2,N.doc.text(F,N.vector.currentLabelLeftIn+N.config.insetIn,U+(2-F.length)/
2*N.vector.fontHeightIn+(1-F.length)/2*N.vector.verticalFontGapIn)}},_drawUsingRaster:function(U,N,F){var ja=dojo.locale&&dojo.locale.substring(0,2)||"en";var ca=N.raster?N.raster.canvas:null;var la=N.raster?N.raster.canvasLabel:null;var T=N.config.rasterResolutionPxPerIn;var k=/[\u0580-\u07FF]/;switch(U){case this._StageEnum.START_ENV:ca=document.getElementById(N.canvas.elementName)||this._createCanvas(N.canvas.parentElem,N.canvas.elementName,N.config.pageWidthIn*T,N.config.pageHeightIn*T);la=document.getElementById(N.canvas.elementName+
"_label")||this._createCanvas(N.canvas.parentElem,N.canvas.elementName+"_label",N.config.labelWidthIn*T,N.config.labelHeightIn*T);N.raster={pageTopPx:N.config.pageTopIn*T,pageRightPx:N.config.pageRightIn*T,pageBottomPx:N.config.pageBottomIn*T,pageLeftPx:N.config.pageLeftIn*T,labelWidthPx:N.config.labelWidthIn*T,labelHeightPx:N.config.labelHeightIn*T,labelHorizGapPx:N.config.horizGapIn*T,labelVertGapPx:N.config.vertGapIn*T,marginPx:N.config.insetIn*T,fontHeightPx:N.config.fontSizePx*T/100*1.32};N.raster.verticalFontGapPx=
.2*N.raster.fontHeightPx;N.raster.canvas=ca;N.raster.canvasLabel=la;N.raster.ctx=ca.getContext("2d");N.raster.ctxLabel=la.getContext("2d");N.raster.ctxLabel.font="normal "+N.raster.fontHeightPx+"px sans-serif";break;case this._StageEnum.FINISH_ENV:N.canvas.parentElem.removeChild(ca);N.raster.canvas=null;N.canvas.parentElem.removeChild(la);N.raster.canvasLabel=null;break;case this._StageEnum.FINISH_PAGE:F=ca.toDataURL("image/png");N.doc.addImage(F,"png",0,0,8.5,11);N.raster.ctx.clearRect(0,0,ca.width,
ca.height);this._drawFrame(N);break;case this._StageEnum.START_COL:N.raster.currentLabelLeftPx=N.raster.pageLeftPx+F*(N.raster.labelWidthPx+N.raster.labelHorizGapPx);N.raster.currentLabelRightPx=N.raster.pageLeftPx+(F+1)*N.raster.labelWidthPx+F*N.raster.labelHorizGapPx;break;case this._StageEnum.START_ROW:N.raster.currentLabelTopPx=N.raster.pageTopPx+F*(N.raster.labelHeightPx+N.raster.labelVertGapPx);break;case this._StageEnum.DRAW_LABEL:U=N.raster.labelHeightPx/2;ca=N.raster.marginPx;U=U+(2-F.length)/
2*N.raster.fontHeightPx+(1-F.length)/2*N.raster.verticalFontGapPx;N.raster.ctxLabel.clearRect(0,0,la.width,la.height);var m=la.width-N.raster.marginPx-N.raster.marginPx;for(T=0;T<F.length;++T)0<=["ar","he"].indexOf(ja)?ca=la.width-N.raster.marginPx:k.test(F[T])&&(ca=la.width-N.raster.marginPx-N.raster.ctxLabel.measureText(F[T]).getWidth()),N.raster.ctxLabel.fillText(F[T],ca,U,m),U+=N.raster.verticalFontGapPx+N.raster.fontHeightPx;N.raster.ctx.drawImage(N.raster.canvasLabel,N.raster.currentLabelLeftPx,
N.raster.currentLabelTopPx)}},_conformToRange:function(U,N,F,ja){U=parseFloat(U);Number.isNaN(U)&&(U=ja);return Math.max(N,Math.min(F,U))},_createPDFBuilder:function(){return new this._jspdf({orientation:"portrait",unit:"in",format:"letter"})},_createCanvas:function(U,N,F,ja){var ca=document.createElement("canvas");ca.id=N;ca.style.display="none";ca.style.visibility="hidden";ca.width=F;ca.height=ja;U.appendChild(ca);return ca},_getTextWidthIn:function(U,N){return U.getStringUnitWidth(N)*U.internal.getFontSize()/
U.internal.scaleFactor},_drawFrame:function(U){var N=new Date,F=dojo.locale&&dojo.locale.substring(0,2)||"en";var ja=U.config.pageTopIn-.08;var ca=U.config.pageHeightIn-U.config.pageBottomIn+U.config.guidance.noteFontSizePx/U.doc.internal.scaleFactor+.08;U.config.showGuidance&&(U.doc.setFont("sans-serif","italic"),U.doc.setFontSize(U.config.guidance.noteFontSizePx),(F=0<="da de en es et fi fr id it nb nl pt sr sv".split(" ").indexOf(F))&&U.doc.text(U.config.guidance.printSuggestion,U.config.pageLeftIn+
.1,ja),ja=(U.config.useVectorFonts?"v":"r"+U.config.rasterResolutionPxPerIn)+"  "+U.pageNum+"/"+U.totalPages,F&&(ja+=("  "+N.toLocaleDateString()+" "+N.toLocaleTimeString()).replace(/\u200e/gi,"")),U.doc.text(ja,U.config.pageLeftIn+.1,ca),U.config.guidance.showGrid&&(U.doc.setLineWidth(.01),U.doc.setDrawColor((1-U.config.guidance.gridBlackPercent/100).toString()),this._drawMeasurementGrid(U.doc,U.config,U.config.guidance.leftIn,U.config.guidance.rightIn,.05,U.config.guidance.majorTickIn),this._drawMeasurementGrid(U.doc,
U.config,U.config.guidance.leftIn,U.config.guidance.rightIn,.015,U.config.guidance.minorTickIn)),U.config.guidance.showLabelOutlines&&(U.doc.setLineWidth(.01),U.doc.setDrawColor((1-U.config.guidance.labelBorderBlackPercent/100).toString()),this._drawLabelsGrid(U.doc,U.config.numLabelsAcross,U.config.numLabelsDown,U.config.pageLeftIn,U.config.pageTopIn,U.config.labelWidthIn,U.config.labelHeightIn,U.config.horizGapIn,U.config.vertGapIn)),U.doc.setDrawColor(0))},_drawLabelsGrid:function(U,N,F,ja,ca,
la,T,k,m){var q,e;for(q=0;q<N;++q)for(e=0;e<F;++e)U.rect(ja+q*(la+k),ca+e*(T+m),la,T)},_drawMeasurementGrid:function(U,N,F,ja,ca,la){U.rect(N.pageLeftIn,N.pageTopIn,N.pageWidthIn-N.pageLeftIn-N.pageRightIn,N.pageHeightIn-N.pageTopIn-N.pageBottomIn);this._drawVertGridTickLines(U,0,N.pageWidthIn,N.pageTopIn,ca,la);this._drawVertGridTickLines(U,0,N.pageWidthIn,N.pageHeightIn-N.pageBottomIn,-ca,la);this._drawHorizGridTickLines(U,0,N.pageHeightIn,Math.max(F,N.pageLeftIn),ca,la);this._drawHorizGridTickLines(U,
0,N.pageHeightIn,N.pageWidthIn-Math.max(ja,N.pageRightIn),-ca,la)},_drawVertGridTickLines:function(U,N,F,ja,ca,la){for(;N<=F;N+=la)this._drawPDFLine(U,N,ja,N,ja+ca)},_drawHorizGridTickLines:function(U,N,F,ja,ca,la){for(;N<=F;N+=la)this._drawPDFLine(U,ja,N,ja+ca,N)},_drawPDFLine:function(U,N,F,ja,ca){U.lines([[ja-N,ca-F]],N,F)},_initpdf:function(){var U="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"===typeof Symbol&&k.constructor===
Symbol&&k!==Symbol.prototype?"symbol":typeof k};(function(){function k(q){this.value=q}function m(q){function e(f,l){try{var p=q[f](l),c=p.value;c instanceof k?Promise.resolve(c.value).then(function(n){e("next",n)},function(n){e("throw",n)}):a(p.done?"return":"normal",p.value)}catch(n){a("throw",n)}}function a(f,l){switch(f){case "return":h.resolve({value:l,done:!0});break;case "throw":h.reject(l);break;default:h.resolve({value:l,done:!1})}(h=h.next)?e(h.key,h.arg):d=null}var h,d;this._invoke=function(f,
l){return new Promise(function(p,c){p={key:f,arg:l,resolve:p,reject:c,next:null};d?d=d.next=p:(h=d=p,e(f,l))})};"function"!==typeof q.return&&(this.return=void 0)}"function"===typeof Symbol&&Symbol.asyncIterator&&(m.prototype[Symbol.asyncIterator]=function(){return this});m.prototype.next=function(q){return this._invoke("next",q)};m.prototype.throw=function(q){return this._invoke("throw",q)};m.prototype.return=function(q){return this._invoke("return",q)};return{wrap:function(q){return function(){return new m(q.apply(this,
arguments))}},await:function(q){return new k(q)}}})();var N=function(k){function m(a){var h={};this.subscribe=function(d,f,l){if("function"!==typeof f)return!1;h.hasOwnProperty(d)||(h[d]={});var p=Math.random().toString(35);h[d][p]=[f,!!l];return p};this.unsubscribe=function(d){for(var f in h)if(h[f][d])return delete h[f][d],!0;return!1};this.publish=function(d){if(h.hasOwnProperty(d)){var f=Array.prototype.slice.call(arguments,1),l=[],p;for(p in h[d]){var c=h[d][p];try{c[0].apply(a,f)}catch(n){k.console&&
console.error("jsPDF PubSub Error",n.message,n)}c[1]&&l.push(p)}l.length&&l.forEach(this.unsubscribe)}}}function q(a,h,d,f){var l={};"object"===("undefined"===typeof a?"undefined":U(a))&&(l=a,a=l.orientation,h=l.unit||h,d=l.format||d,f=l.compress||l.compressPdf||f);h=h||"mm";d=d||"a4";a=(""+(a||"P")).toLowerCase();(""+d).toLowerCase();var p=!!f&&"function"===typeof Uint8Array,c=l.textColor||"0 g",n=l.drawColor||"0 G",y=l.fontSize||16,u=l.lineHeight||1.15,D=l.lineWidth||.200025,z=2,x=!1,w=[],G={},
Q={},S,O=0,M,E=[],B=[],P=[],V=[],W=[],Y=0,ma=0,da=0,Aa,qa,Ca,t,v,H={title:"",subject:"",author:"",keywords:"",creator:""},C={},J=new m(C),R=function(I){return I.toFixed(2)},oa=function(I){return("0"+parseInt(I)).slice(-2)},aa=function(I){x?E[M].push(I):(da+=I.length+1,V.push(I))},ua=function(){z++;w[z]=da;aa(z+" 0 obj");return z},A=function(I){aa("stream");aa(I);aa("endstream")},K=function(I,X,ka,ta){var pa="F"+(Object.keys(G).length+1).toString(10);I=G[pa]={id:pa,PostScriptName:I,fontName:X,fontStyle:ka,
encoding:ta,metadata:{}};Q.hasOwnProperty(X)||(Q[X]={});Q[X][ka]=pa;J.publish("addFont",I);return pa},L=function(I,X){var ka,ta;X=X||{};var pa=X.sourceEncoding||"Unicode";var za=X.outputEncoding;if((X.autoencode||za)&&G[Na].metadata&&G[Na].metadata[pa]&&G[Na].metadata[pa].encoding&&(pa=G[Na].metadata[pa].encoding,!za&&G[Na].encoding&&(za=G[Na].encoding),!za&&pa.codePages&&(za=pa.codePages[0]),"string"===typeof za&&(za=pa[za]),za)){var Ga=!1;var Fa=[];pa=0;for(ka=I.length;pa<ka;pa++)(ta=za[I.charCodeAt(pa)])?
Fa.push(String.fromCharCode(ta)):Fa.push(I[pa]),Fa[pa].charCodeAt(0)>>8&&(Ga=!0);I=Fa.join("")}for(pa=I.length;void 0===Ga&&0!==pa;)I.charCodeAt(pa-1)>>8&&(Ga=!0),pa--;if(Ga){Fa=X.noBOM?[]:[254,255];pa=0;for(ka=I.length;pa<ka;pa++){ta=I.charCodeAt(pa);Ga=ta>>8;if(Ga>>8)throw Error("Character at position "+pa+" of string '"+I+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Fa.push(Ga);Fa.push(ta-(Ga<<8))}I=String.fromCharCode.apply(void 0,Fa)}return I.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,
"\\)")},ba=function(I,X){var ka="string"===typeof X&&X.toLowerCase();if("string"===typeof I){var ta=I.toLowerCase();e.hasOwnProperty(ta)&&(I=e[ta][0]/ya,X=e[ta][1]/ya)}Array.isArray(I)&&(X=I[1],I=I[0]);if(ka){switch(ka.substr(0,1)){case "l":X>I&&(ka="s");break;case "p":I>X&&(ka="s")}"s"===ka&&(S=I,I=X,X=S)}x=!0;E[++O]=[];P[O]={width:Number(I)||Aa,height:Number(X)||qa};B[O]={};wa(O)},ea=function(){ba.apply(this,arguments);aa(R(D*ya)+" w");aa(n);0!==Y&&aa(Y+" J");0!==ma&&aa(ma+" j");J.publish("addPage",
{pageNumber:O})},Z=function(I){0<I&&I<=O&&(E.splice(I,1),P.splice(I,1),O--,M>O&&(M=O),this.setPage(M))},wa=function(I){0<I&&I<=O&&(M=I,Aa=P[I].width,qa=P[I].height)},na=function(I,X){I=void 0!==I?I:G[Na].fontName;X=void 0!==X?X:G[Na].fontStyle;void 0!==I&&(I=I.toLowerCase());switch(I){case "sans-serif":case "verdana":case "arial":case "helvetica":I="helvetica";break;case "fixed":case "monospace":case "terminal":case "courier":I="courier";break;default:I="times"}try{var ka=Q[I][X]}catch(ta){}ka||(ka=
Q.times[X],null==ka&&(ka=Q.times.normal));return ka},Ea=function(){x=!1;z=2;da=0;V=[];w=[];W=[];J.publish("buildDocument");aa("%PDF-1.3");var I,X,ka=[];var ta=k.adler32cs||q.adler32cs;p&&"undefined"===typeof ta&&(p=!1);for(I=1;I<=O;I++){ka.push(ua());var pa=(Aa=P[I].width)*ya;var za=(qa=P[I].height)*ya;aa("\x3c\x3c/Type /Page");aa("/Parent 1 0 R");aa("/Resources 2 0 R");aa("/MediaBox [0 0 "+R(pa)+" "+R(za)+"]");J.publish("putPage",{pageNumber:I,page:E[I]});aa("/Contents "+(z+1)+" 0 R");aa("\x3e\x3e");
aa("endobj");za=E[I].join("\n");ua();if(p){pa=[];for(X=za.length;X--;)pa[X]=za.charCodeAt(X);X=ta.from(za);za=new ca(6);za.append(new Uint8Array(pa));za=za.flush();pa=new Uint8Array(za.length+6);pa.set(new Uint8Array([120,156]));pa.set(za,2);pa.set(new Uint8Array([X&255,X>>8&255,X>>16&255,X>>24&255]),za.length+2);za=String.fromCharCode.apply(null,pa);aa("\x3c\x3c/Length "+za.length+" /Filter [/FlateDecode]\x3e\x3e")}else aa("\x3c\x3c/Length "+za.length+"\x3e\x3e");A(za);aa("endobj")}w[1]=da;aa("1 0 obj");
aa("\x3c\x3c/Type /Pages");I="/Kids [";for(X=0;X<O;X++)I+=ka[X]+" 0 R ";aa(I+"]");aa("/Count "+O);aa("\x3e\x3e");aa("endobj");J.publish("postPutPages");J.publish("putAdditionalObjects");for(ka=0;ka<W.length;ka++)I=W[ka],w[I.objId]=da,aa(I.objId+" 0 obj"),aa(I.content),aa("endobj");z+=W.length;J.publish("postPutAdditionalObjects");for(var Ga in G)G.hasOwnProperty(Ga)&&(ka=G[Ga],ka.objectNumber=ua(),aa("\x3c\x3c/BaseFont/"+ka.PostScriptName+"/Type/Font"),"string"===typeof ka.encoding&&aa("/Encoding/"+
ka.encoding),aa("/Subtype/Type1\x3e\x3e"),aa("endobj"));J.publish("putResources");w[2]=da;aa("2 0 obj");aa("\x3c\x3c");aa("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]");aa("/Font \x3c\x3c");for(var Fa in G)G.hasOwnProperty(Fa)&&aa("/"+Fa+" "+G[Fa].objectNumber+" 0 R");aa("\x3e\x3e");aa("/XObject \x3c\x3c");J.publish("putXobjectDict");aa("\x3e\x3e");aa("\x3e\x3e");aa("endobj");J.publish("postPutResources");ua();aa("\x3c\x3c");aa("/Producer (jsPDF "+q.version+")");for(var Ka in H)H.hasOwnProperty(Ka)&&
H[Ka]&&aa("/"+Ka.substr(0,1).toUpperCase()+Ka.substr(1)+" ("+L(H[Ka])+")");Ga=new Date;Fa=Ga.getTimezoneOffset();Ka=Math.abs(Fa%60);Fa=[0>Fa?"+":"-",oa(Math.floor(Math.abs(Fa/60))),"'",oa(Ka),"'"].join("");aa(["/CreationDate (D:",Ga.getFullYear(),oa(Ga.getMonth()+1),oa(Ga.getDate()),oa(Ga.getHours()),oa(Ga.getMinutes()),oa(Ga.getSeconds()),Fa,")"].join(""));aa("\x3e\x3e");aa("endobj");ua();aa("\x3c\x3c");aa("/Type /Catalog");aa("/Pages 1 0 R");t||(t="fullwidth");switch(t){case "fullwidth":aa("/OpenAction [3 0 R /FitH null]");
break;case "fullheight":aa("/OpenAction [3 0 R /FitV null]");break;case "fullpage":aa("/OpenAction [3 0 R /Fit]");break;case "original":aa("/OpenAction [3 0 R /XYZ null null 1]");break;default:Ga=""+t,"%"===Ga.substr(Ga.length-1)&&(t=parseInt(t)/100),"number"===typeof t&&aa("/OpenAction [3 0 R /XYZ null null "+R(t)+"]")}v||(v="continuous");switch(v){case "continuous":aa("/PageLayout /OneColumn");break;case "single":aa("/PageLayout /SinglePage");break;case "two":case "twoleft":aa("/PageLayout /TwoColumnLeft");
break;case "tworight":aa("/PageLayout /TwoColumnRight")}Ca&&aa("/PageMode /"+Ca);J.publish("putCatalog");aa("\x3e\x3e");aa("endobj");Ga=da;aa("xref");aa("0 "+(z+1));aa("0000000000 65535 f ");for(Fa=1;Fa<=z;Fa++)"function"===typeof w[Fa]?aa(("0000000000"+w[Fa]()).slice(-10)+" 00000 n "):aa(("0000000000"+w[Fa]).slice(-10)+" 00000 n ");aa("trailer");aa("\x3c\x3c");aa("/Size "+(z+1));aa("/Root "+z+" 0 R");aa("/Info "+(z-1)+" 0 R");aa("\x3e\x3e");aa("startxref");aa(""+Ga);aa("%%EOF");x=!0;return V.join("\n")},
La=function(I){var X="S";if("F"===I)X="f";else if("FD"===I||"DF"===I)X="B";else if("f"===I||"f*"===I||"B"===I||"B*"===I)X=I;return X},Ta=function(){for(var I=Ea(),X=I.length,ka=new ArrayBuffer(X),ta=new Uint8Array(ka);X--;)ta[X]=I.charCodeAt(X);return ka},Ia=function(){return new Blob([Ta()],{type:"application/pdf"})},Ma=function(I){I.foo=function(){try{return I.apply(this,arguments)}catch(ka){var X=ka.stack||"";~X.indexOf(" at ")&&(X=X.split(" at ")[1]);X="Error in function "+X.split("\n")[0].split("\x3c")[0]+
": "+ka.message;if(k.console)k.console.error(X,ka),k.alert&&alert(X);else throw Error(X);}};I.foo.bar=I;return I.foo}(function(I,X){var ka="dataur"===(""+I).substr(0,6)?"data:application/pdf;base64,"+btoa(Ea()):0;switch(I){case void 0:return Ea();case "save":if(navigator.getUserMedia&&(void 0===k.URL||void 0===k.URL.createObjectURL))return C.output("dataurlnewwindow");ka=saveAs(Ia(),X);"function"===typeof saveAs.unload&&k.setTimeout&&setTimeout(saveAs.unload,911);return ka;case "arraybuffer":return Ta();
case "blob":return Ia();case "bloburi":case "bloburl":return k.URL&&k.URL.createObjectURL(Ia())||void 0;case "datauristring":case "dataurlstring":return ka;case "dataurlnewwindow":if((I=k.open(ka))||"undefined"===typeof safari)return I;case "datauri":case "dataurl":return k.document.location.href=ka;default:throw Error('Output type "'+I+'" is not supported.');}});switch(h){case "pt":var ya=1;break;case "mm":ya=72/25.4000508;break;case "cm":ya=72/2.54000508;break;case "in":ya=72;break;case "px":ya=
96/72;break;case "pc":ya=12;break;case "em":ya=12;break;case "ex":ya=6;break;default:throw"Invalid unit: "+h;}C.internal={pdfEscape:L,getStyle:La,getFont:function(){return G[na.apply(C,arguments)]},getFontSize:function(){return y},getLineHeight:function(){return y*u},write:function(I){aa(1===arguments.length?I:Array.prototype.join.call(arguments," "))},getCoordinateString:function(I){return R(I*ya)},getVerticalCoordinateString:function(I){return R((qa-I)*ya)},collections:{},newObject:ua,newAdditionalObject:function(){var I=
2*E.length+1;I+=W.length;I={objId:I,content:""};W.push(I);return I},newObjectDeferred:function(){z++;w[z]=function(){return da};return z},newObjectDeferredBegin:function(I){w[I]=da},putStream:A,events:J,scaleFactor:ya,pageSize:{getWidth:function(){return Aa},getHeight:function(){return qa}},output:function(I,X){return Ma(I,X)},getNumberOfPages:function(){return E.length-1},pages:E,out:aa,f2:R,getPageInfo:function(I){return{objId:2*(I-1)+3,pageNumber:I,pageContext:B[I]}},getCurrentPageInfo:function(){return{objId:2*
(M-1)+3,pageNumber:M,pageContext:B[M]}},getPDFVersion:function(){return"1.3"}};C.addPage=function(){ea.apply(this,arguments);return this};C.setPage=function(){wa.apply(this,arguments);return this};C.insertPage=function(I){this.addPage();this.movePage(M,I);return this};C.movePage=function(I,X){if(I>X){for(var ka=E[I],ta=P[I],pa=B[I];I>X;I--)E[I]=E[I-1],P[I]=P[I-1],B[I]=B[I-1];E[X]=ka;P[X]=ta;B[X]=pa;this.setPage(X)}else if(I<X){ka=E[I];ta=P[I];for(pa=B[I];I<X;I++)E[I]=E[I+1],P[I]=P[I+1],B[I]=B[I+1];
E[X]=ka;P[X]=ta;B[X]=pa;this.setPage(X)}return this};C.deletePage=function(){Z.apply(this,arguments);return this};C.setDisplayMode=function(I,X,ka){t=I;v=X;Ca=ka;if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(ka))throw Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+ka+'" is not recognized.');return this};C.text=function(I,X,ka,ta,pa,za){function Ga(Ha){Ha=Ha.split("\t").join(Array(l.TabLen||9).join(" "));return L(Ha,ta)}"number"===
typeof I&&(S=ka,ka=X,X=I,I=S);"string"===typeof I&&(I=I.match(/[\n\r]/)?I.split(/\r\n|\r|\n/g):[I]);"string"===typeof pa&&(za=pa,pa=null);"string"===typeof ta&&(za=ta,ta=null);"number"===typeof ta&&(pa=ta,ta=null);var Fa="",Ka="Td";pa&&(pa*=Math.PI/180,Fa=Math.cos(pa),Ka=Math.sin(pa),Fa=[R(Fa),R(Ka),R(-1*Ka),R(Fa),""].join(" "),Ka="Tm");ta=ta||{};"noBOM"in ta||(ta.noBOM=!0);"autoencode"in ta||(ta.autoencode=!0);pa="";var Ja=this.internal.getCurrentPageInfo().pageContext;!0===ta.stroke?!0!==Ja.lastTextWasStroke&&
(pa="1 Tr\n",Ja.lastTextWasStroke=!0):(Ja.lastTextWasStroke&&(pa="0 Tr\n"),Ja.lastTextWasStroke=!1);"undefined"===typeof this._runningPageHeight&&(this._runningPageHeight=0);if("string"===typeof I)I=Ga(I);else if("[object Array]"===Object.prototype.toString.call(I)){var Ra=I.concat();Ja=[];for(var Wa=Ra.length;Wa--;)Ja.push(Ga(Ra.shift()));if(za){var Oa=y*u,fa=I.map(function(Ha){return this.getStringUnitWidth(Ha)*y/ya},this);var ra=Math.max.apply(Math,fa);if("center"===za)Ra=X-ra/2,X-=fa[0]/2;else if("right"===
za)Ra=X-ra,X-=fa[0];else throw Error('Unrecognized alignment option, use "center" or "right".');var va=X;I=Ja[0];var Ba=1;for(Wa=Ja.length;Ba<Wa;Ba++){var Da=ra-fa[Ba];"center"===za&&(Da/=2);I+=") Tj\n"+(Ra-va+Da)+" -"+Oa+" Td ("+Ja[Ba];va=Ra+Da}}else I=Ja.join(") Tj\nT* (")}else throw Error('Type of text must be string or Array. "'+I+'" is not recognized.');ka=R((qa-ka)*ya);aa("BT\n/"+Na+" "+y+" Tf\n"+y*u+" TL\n"+pa+c+"\n"+Fa+R(X*ya)+" "+ka+" "+Ka+"\n("+I+") Tj\nET");return this};C.lstext=function(I,
X,ka,ta){console.warn("jsPDF.lstext is deprecated");for(var pa=0,za=I.length;pa<za;pa++,X+=ta)this.text(I[pa],X,ka);return this};C.line=function(I,X,ka,ta){return this.lines([[ka-I,ta-X]],I,X)};C.clip=function(){aa("W");aa("S")};C.clip_fixed=function(I){"evenodd"===I?aa("W*"):aa("W");aa("n")};C.lines=function(I,X,ka,ta,pa,za){"number"===typeof I&&(S=ka,ka=X,X=I,I=S);ta=ta||[1,1];aa((X*ya).toFixed(3)+" "+((qa-ka)*ya).toFixed(3)+" m ");var Ga=ta[0];ta=ta[1];var Fa=I.length;var Ka=ka;for(ka=0;ka<Fa;ka++){var Ja=
I[ka];if(2===Ja.length)X=Ja[0]*Ga+X,Ka=Ja[1]*ta+Ka,aa((X*ya).toFixed(3)+" "+((qa-Ka)*ya).toFixed(3)+" l");else{var Ra=Ja[0]*Ga+X;var Wa=Ja[1]*ta+Ka;var Oa=Ja[2]*Ga+X;var fa=Ja[3]*ta+Ka;X=Ja[4]*Ga+X;Ka=Ja[5]*ta+Ka;aa((Ra*ya).toFixed(3)+" "+((qa-Wa)*ya).toFixed(3)+" "+(Oa*ya).toFixed(3)+" "+((qa-fa)*ya).toFixed(3)+" "+(X*ya).toFixed(3)+" "+((qa-Ka)*ya).toFixed(3)+" c")}}za&&aa(" h");null!==pa&&aa(La(pa));return this};C.rect=function(I,X,ka,ta,pa){La(pa);aa([R(I*ya),R((qa-X)*ya),R(ka*ya),R(-ta*ya),"re"].join(" "));
null!==pa&&aa(La(pa));return this};C.triangle=function(I,X,ka,ta,pa,za,Ga){this.lines([[ka-I,ta-X],[pa-ka,za-ta],[I-pa,X-za]],I,X,[1,1],Ga,!0);return this};C.roundedRect=function(I,X,ka,ta,pa,za,Ga){var Fa=4/3*(Math.SQRT2-1);this.lines([[ka-2*pa,0],[pa*Fa,0,pa,za-za*Fa,pa,za],[0,ta-2*za],[0,za*Fa,-(pa*Fa),za,-pa,za],[-ka+2*pa,0],[-(pa*Fa),0,-pa,-(za*Fa),-pa,-za],[0,-ta+2*za],[0,-(za*Fa),pa*Fa,-za,pa,-za]],I+pa,X,[1,1],Ga);return this};C.ellipse=function(I,X,ka,ta,pa){var za=4/3*(Math.SQRT2-1)*ka,
Ga=4/3*(Math.SQRT2-1)*ta;aa([R((I+ka)*ya),R((qa-X)*ya),"m",R((I+ka)*ya),R((qa-(X-Ga))*ya),R((I+za)*ya),R((qa-(X-ta))*ya),R(I*ya),R((qa-(X-ta))*ya),"c"].join(" "));aa([R((I-za)*ya),R((qa-(X-ta))*ya),R((I-ka)*ya),R((qa-(X-Ga))*ya),R((I-ka)*ya),R((qa-X)*ya),"c"].join(" "));aa([R((I-ka)*ya),R((qa-(X+Ga))*ya),R((I-za)*ya),R((qa-(X+ta))*ya),R(I*ya),R((qa-(X+ta))*ya),"c"].join(" "));aa([R((I+za)*ya),R((qa-(X+ta))*ya),R((I+ka)*ya),R((qa-(X+Ga))*ya),R((I+ka)*ya),R((qa-X)*ya),"c"].join(" "));null!==pa&&aa(La(pa));
return this};C.circle=function(I,X,ka,ta){return this.ellipse(I,X,ka,ka,ta)};C.setProperties=function(I){for(var X in H)H.hasOwnProperty(X)&&I[X]&&(H[X]=I[X]);return this};C.setFontSize=function(I){y=I;return this};C.setFont=function(I,X){Na=na(I,X);return this};C.setFontStyle=C.setFontType=function(I){Na=na(void 0,I);return this};C.getFontList=function(){var I={},X,ka,ta;for(X in Q)if(Q.hasOwnProperty(X))for(ka in I[X]=ta=[],Q[X])Q[X].hasOwnProperty(ka)&&ta.push(ka);return I};C.addFont=function(I,
X,ka){K(I,X,ka,"StandardEncoding")};C.setLineWidth=function(I){aa((I*ya).toFixed(2)+" w");return this};C.setDrawColor=function(I,X,ka,ta){I=void 0===X||void 0===ta&&I===X===ka?"string"===typeof I?I+" G":R(I/255)+" G":void 0===ta?"string"===typeof I?[I,X,ka,"RG"].join(" "):[R(I/255),R(X/255),R(ka/255),"RG"].join(" "):"string"===typeof I?[I,X,ka,ta,"K"].join(" "):[R(I),R(X),R(ka),R(ta),"K"].join(" ");aa(I);return this};C.setFillColor=function(I,X,ka,ta){void 0===X||void 0===ta&&I===X===ka?I="string"===
typeof I?I+" g":R(I/255)+" g":void 0===ta||"object"===("undefined"===typeof ta?"undefined":U(ta))?(I="string"===typeof I?[I,X,ka,"rg"].join(" "):[R(I/255),R(X/255),R(ka/255),"rg"].join(" "),ta&&0===ta.a&&(I="255 255 255 rg")):I="string"===typeof I?[I,X,ka,ta,"k"].join(" "):[R(I),R(X),R(ka),R(ta),"k"].join(" ");aa(I);return this};C.setTextColor=function(I,X,ka){"string"===typeof I&&/^#[0-9A-Fa-f]{6}$/.test(I)&&(ka=parseInt(I.substr(1),16),I=ka>>16&255,X=ka>>8&255,ka&=255);c=0===I&&0===X&&0===ka||"undefined"===
typeof X?(I/255).toFixed(3)+" g":[(I/255).toFixed(3),(X/255).toFixed(3),(ka/255).toFixed(3),"rg"].join(" ");return this};C.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2};C.setLineCap=function(I){var X=this.CapJoinStyles[I];if(void 0===X)throw Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");Y=X;aa(X+" J");return this};C.setLineJoin=function(I){var X=this.CapJoinStyles[I];
if(void 0===X)throw Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");ma=X;aa(X+" j");return this};C.output=Ma;C.save=function(I){return C.output("save",I)};for(var Ua in q.API)q.API.hasOwnProperty(Ua)&&("events"===Ua&&q.API.events.length?function(I,X){var ka;for(ka=X.length-1;-1!==ka;ka--){var ta=X[ka][0];var pa=X[ka][1];I.subscribe.apply(I,[ta].concat("function"===typeof pa?[pa]:pa))}}(J,q.API.events):C[Ua]=q.API[Ua]);(function(){for(var I=
[["Helvetica","helvetica","normal"],["Helvetica-Bold","helvetica","bold"],["Helvetica-Oblique","helvetica","italic"],["Helvetica-BoldOblique","helvetica","bolditalic"],["Courier","courier","normal"],["Courier-Bold","courier","bold"],["Courier-Oblique","courier","italic"],["Courier-BoldOblique","courier","bolditalic"],["Times-Roman","times","normal"],["Times-Bold","times","bold"],["Times-Italic","times","italic"],["Times-BoldItalic","times","bolditalic"],["ZapfDingbats","zapfdingbats"]],X=0,ka=I.length;X<
ka;X++){var ta=K(I[X][0],I[X][1],I[X][2],"StandardEncoding"),pa=I[X][0].split("-"),za=pa[0];pa=pa[1]||"";Q.hasOwnProperty(za)||(Q[za]={});Q[za][pa]=ta}J.publish("addFonts",{fonts:G,dictionary:Q})})();var Na="F1";ea(d,a);J.publish("initialized");return C}var e={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,
2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,
360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};q.API={events:[]};q.version="1.x-master";return q}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||void 0);(window.AcroForm=function(k){var m=window.AcroForm;m.scale=function(l){return q.internal.scaleFactor/1*l};m.antiScale=function(l){return 1/q.internal.scaleFactor*l};var q={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null};N.API.acroformPlugin=q;var e=function(){for(var l in this.acroformPlugin.acroFormDictionaryRoot.Fields){var p=
this.acroformPlugin.acroFormDictionaryRoot.Fields[l];if(p.hasAnnotation){var c={type:"reference",object:p};N.API.annotationPlugin.annotations[this.internal.getPageInfo(p.page).pageNumber].push(c)}}},a=function(l){this.acroformPlugin.printedOut&&(this.acroformPlugin.printedOut=!1,this.acroformPlugin.acroFormDictionaryRoot=null);if(!this.acroformPlugin.acroFormDictionaryRoot){if(this.acroformPlugin.acroFormDictionaryRoot)throw Error("Exception while creating AcroformDictionary");this.acroformPlugin.acroFormDictionaryRoot=
new m.AcroFormDictionary;this.acroformPlugin.internal=this.internal;this.acroformPlugin.acroFormDictionaryRoot._eventID=this.internal.events.subscribe("postPutResources",d);this.internal.events.subscribe("buildDocument",e);this.internal.events.subscribe("putCatalog",h);this.internal.events.subscribe("postPutPages",f)}this.acroformPlugin.acroFormDictionaryRoot.Fields.push(l)},h=function(){"undefined"!=typeof this.acroformPlugin.acroFormDictionaryRoot?this.internal.write("/AcroForm "+this.acroformPlugin.acroFormDictionaryRoot.objId+
" 0 R"):console.log("Root missing...")},d=function(){this.internal.events.unsubscribe(this.acroformPlugin.acroFormDictionaryRoot._eventID);delete this.acroformPlugin.acroFormDictionaryRoot._eventID;this.acroformPlugin.printedOut=!0},f=function(l){var p=!l;l||(this.internal.newObjectDeferredBegin(this.acroformPlugin.acroFormDictionaryRoot.objId),this.internal.out(this.acroformPlugin.acroFormDictionaryRoot.getString()));l=l||this.acroformPlugin.acroFormDictionaryRoot.Kids;for(var c in l){var n=l[c],
y=n.Rect;n.Rect&&(n.Rect=m.internal.calculateCoordinates.call(this,n.Rect));this.internal.newObjectDeferredBegin(n.objId);var u="";u+=n.objId+" 0 obj\n";u+="\x3c\x3c\n"+n.getContent();n.Rect=y;n.hasAppearanceStream&&!n.appearanceStreamContent&&(y=m.internal.calculateAppearanceStream.call(this,n),u+="/AP \x3c\x3c /N "+y+" \x3e\x3e\n",this.acroformPlugin.xForms.push(y));if(n.appearanceStreamContent){u+="/AP \x3c\x3c ";for(var D in n.appearanceStreamContent){y=n.appearanceStreamContent[D];u+="/"+D+" ";
u+="\x3c\x3c ";if(1<=Object.keys(y).length||Array.isArray(y))for(c in y){var z=y[c];"function"===typeof z&&(z=z.call(this,n));u+="/"+c+" "+z+" ";0<=this.acroformPlugin.xForms.indexOf(z)||this.acroformPlugin.xForms.push(z)}else z=y,"function"===typeof z&&(z=z.call(this,n)),u+="/"+c+" "+z+" \n",0<=this.acroformPlugin.xForms.indexOf(z)||this.acroformPlugin.xForms.push(z);u+=" \x3e\x3e\n"}u+="\x3e\x3e\n"}u+="\x3e\x3e\nendobj\n";this.internal.out(u)}if(p){l=this.acroformPlugin.xForms;for(var x in l)p=
x,c=l[x],this.internal.newObjectDeferredBegin(c&&c.objId),n="",n+=c?c.getString():"",this.internal.out(n),delete l[p]}};k.addField=function(l){if(l instanceof m.TextField){var p=l||new m.Field;p.FT="/Tx";var c=p.Ff||0;p.multiline&&(c|=4096);p.password&&(c|=8192);p.fileSelect&&(c|=1048576);p.doNotSpellCheck&&(c|=4194304);p.doNotScroll&&(c|=8388608);p.Ff=p.Ff||c;a.call(this,p)}else l instanceof m.ChoiceField?(p=l||new m.Field,p.FT="/Ch",c=p.Ff||0,p.combo&&(c=m.internal.setBitPosition(c,18),delete p.combo),
p.edit&&(c=m.internal.setBitPosition(c,19),delete p.edit),p.sort&&(c=m.internal.setBitPosition(c,20),delete p.sort),p.multiSelect&&1.4<=this.internal.getPDFVersion()&&(c=m.internal.setBitPosition(c,22),delete p.multiSelect),p.doNotSpellCheck&&1.4<=this.internal.getPDFVersion()&&(c=m.internal.setBitPosition(c,23),delete p.doNotSpellCheck),p.Ff=c,a.call(this,p)):l instanceof m.Button?(p=l||new m.Field,p.FT="/Btn",c=p.Ff||0,p.pushbutton&&(c=m.internal.setBitPosition(c,17),delete p.pushbutton),p.radio&&
(c=m.internal.setBitPosition(c,16),delete p.radio),p.noToggleToOff&&(c=m.internal.setBitPosition(c,15)),p.Ff=c,a.call(this,p)):l instanceof m.ChildClass?a.call(this,l):l&&a.call(this,l);l.page=this.acroformPlugin.internal.getCurrentPageInfo().pageNumber;return this}})(N.API);var F=window.AcroForm;F.internal={};F.createFormXObject=function(k){var m=new F.FormXObject,q=F.Appearance.internal.getHeight(k)||0;k=F.Appearance.internal.getWidth(k)||0;m.BBox=[0,0,k,q];return m};F.Appearance={CheckBox:{createAppearanceStream:function(){return{N:{On:F.Appearance.CheckBox.YesNormal},
D:{On:F.Appearance.CheckBox.YesPushDown,Off:F.Appearance.CheckBox.OffPushDown}}},createMK:function(){return"\x3c\x3c /CA (3)\x3e\x3e"},YesPushDown:function(k){var m=F.createFormXObject(k),q="";k.Q=1;var e=F.internal.calculateX(k,"3","ZapfDingbats",50);q+="0.749023 g\n                     0 0 "+F.Appearance.internal.getWidth(k)+" "+F.Appearance.internal.getHeight(k)+" re\n                     f\n                     BMC\n                     q\n                     0 0 1 rg\n                     /F13 "+
e.fontSize+" Tf 0 g\n                     BT\n";q+=e.text;m.stream=q+"ET\n                     Q\n                     EMC\n";return m},YesNormal:function(k){var m=F.createFormXObject(k),q="";k.Q=1;var e=F.internal.calculateX(k,"3","ZapfDingbats",.9*F.Appearance.internal.getHeight(k));q+="1 g\n        0 0 "+F.Appearance.internal.getWidth(k)+" "+F.Appearance.internal.getHeight(k)+" re\n        f\n        q\n        0 0 1 rg\n        0 0 "+(F.Appearance.internal.getWidth(k)-1)+" "+(F.Appearance.internal.getHeight(k)-
1)+" re\n        W\n        n\n        0 g\n        BT\n        /F13 "+e.fontSize+" Tf 0 g\n";q+=e.text;m.stream=q+"ET\n                     Q\n";return m},OffPushDown:function(k){var m=F.createFormXObject(k);k="0.749023 g\n                    0 0 "+F.Appearance.internal.getWidth(k)+" "+F.Appearance.internal.getHeight(k)+" re\n                    f\n";m.stream=k;return m}},RadioButton:{Circle:{createAppearanceStream:function(k){var m={D:{Off:F.Appearance.RadioButton.Circle.OffPushDown},N:{}};m.N[k]=
F.Appearance.RadioButton.Circle.YesNormal;m.D[k]=F.Appearance.RadioButton.Circle.YesPushDown;return m},createMK:function(){return"\x3c\x3c /CA (l)\x3e\x3e"},YesNormal:function(k){var m=F.createFormXObject(k),q="",e=F.Appearance.internal.getWidth(k)<=F.Appearance.internal.getHeight(k)?F.Appearance.internal.getWidth(k)/4:F.Appearance.internal.getHeight(k)/4;e*=.9;var a=F.Appearance.internal.Bezier_C;q+="q\n        1 0 0 1 "+F.Appearance.internal.getWidth(k)/2+" "+F.Appearance.internal.getHeight(k)/
2+" cm\n        "+e+" 0 m\n        "+e+" "+e*a+" "+e*a+" "+e+" 0 "+e+" c\n        -"+e*a+" "+e+" -"+e+" "+e*a+" -"+e+" 0 c\n        -"+e+" -"+e*a+" -"+e*a+" -"+e+" 0 -"+e+" c\n        "+e*a+" -"+e+" "+e+" -"+e*a+" "+e+" 0 c\n        f\n        Q\n";m.stream=q;return m},YesPushDown:function(k){var m=F.createFormXObject(k),q="",e=F.Appearance.internal.getWidth(k)<=F.Appearance.internal.getHeight(k)?F.Appearance.internal.getWidth(k)/4:F.Appearance.internal.getHeight(k)/4;e*=.9;var a=2*e,h=a*F.Appearance.internal.Bezier_C,
d=e*F.Appearance.internal.Bezier_C;q+="0.749023 g\n                    q\n                   1 0 0 1 "+F.Appearance.internal.getWidth(k)/2+" "+F.Appearance.internal.getHeight(k)/2+" cm\n        "+a+" 0 m\n        "+a+" "+h+" "+h+" "+a+" 0 "+a+" c\n        -"+h+" "+a+" -"+a+" "+h+" -"+a+" 0 c\n        -"+a+" -"+h+" -"+h+" -"+a+" 0 -"+a+" c\n        "+h+" -"+a+" "+a+" -"+h+" "+a+" 0 c\n                    f\n                    Q\n                    0 g\n                    q\n                    1 0 0 1 "+
F.Appearance.internal.getWidth(k)/2+" "+F.Appearance.internal.getHeight(k)/2+" cm\n        "+e+" 0 m\n        "+e+" "+d+" "+d+" "+e+" 0 "+e+" c\n        -"+d+" "+e+" -"+e+" "+d+" -"+e+" 0 c\n        -"+e+" -"+d+" -"+d+" -"+e+" 0 -"+e+" c\n        "+d+" -"+e+" "+e+" -"+d+" "+e+" 0 c\n                    f\n                    Q\n";m.stream=q;return m},OffPushDown:function(k){var m=F.createFormXObject(k),q="",e=1.8*(F.Appearance.internal.getWidth(k)<=F.Appearance.internal.getHeight(k)?F.Appearance.internal.getWidth(k)/
4:F.Appearance.internal.getHeight(k)/4),a=e*F.Appearance.internal.Bezier_C;q+="0.749023 g\n                    q\n         1 0 0 1 "+F.Appearance.internal.getWidth(k)/2+" "+F.Appearance.internal.getHeight(k)/2+" cm\n        "+e+" 0 m\n        "+e+" "+a+" "+a+" "+e+" 0 "+e+" c\n        -"+a+" "+e+" -"+e+" "+a+" -"+e+" 0 c\n        -"+e+" -"+a+" -"+a+" -"+e+" 0 -"+e+" c\n        "+a+" -"+e+" "+e+" -"+a+" "+e+" 0 c\n                    f\n                    Q\n";m.stream=q;return m}},Cross:{createAppearanceStream:function(k){var m=
{D:{Off:F.Appearance.RadioButton.Cross.OffPushDown},N:{}};m.N[k]=F.Appearance.RadioButton.Cross.YesNormal;m.D[k]=F.Appearance.RadioButton.Cross.YesPushDown;return m},createMK:function(){return"\x3c\x3c /CA (8)\x3e\x3e"},YesNormal:function(k){var m=F.createFormXObject(k),q="",e=F.Appearance.internal.calculateCross(k);q+="q\n                    1 1 "+(F.Appearance.internal.getWidth(k)-2)+" "+(F.Appearance.internal.getHeight(k)-2)+" re\n                    W\n                    n\n                    "+
e.x1.x+" "+e.x1.y+" m\n                    "+e.x2.x+" "+e.x2.y+" l\n                    "+e.x4.x+" "+e.x4.y+" m\n                    "+e.x3.x+" "+e.x3.y+" l\n                    s\n                    Q\n";m.stream=q;return m},YesPushDown:function(k){var m=F.createFormXObject(k),q=F.Appearance.internal.calculateCross(k);k="0.749023 g\n                    0 0 "+F.Appearance.internal.getWidth(k)+" "+F.Appearance.internal.getHeight(k)+" re\n                    f\n                    q\n                    1 1 "+
(F.Appearance.internal.getWidth(k)-2)+" "+(F.Appearance.internal.getHeight(k)-2)+" re\n                    W\n                    n\n                    "+q.x1.x+" "+q.x1.y+" m\n                    "+q.x2.x+" "+q.x2.y+" l\n                    "+q.x4.x+" "+q.x4.y+" m\n                    "+q.x3.x+" "+q.x3.y+" l\n                    s\n                    Q\n";m.stream=k;return m},OffPushDown:function(k){var m=F.createFormXObject(k);k="0.749023 g\n                    0 0 "+F.Appearance.internal.getWidth(k)+
" "+F.Appearance.internal.getHeight(k)+" re\n                    f\n";m.stream=k;return m}}},createDefaultAppearanceStream:function(k){return"/Helv 0 Tf 0 g"}};F.Appearance.internal={Bezier_C:.551915024494,calculateCross:function(k){var m=F.Appearance.internal.getWidth(k);k=F.Appearance.internal.getHeight(k);var q=m>k?k:m;return{x1:{x:(m-q)/2,y:(k-q)/2+q},x2:{x:(m-q)/2+q,y:(k-q)/2},x3:{x:(m-q)/2,y:(k-q)/2},x4:{x:(m-q)/2+q,y:(k-q)/2+q}}}};F.Appearance.internal.getWidth=function(k){return k.Rect[2]};
F.Appearance.internal.getHeight=function(k){return k.Rect[3]};F.internal.inherit=function(k,m){k.prototype=Object.create(m.prototype);k.prototype.constructor=k};F.internal.arrayToPdfArray=function(k){if(Array.isArray(k)){var m=" [",q;for(q in k)m+=k[q].toString(),m+=q<k.length-1?" ":"";return m+"]"}};F.internal.toPdfString=function(k){k=k||"";0!==k.indexOf("(")&&(k="("+k);")"!=k.substring(k.length-1)&&(k+="(");return k};F.PDFObject=function(){var k;Object.defineProperty(this,"objId",{get:function(){k||
(this.internal?k=this.internal.newObjectDeferred():N.API.acroformPlugin.internal&&(k=N.API.acroformPlugin.internal.newObjectDeferred()));k||console.log("Couldn't create Object ID");return k},configurable:!1})};F.PDFObject.prototype.toString=function(){return this.objId+" 0 R"};F.PDFObject.prototype.getString=function(){var k=this.objId+" 0 obj\n\x3c\x3c",m=this.getContent();k+=m+"\x3e\x3e\n";this.stream&&(k=k+"stream\n"+this.stream,k+="endstream\n");return k+"endobj\n"};F.PDFObject.prototype.getContent=
function(){return""+function(k){var m="",q=Object.keys(k).filter(function(d){return"content"!=d&&"appearanceStreamContent"!=d&&"_"!=d.substring(0,1)}),e;for(e in q){var a=q[e],h=k[a];h&&(m=Array.isArray(h)?m+("/"+a+" "+F.internal.arrayToPdfArray(h)+"\n"):h instanceof F.PDFObject?m+("/"+a+" "+h.objId+" 0 R\n"):m+("/"+a+" "+h+"\n"))}return m}(this)};F.FormXObject=function(){F.PDFObject.call(this);this.Type="/XObject";this.Subtype="/Form";this.FormType=1;this.BBox;this.Matrix;this.Resources="2 0 R";
this.PieceInfo;var k;Object.defineProperty(this,"Length",{enumerable:!0,get:function(){return void 0!==k?k.length:0}});Object.defineProperty(this,"stream",{enumerable:!1,set:function(m){k=m},get:function(){return k?k:null}})};F.internal.inherit(F.FormXObject,F.PDFObject);F.AcroFormDictionary=function(){F.PDFObject.call(this);var k=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){if(0<k.length)return k}});Object.defineProperty(this,"Fields",{enumerable:!0,configurable:!0,
get:function(){return k}});this.DA};F.internal.inherit(F.AcroFormDictionary,F.PDFObject);F.Field=function(){F.PDFObject.call(this);var k;Object.defineProperty(this,"Rect",{enumerable:!0,configurable:!1,get:function(){if(k)return k},set:function(h){k=h}});var m="";Object.defineProperty(this,"FT",{enumerable:!0,set:function(h){m=h},get:function(){return m}});var q;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,set:function(h){q=h},get:function(){return!q||1>q.length?this instanceof F.ChildClass?
void 0:"(FieldObject"+F.Field.FieldNum++ +")":"("==q.substring(0,1)&&q.substring(q.length-1)?q:"("+q+")"}});var e;Object.defineProperty(this,"DA",{enumerable:!0,get:function(){if(e)return"("+e+")"},set:function(h){e=h}});var a;Object.defineProperty(this,"DV",{enumerable:!0,configurable:!0,get:function(){if(a)return a},set:function(h){a=h}});Object.defineProperty(this,"Type",{enumerable:!0,get:function(){return this.hasAnnotation?"/Annot":null}});Object.defineProperty(this,"Subtype",{enumerable:!0,
get:function(){return this.hasAnnotation?"/Widget":null}});Object.defineProperty(this,"hasAnnotation",{enumerable:!1,get:function(){return this.Rect||this.BC||this.BG?!0:!1}});Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,configurable:!0,writable:!0});Object.defineProperty(this,"page",{enumerable:!1,configurable:!0,writable:!0})};F.Field.FieldNum=0;F.internal.inherit(F.Field,F.PDFObject);F.ChoiceField=function(){F.Field.call(this);this.FT="/Ch";this.Opt=[];this.V="()";this.TI=0;
this.combo=!1;Object.defineProperty(this,"edit",{enumerable:!0,set:function(k){1==k?this.combo=this._edit=!0:this._edit=!1},get:function(){return this._edit?this._edit:!1},configurable:!1});this.hasAppearanceStream=!0;Object.defineProperty(this,"V",{get:function(){F.internal.toPdfString()}})};F.internal.inherit(F.ChoiceField,F.Field);F.ListBox=function(){F.ChoiceField.call(this)};F.internal.inherit(F.ListBox,F.ChoiceField);F.ComboBox=function(){F.ListBox.call(this);this.combo=!0};F.internal.inherit(F.ComboBox,
F.ListBox);F.EditBox=function(){F.ComboBox.call(this);this.edit=!0};F.internal.inherit(F.EditBox,F.ComboBox);F.Button=function(){F.Field.call(this);this.FT="/Btn"};F.internal.inherit(F.Button,F.Field);F.PushButton=function(){F.Button.call(this);this.pushbutton=!0};F.internal.inherit(F.PushButton,F.Button);F.RadioButton=function(){F.Button.call(this);this.radio=!0;var k=[];Object.defineProperty(this,"Kids",{enumerable:!0,get:function(){if(0<k.length)return k}});Object.defineProperty(this,"__Kids",
{get:function(){return k}});var m;Object.defineProperty(this,"noToggleToOff",{enumerable:!1,get:function(){return m},set:function(q){m=q}})};F.internal.inherit(F.RadioButton,F.Button);F.ChildClass=function(k,m){F.Field.call(this);this.Parent=k;this._AppearanceType=F.Appearance.RadioButton.Circle;this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(m);this.F=F.internal.setBitPosition(this.F,3,1);this.MK=this._AppearanceType.createMK();this.AS="/Off";this._Name=m};F.internal.inherit(F.ChildClass,
F.Field);F.RadioButton.prototype.setAppearance=function(k){if("createAppearanceStream"in k&&"createMK"in k)for(var m in this.__Kids){var q=this.__Kids[m];q.appearanceStreamContent=k.createAppearanceStream(q._Name);q.MK=k.createMK()}else console.log("Couldn't assign Appearance to RadioButton. Appearance was Invalid!")};F.RadioButton.prototype.createOption=function(k){k=new F.ChildClass(this,k);this.__Kids.push(k);N.API.addField(k);return k};F.CheckBox=function(){F.Button.call(this);this.appearanceStreamContent=
F.Appearance.CheckBox.createAppearanceStream();this.MK=F.Appearance.CheckBox.createMK();this.V=this.AS="/On"};F.internal.inherit(F.CheckBox,F.Button);F.TextField=function(){F.Field.call(this);this.DA=F.Appearance.createDefaultAppearanceStream();this.F=4;var k;Object.defineProperty(this,"V",{get:function(){return k?"("+k+")":k},enumerable:!0,set:function(a){k=a}});var m;Object.defineProperty(this,"DV",{get:function(){return m?"("+m+")":m},enumerable:!0,set:function(a){m=a}});var q=!1;Object.defineProperty(this,
"multiline",{enumerable:!1,get:function(){return q},set:function(a){q=a}});var e=!1;Object.defineProperty(this,"MaxLen",{enumerable:!0,get:function(){return e},set:function(a){e=a}});Object.defineProperty(this,"hasAppearanceStream",{enumerable:!1,get:function(){return this.V||this.DV}})};F.internal.inherit(F.TextField,F.Field);F.PasswordField=function(){F.TextField.call(this);Object.defineProperty(this,"password",{value:!0,enumerable:!1,configurable:!1,writable:!1})};F.internal.inherit(F.PasswordField,
F.TextField);F.internal.calculateFontSpace=function(k,m,q){q=q||"helvetica";var e=F.internal.calculateFontSpace.canvas||(F.internal.calculateFontSpace.canvas=document.createElement("canvas")),a=e.getContext("2d");a.save();a.font=m+" "+q;k={width:a.measureText(k).getWidth()};a.fontcolor="black";a=e.getContext("2d");k.height=1.5*a.measureText("3").getWidth();a.restore();return k};F.internal.calculateX=function(k,m,q,e){e=e||12;q=q||"helvetica";var a={text:"",fontSize:""};m="("==m.substr(0,1)?m.substr(1):
m;m=")"==m.substr(m.length-1)?m.substr(0,m.length-1):m;var h=m.split(" "),d=F.Appearance.internal.getHeight(k)||0;d=0>d?-d:d;var f=F.Appearance.internal.getWidth(k)||0;f=0>f?-f:f;e++;a:for(;;){m="";e--;var l=F.internal.calculateFontSpace("3",e+"px",q).height,p=k.multiline?d-e:(d-l)/2;p+=2;var c=-2,n=c=0,y=0;if(0==e){e=12;m="(...) Tj\n";m+="% Width of Text: "+F.internal.calculateFontSpace(m,"1px").width+", FieldWidth:"+f+"\n";break}y=F.internal.calculateFontSpace(h[0]+" ",e+"px",q).width;var u="",
D=0,z;for(z in h){u+=h[z]+" ";u=" "==u.substr(u.length-1)?u.substr(0,u.length-1):u;var x=parseInt(z);y=F.internal.calculateFontSpace(u+" ",e+"px",q).width;y=x+1<h.length?F.internal.calculateFontSpace(u+" "+h[x+1],e+"px",q).width<=f-4:!1;var w=z>=h.length-1;if(y&&!w)u+=" ";else{if(!y&&!w)if(k.multiline){if((l+2)*(D+2)+2>d)continue a;n=x}else continue a;else if(w)n=x;else if(k.multiline&&(l+2)*(D+2)+2>d)continue a;for(u="";c<=n;c++)u+=h[c]+" ";u=" "==u.substr(u.length-1)?u.substr(0,u.length-1):u;y=
F.internal.calculateFontSpace(u,e+"px",q).width;switch(k.Q){case 2:c=f-y-2;break;case 1:c=(f-y)/2;break;default:c=2}m+=c+" "+p+" Td\n";m+="("+u+") Tj\n";m+=-c+" 0 Td\n";p=-(e+2);y=0;c=n+1;D++;u=""}}break}a.text=m;a.fontSize=e;return a};F.internal.calculateAppearanceStream=function(k){if(k.appearanceStreamContent)return k.appearanceStreamContent;if(k.V||k.DV){var m="",q=F.internal.calculateX(k,k.V||k.DV);m+="/Tx BMC\nq\n/F1 "+q.fontSize+" Tf\n1 0 0 1 0 0 Tm\n";m=m+"BT\n"+q.text;m+="ET\nQ\nEMC\n";k=
new F.createFormXObject(k);k.stream=m;return k}};F.internal.calculateCoordinates=function(k,m,q,e){if(this.internal)if(Array.isArray(k)){k[0]=F.scale(k[0]);k[1]=F.scale(k[1]);k[2]=F.scale(k[2]);k[3]=F.scale(k[3]);var a=k[0]||0;var h=this.internal.pageSize.getHeight()*this.internal.scaleFactor-k[3]-k[1]||0;q=k[0]+k[2]||0;k=this.internal.pageSize.getHeight()*this.internal.scaleFactor-k[1]||0}else k=F.scale(k),m=F.scale(m),q=F.scale(q),e=F.scale(e),a=k||0,h=this.internal.pageSize.getHeight()-m||0,q=
k+q||0,k=this.internal.pageSize.getHeight()-m+e||0;else Array.isArray(k)?(a=k[0]||0,h=k[1]||0,q=k[0]+k[2]||0,k=k[1]+k[3]||0):(a=k||0,h=m||0,q=k+q||0,k=m+e||0);return[a,h,q,k]};F.internal.calculateColor=function(k,m,q){var e=Array(3);e.r=k|0;e.g=m|0;e.b=q|0;return e};F.internal.getBitPosition=function(k,m){return(k||0)|1<<m-1};F.internal.setBitPosition=function(k,m,q){k=k||0;m=1<<m-1;return 1==(q||1)?k|m:k&~m};(function(k){k.addHTML=function(m,q,e,a,h){if("undefined"===typeof k.html2canvas&&"undefined"===
typeof rasterizeHTML)throw Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!==typeof q&&(a=q,h=e);"function"===typeof a&&(h=a,a=null);var d=this.internal,f=d.scaleFactor,l=d.pageSize.getWidth(),p=d.pageSize.getHeight();a=a||{};a.onrendered=function(c){q=parseInt(q)||0;e=parseInt(e)||0;var n=a.dim||{},y=n.h||0,u=n.w||Math.min(l,c.width/f)-q,D="JPEG";a.format&&(D=a.format);if(c.height>p&&a.pagesplit)y=function(){for(var x=0;;){var w=
document.createElement("canvas");w.width=Math.min(l*f,c.width);w.height=Math.min(p*f,c.height-x);w.getContext("2d").drawImage(c,0,x,c.width,w.height,0,0,w.width,w.height);var G=[w,q,x?0:e,w.width/f,w.height/f,D,null,"SLOW"];this.addImage.apply(this,G);x+=w.height;if(x>=c.height)break;this.addPage()}h(u,x,null,G)}.bind(this),"CANVAS"===c.nodeName?(n=new Image,n.onload=y,n.src=c.toDataURL("image/png"),c=n):y();else{n=Math.random().toString(35);var z=[c,q,e,u,y,D,n,"SLOW"];this.addImage.apply(this,z);
h(u,y,n,z)}}.bind(this);return"undefined"===typeof k.html2canvas||a.rstz?"undefined"!==typeof rasterizeHTML?(d="drawDocument","string"===typeof m&&(d=/^http/.test(m)?"drawURL":"drawHTML"),a.width=a.width||l*f,rasterizeHTML[d](m,void 0,a).then(function(c){a.onrendered(c.image)},function(c){h(null,c)})):null:k.html2canvas(m,a)}})(N.API);(function(k){var m=["jpeg","jpg","png"],q=function n(c){var y=this.internal.newObject(),u=this.internal.write,D=this.internal.putStream;c.n=y;u("\x3c\x3c/Type /XObject");
u("/Subtype /Image");u("/Width "+c.w);u("/Height "+c.h);c.cs===this.color_spaces.INDEXED?u("/ColorSpace [/Indexed /DeviceRGB "+(c.pal.length/3-1)+" "+("smask"in c?y+2:y+1)+" 0 R]"):(u("/ColorSpace /"+c.cs),c.cs===this.color_spaces.DEVICE_CMYK&&u("/Decode [1 0 1 0 1 0 1 0]"));u("/BitsPerComponent "+c.bpc);"f"in c&&u("/Filter /"+c.f);"dp"in c&&u("/DecodeParms \x3c\x3c"+c.dp+"\x3e\x3e");if("trns"in c&&c.trns.constructor==Array){for(var z="",x=0,w=c.trns.length;x<w;x++)z+=c.trns[x]+" "+c.trns[x]+" ";
u("/Mask ["+z+"]")}"smask"in c&&u("/SMask "+(y+1)+" 0 R");u("/Length "+c.data.length+"\x3e\x3e");D(c.data);u("endobj");"smask"in c&&(y={w:c.w,h:c.h,cs:"DeviceGray",bpc:c.bpc,dp:"/Predictor "+c.p+" /Colors 1 /BitsPerComponent "+c.bpc+" /Columns "+c.w,data:c.smask},"f"in c&&(y.f=c.f),n.call(this,y));c.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),u("\x3c\x3c /Length "+c.pal.length+"\x3e\x3e"),D(this.arrayBufferToBinaryString(new Uint8Array(c.pal))),u("endobj"))},e=function(){var c=this.internal.collections.addImage_images,
n;for(n in c)q.call(this,c[n])},a=function(){var c=this.internal.collections.addImage_images,n=this.internal.write,y;for(y in c){var u=c[y];n("/I"+u.i,u.n,"0","R")}},h=function(c){c&&"string"===typeof c&&(c=c.toUpperCase());return c in k.image_compression?c:k.image_compression.NONE},d=function(c){var n=0;if(c){if(Object.keys)c=Object.keys(c).length;else{n=0;for(var y in c)c.hasOwnProperty(y)&&n++;c=n}n=c}return n},f=function(c){return"object"===("undefined"===typeof c?"undefined":U(c))&&1===c.nodeType},
l=function(c,n){if(n)for(var y in n)if(c===n[y].alias){var u=n[y];break}return u};k.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};k.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",
RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};k.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"};k.sHashCode=function(c){return Array.prototype.reduce&&c.split("").reduce(function(n,y){n=(n<<5)-n+y.charCodeAt(0);return n&n},0)};k.isString=function(c){return"string"===typeof c};k.extractInfoFromBase64DataURI=function(c){return/^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(c)};k.supportsArrayBuffer=function(){return"undefined"!==typeof ArrayBuffer&&"undefined"!==
typeof Uint8Array};k.isArrayBuffer=function(c){return this.supportsArrayBuffer()?c instanceof ArrayBuffer:!1};k.isArrayBufferView=function(c){return this.supportsArrayBuffer()&&"undefined"!==typeof Uint32Array?c instanceof Int8Array||c instanceof Uint8Array||"undefined"!==typeof Uint8ClampedArray&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array:!1};k.binaryStringToUint8Array=
function(c){for(var n=c.length,y=new Uint8Array(n),u=0;u<n;u++)y[u]=c.charCodeAt(u);return y};k.arrayBufferToBinaryString=function(c){this.isArrayBuffer(c)&&(c=new Uint8Array(c));for(var n="",y=c.byteLength,u=0;u<y;u++)n+=String.fromCharCode(c[u]);return n};k.arrayBufferToBase64=function(c){var n="";c=new Uint8Array(c);var y=c.byteLength,u=y%3;y-=u;for(var D,z,x,w,G=0;G<y;G+=3)w=c[G]<<16|c[G+1]<<8|c[G+2],D=(w&16515072)>>18,z=(w&258048)>>12,x=(w&4032)>>6,w&=63,n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[D]+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[z]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[x]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[w];1==u?(w=c[y],n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(w&252)>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(w&3)<<4]+"\x3d\x3d"):2==u&&(w=c[y]<<8|c[y+1],n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(w&64512)>>10]+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(w&1008)>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(w&15)<<2]+"\x3d");return n};k.createImageInfo=function(c,n,y,u,D,z,x,w,G,Q,S,O,M){c={alias:w,w:n,h:y,cs:u,bpc:D,i:x,data:c};z&&(c.f=z);G&&(c.dp=G);Q&&(c.trns=Q);S&&(c.pal=S);O&&(c.smask=O);M&&(c.p=M);return c};k.addImage=function(c,n,y,u,D,z,x,w,G){if("string"!==typeof n){var Q=z;z=D;D=u;u=y;y=n;n=Q}"object"===("undefined"===typeof c?"undefined":U(c))&&
!f(c)&&"imageData"in c&&(Q=c,c=Q.imageData,n=Q.format||n,y=Q.x||y||0,u=Q.y||u||0,D=Q.w||D,z=Q.h||z,x=Q.alias||x,w=Q.compression||w,G=Q.rotation||Q.angle||G);if(isNaN(y)||isNaN(u))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),Error("Invalid coordinates passed to jsPDF.addImage");Q=this.internal.collections.addImage_images;Q||(this.internal.collections.addImage_images=Q={},this.internal.events.subscribe("putResources",e),this.internal.events.subscribe("putXobjectDict",a));var S;
if(!(S=l(c,Q))){if(f(c))a:{S=c;var O=n,M=G;if("IMG"===S.nodeName&&S.hasAttribute("src")){var E=""+S.getAttribute("src");if(!M&&0===E.indexOf("data:image/")){c=E;break a}!O&&/\.png(?:[?#].*)?$/i.test(E)&&(O="png")}if("CANVAS"===S.nodeName)E=S;else{E=document.createElement("canvas");E.width=S.clientWidth||S.width;E.height=S.clientHeight||S.height;var B=E.getContext("2d");if(!B)throw"addImage requires canvas to be supported by browser.";if(M){var P=Math.PI/180;if("object"===("undefined"===typeof M?"undefined":
U(M))){var V=M.x;var W=M.y;var Y=M.bg;M=M.angle}var ma=M*P;M=Math.abs(Math.cos(ma));P=Math.abs(Math.sin(ma));var da=E.width;var Aa=E.height;E.width=Aa*P+da*M;E.height=Aa*M+da*P;isNaN(V)&&(V=E.width/2);isNaN(W)&&(W=E.height/2);B.clearRect(0,0,E.width,E.height);B.fillStyle=Y||"white";B.fillRect(0,0,E.width,E.height);B.save();B.translate(V,W);B.rotate(ma);B.drawImage(S,-(da/2),-(Aa/2));B.rotate(-ma);B.translate(-V,-W);B.restore()}else B.drawImage(S,0,0,E.width,E.height)}c=E.toDataURL("png"==(""+O).toLowerCase()?
"image/png":"image/jpeg")}if("undefined"===typeof x||null===x)x="string"===typeof c&&k.sHashCode(c);if(!(S=l(x,Q))){this.isString(c)&&((V=this.extractInfoFromBase64DataURI(c))?(n=V[2],c=atob(V[3])):137===c.charCodeAt(0)&&80===c.charCodeAt(1)&&78===c.charCodeAt(2)&&71===c.charCodeAt(3)&&(n="png"));n=(n||"JPEG").toLowerCase();if(-1===m.indexOf(n))throw Error("addImage currently only supports formats "+m+", not '"+n+"'");if("function"!==typeof k["process"+n.toUpperCase()])throw Error("please ensure that the plugin for '"+
n+"' support is added");if(this.supportsArrayBuffer()&&!(c instanceof Uint8Array)){var qa=c;c=this.binaryStringToUint8Array(c)}S=this["process"+n.toUpperCase()](c,d(Q),x,h(w),qa);if(!S)throw Error("An unkwown error occurred whilst processing the image");}}qa=y;V=u;W=S;Y=S.i;S=D;O=z;S||O||(O=S=-96);0>S&&(S=-72*W.w/S/this.internal.scaleFactor);0>O&&(O=-72*W.h/O/this.internal.scaleFactor);0===S&&(S=O*W.w/W.h);0===O&&(O=S*W.h/W.w);B=[S,O];O=this.internal.getCoordinateString;E=this.internal.getVerticalCoordinateString;
S=B[0];B=B[1];Q[Y]=W;this.internal.write("q",O(S),"0 0",O(B),O(qa),E(V+B),"cm /I"+W.i,"Do Q");return this};k.processJPEG=function(c,n,y,u,D){u=this.color_spaces.DEVICE_RGB;var z=this.decode.DCT_DECODE;if(this.isString(c)){a:{D=c;var x;if(255===!D.charCodeAt(0)||216===!D.charCodeAt(1)||255===!D.charCodeAt(2)||224===!D.charCodeAt(3)||74===!D.charCodeAt(6)||70===!D.charCodeAt(7)||73===!D.charCodeAt(8)||70===!D.charCodeAt(9)||0===!D.charCodeAt(10))throw Error("getJpegSize requires a binary string jpeg file");
var w=256*D.charCodeAt(4)+D.charCodeAt(5);var G=4;for(x=D.length;G<x;){G+=w;if(255!==D.charCodeAt(G))throw Error("getJpegSize could not find the size of the image");if(192===D.charCodeAt(G+1)||193===D.charCodeAt(G+1)||194===D.charCodeAt(G+1)||195===D.charCodeAt(G+1)||196===D.charCodeAt(G+1)||197===D.charCodeAt(G+1)||198===D.charCodeAt(G+1)||199===D.charCodeAt(G+1)){x=256*D.charCodeAt(G+5)+D.charCodeAt(G+6);w=256*D.charCodeAt(G+7)+D.charCodeAt(G+8);D=D.charCodeAt(G+9);G=[w,x,D];break a}else G+=2,w=
256*D.charCodeAt(G)+D.charCodeAt(G+1)}G=void 0}return this.createImageInfo(c,G[0],G[1],1==G[3]?this.color_spaces.DEVICE_GRAY:u,8,z,n,y)}this.isArrayBuffer(c)&&(c=new Uint8Array(c));if(this.isArrayBufferView(c)){a:{w=c;if(65496!==(w[0]<<8|w[1]))throw Error("Supplied data is not a JPEG");x=w.length;for(var Q=(w[4]<<8)+w[5],S=4;S<x;){S+=Q;G=w.subarray(S,S+5);Q=(G[2]<<8)+G[3];if((192===G[1]||194===G[1])&&255===G[0]&&7<Q){G=S+5;G=w.subarray(G,G+5);w=(G[2]<<8)+G[3];x=(G[0]<<8)+G[1];G=G[4];G={width:w,height:x,
numcomponents:G};break a}S+=2}throw Error("getJpegSizeFromBytes could not find the size of the image");}c=D||this.arrayBufferToBinaryString(c);return this.createImageInfo(c,G.width,G.height,1==G.numcomponents?this.color_spaces.DEVICE_GRAY:u,8,z,n,y)}return null};k.processJPG=function(){return this.processJPEG.apply(this,arguments)}})(N.API);(function(k){var m={annotations:[],f2:function(q){return q.toFixed(2)},notEmpty:function(q){if("undefined"!=typeof q&&""!=q)return!0}};N.API.annotationPlugin=
m;N.API.events.push(["addPage",function(q){this.annotationPlugin.annotations[q.pageNumber]=[]}]);k.events.push(["putPage",function(q){for(var e=this.annotationPlugin.annotations[q.pageNumber],a=!1,h=0;h<e.length&&!a;h++){var d=e[h];switch(d.type){case "link":if(m.notEmpty(d.options.url)||m.notEmpty(d.options.pageNumber)){a=!0;break}case "reference":case "text":case "freetext":a=!0}}if(0!=a){this.internal.write("/Annots [");a=this.annotationPlugin.f2;var f=this.internal.scaleFactor,l=this.internal.pageSize.getHeight(),
p=this.internal.getPageInfo(q.pageNumber);for(h=0;h<e.length;h++)switch(d=e[h],d.type){case "reference":this.internal.write(" "+d.object.objId+" 0 R ");break;case "text":var c=this.internal.newAdditionalObject(),n=this.internal.newAdditionalObject(),y=d.title||"Note",u="/Rect ["+a(d.bounds.x*f)+" "+a(l-(d.bounds.y+d.bounds.h)*f)+" "+a((d.bounds.x+d.bounds.w)*f)+" "+a((l-d.bounds.y)*f)+"] ";q="\x3c\x3c/Type /Annot /Subtype /Text "+u+"/Contents ("+d.contents+")";q+=" /Popup "+n.objId+" 0 R";q+=" /P "+
p.objId+" 0 R";q+=" /T ("+y+") \x3e\x3e";c.content=q;q=c.objId+" 0 R";u="/Rect ["+a((d.bounds.x+30)*f)+" "+a(l-(d.bounds.y+d.bounds.h)*f)+" "+a((d.bounds.x+d.bounds.w+30)*f)+" "+a((l-d.bounds.y)*f)+"] ";q="\x3c\x3c/Type /Annot /Subtype /Popup "+u+" /Parent "+q;d.open&&(q+=" /Open true");q+=" \x3e\x3e";n.content=q;this.internal.write(c.objId,"0 R",n.objId,"0 R");break;case "freetext":u="/Rect ["+a(d.bounds.x*f)+" "+a((l-d.bounds.y)*f)+" "+a(d.bounds.x+d.bounds.w*f)+" "+a(l-(d.bounds.y+d.bounds.h)*
f)+"] ";c=d.color||"#000000";q="\x3c\x3c/Type /Annot /Subtype /FreeText "+u+"/Contents ("+d.contents+")";q+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+c+")";q+=" /Border [0 0 0]";q+=" \x3e\x3e";this.internal.write(q);break;case "link":d.options.name?(u=this.annotations._nameMap[d.options.name],d.options.pageNumber=u.page,d.options.top=u.y):d.options.top||(d.options.top=0);u="/Rect ["+a(d.x*f)+" "+a((l-d.y)*f)+" "+a(d.x+d.w*f)+" "+a(l-(d.y+d.h)*f)+"] ";q="";if(d.options.url)q=
"\x3c\x3c/Type /Annot /Subtype /Link "+u+"/Border [0 0 0] /A \x3c\x3c/S /URI /URI ("+d.options.url+") \x3e\x3e";else if(d.options.pageNumber)switch(q=this.internal.getPageInfo(d.options.pageNumber),q="\x3c\x3c/Type /Annot /Subtype /Link "+u+"/Border [0 0 0] /Dest ["+q.objId+" 0 R",d.options.magFactor=d.options.magFactor||"XYZ",d.options.magFactor){case "Fit":q+=" /Fit]";break;case "FitH":q+=" /FitH "+d.options.top+"]";break;case "FitV":d.options.left=d.options.left||0;q+=" /FitV "+d.options.left+
"]";break;default:u=a((l-d.options.top)*f),d.options.left=d.options.left||0,"undefined"===typeof d.options.zoom&&(d.options.zoom=0),q+=" /XYZ "+d.options.left+" "+u+" "+d.options.zoom+"]"}""!=q&&(q+=" \x3e\x3e",this.internal.write(q))}this.internal.write("]")}}]);k.createAnnotation=function(q){switch(q.type){case "link":this.link(q.bounds.x,q.bounds.y,q.bounds.w,q.bounds.h,q);break;case "text":case "freetext":this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push(q)}};
k.link=function(q,e,a,h,d){this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push({x:q,y:e,w:a,h:h,options:d,type:"link"})};k.link=function(q,e,a,h,d){this.annotationPlugin.annotations[this.internal.getCurrentPageInfo().pageNumber].push({x:q,y:e,w:a,h:h,options:d,type:"link"})};k.textWithLink=function(q,e,a,h){var d=this.getTextWidth(q),f=this.internal.getLineHeight();this.text(q,e,a);this.link(e,a+.2*f-f,d,f,h);return d};k.getTextWidth=function(q){var e=this.internal.getFontSize();
return this.getStringUnitWidth(q)*e/this.internal.scaleFactor};k.getLineHeight=function(){return this.internal.getLineHeight()};return this})(N.API);(function(k){k.autoPrint=function(){var m;this.internal.events.subscribe("postPutResources",function(){m=this.internal.newObject();this.internal.write("\x3c\x3c /S/Named /Type/Action /N/Print \x3e\x3e","endobj")});this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+m+" 0 R")});return this}})(N.API);(function(k){k.events.push(["initialized",
function(){this.canvas.pdf=this}]);k.canvas={getContext:function(m){this.pdf.context2d._canvas=this;return this.pdf.context2d},style:{}};Object.defineProperty(k.canvas,"width",{get:function(){return this._width},set:function(m){this._width=m;this.getContext("2d").pageWrapX=m+1}});Object.defineProperty(k.canvas,"height",{get:function(){return this._height},set:function(m){this._height=m;this.getContext("2d").pageWrapY=m+1}});return this})(N.API);(function(k){var m,q,e,a,h={x:void 0,y:void 0,w:void 0,
h:void 0,ln:void 0},d=1,f={left:0,top:0,bottom:0};k.setHeaderFunction=function(l){a=l};k.getTextDimensions=function(l){m=this.internal.getFont().fontName;q=this.table_font_size||this.internal.getFontSize();e=this.internal.getFont().fontStyle;var p=19.049976/25.4;var c=document.createElement("font");c.id="jsPDFCell";try{c.style.fontStyle=e}catch(n){c.style.fontWeight=e}c.style.fontName=m;c.style.fontSize=q+"pt";try{c.textContent=l}catch(n){c.innerText=l}document.body.appendChild(c);l={w:(c.offsetWidth+
1)*p,h:(c.offsetHeight+1)*p};document.body.removeChild(c);return l};k.cellAddPage=function(){var l=this.margins||f;this.addPage();h={x:l.left,y:l.top,w:void 0,h:void 0,ln:void 0};d+=1};k.cellInitialize=function(){h={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0};d=1};k.cell=function(l,p,c,n,y,u,D){var z=h,x=!1;void 0!==z.ln&&(z.ln===u?(l=z.x+z.w,p=z.y):(p=this.margins||f,z.y+z.h+n+13>=this.internal.pageSize.getHeight()-p.bottom&&(this.cellAddPage(),x=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(u,
!0)),p=h.y+h.h,x&&(p=23)));if(void 0!==y[0])if(this.printingHeaderRow?this.rect(l,p,c,n,"FD"):this.rect(l,p,c,n),"right"===D)for(y instanceof Array||(y=[y]),D=0;D<y.length;D++)z=y[D],x=this.getStringUnitWidth(z)*this.internal.getFontSize(),this.text(z,l+c-x-3,p+this.internal.getLineHeight()*(D+1));else this.text(y,l+3,p+this.internal.getLineHeight());h={x:l,y:p,w:c,h:n,ln:u};return this};k.arrayMax=function(l,p){var c=l[0],n;var y=0;for(n=l.length;y<n;y+=1){var u=l[y];p?-1===p(c,u)&&(c=u):u>c&&(c=
u)}return c};k.table=function(l,p,c,n,y){if(!c)throw"No data for PDF table";var u=[],D=[],z={},x={},w=[],G=[];var Q=!1;var S=!0;var O=12;var M=f;M.width=this.internal.pageSize.getWidth();y&&(!0===y.autoSize&&(Q=!0),!1===y.printHeaders&&(S=!1),y.fontSize&&(O=y.fontSize),y.css&&"undefined"!==typeof y.css["font-size"]&&(O=16*y.css["font-size"]),y.margins&&(M=y.margins));this.lnMod=0;h={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0};d=1;this.printHeaders=S;this.margins=M;this.setFontSize(O);this.table_font_size=
O;if(void 0===n||null===n)u=Object.keys(c[0]);else if(n[0]&&"string"!==typeof n[0])for(M=19.049976/25.4,y=0,O=n.length;y<O;y+=1){var E=n[y];u.push(E.name);D.push(E.prompt);x[E.name]=E.width*M}else u=n;if(Q){var B=function(V){return V[E]};y=0;for(O=u.length;y<O;y+=1){E=u[y];z[E]=c.map(B);w.push(this.getTextDimensions(D[y]||E).w);var P=z[E];n=0;for(Q=P.length;n<Q;n+=1)M=P[n],w.push(this.getTextDimensions(M).w);x[E]=k.arrayMax(w);w=[]}}if(S){z=this.calculateLineHeight(u,x,D.length?D:u);y=0;for(O=u.length;y<
O;y+=1)E=u[y],G.push([l,p,x[E],z,String(D.length?D[y]:E)]);this.setTableHeaderRow(G);this.printHeaderRow(1,!1)}y=0;for(O=c.length;y<O;y+=1)for(D=c[y],z=this.calculateLineHeight(u,x,D),n=0,G=u.length;n<G;n+=1)E=u[n],this.cell(l,p,x[E],z,D[E],y+2,E.align);this.lastCellPos=h;this.table_x=l;this.table_y=p;return this};k.calculateLineHeight=function(l,p,c){for(var n,y=0,u=0;u<l.length;u++)n=l[u],c[n]=this.splitTextToSize(String(c[n]),p[n]-3),n=this.internal.getLineHeight()*c[n].length+3,n>y&&(y=n);return y};
k.setTableHeaderRow=function(l){this.tableHeaderRow=l};k.printHeaderRow=function(l,p){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var c;this.printingHeaderRow=!0;if(void 0!==a){var n=a(this,d);h={x:n[0],y:n[1],w:n[2],h:n[3],ln:-1}}this.setFontStyle("bold");var y=[];n=0;for(c=this.tableHeaderRow.length;n<c;n+=1){this.setFillColor(200,200,200);var u=this.tableHeaderRow[n];p&&(this.margins.top=13,u[1]=this.margins&&this.margins.top||0,y.push(u));u=[].concat(u);this.cell.apply(this,
u.concat(l))}0<y.length&&this.setTableHeaderRow(y);this.setFontStyle("normal");this.printingHeaderRow=!1}})(N.API);(function(k){function m(){this._isStrokeTransparent=!1;this._strokeOpacity=1;this.fillStyle=this.strokeStyle="#000000";this._isFillTransparent=!1;this._fillOpacity=1;this.font="12pt times";this.textBaseline="alphabetic";this.textAlign="start";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this._transform=[1,0,0,1,0,0];this.globalCompositeOperation="normal";this.globalAlpha=
1;this._clip_path=[];this.ignoreClearRect=!1;this.copy=function(e){this._isStrokeTransparent=e._isStrokeTransparent;this._strokeOpacity=e._strokeOpacity;this.strokeStyle=e.strokeStyle;this._isFillTransparent=e._isFillTransparent;this._fillOpacity=e._fillOpacity;this.fillStyle=e.fillStyle;this.font=e.font;this.lineWidth=e.lineWidth;this.lineJoin=e.lineJoin;this.lineCap=e.lineCap;this.textBaseline=e.textBaseline;this.textAlign=e.textAlign;this._fontSize=e._fontSize;this._transform=e._transform.slice(0);
this.globalCompositeOperation=e.globalCompositeOperation;this.globalAlpha=e.globalAlpha;this._clip_path=e._clip_path.slice(0);this.ignoreClearRect=e.ignoreClearRect}}k.events.push(["initialized",function(){this.context2d.pdf=this;this.context2d.internal.pdf=this;this.context2d.ctx=new m;this.context2d.ctxStack=[];this.context2d.path=[]}]);k.context2d={pageWrapXEnabled:!1,pageWrapYEnabled:!1,pageWrapX:9999999,pageWrapY:9999999,ctx:new m,f2:function(e){return e.toFixed(2)},fillRect:function(e,a,h,d){this._isFillTransparent()||
(e=this._wrapX(e),a=this._wrapY(a),e=this._matrix_map_rect(this.ctx._transform,{x:e,y:a,w:h,h:d}),this.pdf.rect(e.x,e.y,e.w,e.h,"f"))},strokeRect:function(e,a,h,d){this._isStrokeTransparent()||(e=this._wrapX(e),a=this._wrapY(a),e=this._matrix_map_rect(this.ctx._transform,{x:e,y:a,w:h,h:d}),this.pdf.rect(e.x,e.y,e.w,e.h,"s"))},clearRect:function(e,a,h,d){this.ctx.ignoreClearRect||(e=this._wrapX(e),a=this._wrapY(a),e=this._matrix_map_rect(this.ctx._transform,{x:e,y:a,w:h,h:d}),this.save(),this.setFillStyle("#ffffff"),
this.pdf.rect(e.x,e.y,e.w,e.h,"f"),this.restore())},save:function(){this.ctx._fontSize=this.pdf.internal.getFontSize();var e=new m;e.copy(this.ctx);this.ctxStack.push(this.ctx);this.ctx=e},restore:function(){this.ctx=this.ctxStack.pop();this.setFillStyle(this.ctx.fillStyle);this.setStrokeStyle(this.ctx.strokeStyle);this.setFont(this.ctx.font);this.pdf.setFontSize(this.ctx._fontSize);this.setLineCap(this.ctx.lineCap);this.setLineWidth(this.ctx.lineWidth);this.setLineJoin(this.ctx.lineJoin)},rect:function(e,
a,h,d){this.moveTo(e,a);this.lineTo(e+h,a);this.lineTo(e+h,a+d);this.lineTo(e,a+d);this.lineTo(e,a);this.closePath()},beginPath:function(){this.path=[]},closePath:function(){this.path.push({type:"close"})},_getRgba:function(e){var a={};if(this.internal.rxTransparent.test(e))a.r=0,a.g=0,a.b=0,a.a=0;else{var h=this.internal.rxRgb.exec(e);null!=h?(a.r=parseInt(h[1]),a.g=parseInt(h[2]),a.b=parseInt(h[3]),a.a=1):(h=this.internal.rxRgba.exec(e),null!=h?(a.r=parseInt(h[1]),a.g=parseInt(h[2]),a.b=parseInt(h[3]),
a.a=parseFloat(h[4])):(a.a=1,"#"!=e.charAt(0)&&((e=ja.colorNameToHex(e))||(e="#000000")),4===e.length?(a.r=e.substring(1,2),a.r+=r,a.g=e.substring(2,3),a.g+=g,a.b=e.substring(3,4),a.b+=b):(a.r=e.substring(1,3),a.g=e.substring(3,5),a.b=e.substring(5,7)),a.r=parseInt(a.r,16),a.g=parseInt(a.g,16),a.b=parseInt(a.b,16)))}a.style=e;return a},setFillStyle:function(e){var a,h,d;if(this.internal.rxTransparent.test(e))var f=d=h=a=0;else f=this.internal.rxRgb.exec(e),null!=f?(a=parseInt(f[1]),h=parseInt(f[2]),
d=parseInt(f[3]),f=1):(f=this.internal.rxRgba.exec(e),null!=f?(a=parseInt(f[1]),h=parseInt(f[2]),d=parseInt(f[3]),f=parseFloat(f[4])):(f=1,"#"!=e.charAt(0)&&((e=ja.colorNameToHex(e))||(e="#000000")),4===e.length?(a=e.substring(1,2),a+=a,h=e.substring(2,3),h+=h,d=e.substring(3,4),d+=d):(a=e.substring(1,3),h=e.substring(3,5),d=e.substring(5,7)),a=parseInt(a,16),h=parseInt(h,16),d=parseInt(d,16)));this.ctx.fillStyle=e;this.ctx._isFillTransparent=0==f;this.ctx._fillOpacity=f;this.pdf.setFillColor(a,h,
d,{a:f});this.pdf.setTextColor(a,h,d,{a:f})},setStrokeStyle:function(e){e=this._getRgba(e);this.ctx.strokeStyle=e.style;this.ctx._isStrokeTransparent=0==e.a;this.ctx._strokeOpacity=e.a;0===e.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(e.r,e.g,e.b)},fillText:function(e,a,h,d){if(!this._isFillTransparent()){a=this._wrapX(a);h=this._wrapY(h);h=this._matrix_map_point(this.ctx._transform,[a,h]);a=h[0];h=h[1];d=57.2958*this._matrix_rotation(this.ctx._transform);if(0<this.ctx._clip_path.length){var f=
window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();f.push("q");var l=this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._fill(null,!0);this.ctx._clip_path=this.path;this.path=l}l=1;try{l=this._matrix_decompose(this._getTransform()).scale[0]}catch(c){console.warn(c)}if(.01>l)this.pdf.text(e,a,this._getBaseline(h),null,d);else{var p=this.pdf.internal.getFontSize();this.pdf.setFontSize(p*l);this.pdf.text(e,
a,this._getBaseline(h),null,d);this.pdf.setFontSize(p)}0<this.ctx._clip_path.length&&f.push("Q")}},strokeText:function(e,a,h,d){if(!this._isStrokeTransparent()){a=this._wrapX(a);h=this._wrapY(h);h=this._matrix_map_point(this.ctx._transform,[a,h]);a=h[0];h=h[1];d=57.2958*this._matrix_rotation(this.ctx._transform);if(0<this.ctx._clip_path.length){var f=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();f.push("q");var l=
this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._fill(null,!0);this.ctx._clip_path=this.path;this.path=l}l=1;try{l=this._matrix_decompose(this._getTransform()).scale[0]}catch(c){console.warn(c)}if(1===l)this.pdf.text(e,a,this._getBaseline(h),{stroke:!0},d);else{var p=this.pdf.internal.getFontSize();this.pdf.setFontSize(p*l);this.pdf.text(e,a,this._getBaseline(h),{stroke:!0},d);this.pdf.setFontSize(p)}0<this.ctx._clip_path.length&&f.push("Q")}},setFont:function(e){this.ctx.font=
e;var a=/\s*(\w+)\s+(\w+)\s+(\w+)\s+([\d\.]+)(px|pt|em)\s+(.*)?/;a=a.exec(e);if(null!=a){var h=a[1];e=a[3];var d=a[4],f=a[5];a=a[6];d="px"===f?Math.floor(parseFloat(d)):"em"===f?Math.floor(parseFloat(d)*this.pdf.getFontSize()):Math.floor(parseFloat(d));this.pdf.setFontSize(d);"bold"===e||"700"===e?this.pdf.setFontStyle("bold"):"italic"===h?this.pdf.setFontStyle("italic"):this.pdf.setFontStyle("normal");d=a.toLowerCase().split(/\s*,\s*/);-1!=d.indexOf("arial")?d="Arial":-1!=d.indexOf("verdana")?d=
"Verdana":-1!=d.indexOf("helvetica")?d="Helvetica":-1!=d.indexOf("sans-serif")?d="sans-serif":-1!=d.indexOf("fixed")?d="Fixed":-1!=d.indexOf("monospace")?d="Monospace":-1!=d.indexOf("terminal")?d="Terminal":-1!=d.indexOf("courier")?d="Courier":-1!=d.indexOf("times")?d="Times":-1!=d.indexOf("cursive")?d="Cursive":-1!=d.indexOf("fantasy")?d="Fantasy":(d.indexOf("serif"),d="Serif");this.pdf.setFont(d,"bold"===e?"bold":"normal")}else a=/\s*(\d+)(pt|px|em)\s+([\w "]+)\s*([\w "]+)?/,a=a.exec(e),null!=a&&
(h=a[1],e=a[3],(a=a[4])||(a="normal"),h="em"===f?Math.floor(parseFloat(d)*this.pdf.getFontSize()):Math.floor(parseFloat(h)),this.pdf.setFontSize(h),this.pdf.setFont(e,a))},setTextBaseline:function(e){this.ctx.textBaseline=e},getTextBaseline:function(){return this.ctx.textBaseline},setTextAlign:function(e){this.ctx.textAlign=e},getTextAlign:function(){return this.ctx.textAlign},setLineWidth:function(e){this.ctx.lineWidth=e;this.pdf.setLineWidth(e)},setLineCap:function(e){this.ctx.lineCap=e;this.pdf.setLineCap(e)},
setLineJoin:function(e){this.ctx.lineJoin=e;this.pdf.setLineJoin(e)},moveTo:function(e,a){e=this._wrapX(e);a=this._wrapY(a);a=this._matrix_map_point(this.ctx._transform,[e,a]);e=a[0];a=a[1];this.path.push({type:"mt",x:e,y:a})},_wrapX:function(e){return this.pageWrapXEnabled?e%this.pageWrapX:e},_wrapY:function(e){return this.pageWrapYEnabled?(this._gotoPage(this._page(e)),(e-this.lastBreak)%this.pageWrapY):e},transform:function(e,a,h,d,f,l){this.ctx._transform=[e,a,h,d,f,l]},setTransform:function(e,
a,h,d,f,l){this.ctx._transform=[e,a,h,d,f,l]},_getTransform:function(){return this.ctx._transform},lastBreak:0,pageBreaks:[],_page:function(e){if(this.pageWrapYEnabled){for(var a=this.lastBreak=0,h=0,d=0;d<this.pageBreaks.length;d++)if(e>=this.pageBreaks[d]){a++;0===this.lastBreak&&h++;var f=this.pageBreaks[d]-this.lastBreak;this.lastBreak=this.pageBreaks[d];f=Math.floor(f/this.pageWrapY);h+=f}0===this.lastBreak&&(f=Math.floor(e/this.pageWrapY)+1,h+=f);return h+a}return this.pdf.internal.getCurrentPageInfo().pageNumber},
_gotoPage:function(e){},lineTo:function(e,a){e=this._wrapX(e);a=this._wrapY(a);a=this._matrix_map_point(this.ctx._transform,[e,a]);e=a[0];a=a[1];this.path.push({type:"lt",x:e,y:a})},bezierCurveTo:function(e,a,h,d,f,l){e=this._wrapX(e);a=this._wrapY(a);h=this._wrapX(h);d=this._wrapY(d);f=this._wrapX(f);l=this._wrapY(l);var p=this._matrix_map_point(this.ctx._transform,[f,l]);f=p[0];l=p[1];p=this._matrix_map_point(this.ctx._transform,[e,a]);e=p[0];a=p[1];p=this._matrix_map_point(this.ctx._transform,
[h,d]);h=p[0];d=p[1];this.path.push({type:"bct",x1:e,y1:a,x2:h,y2:d,x:f,y:l})},quadraticCurveTo:function(e,a,h,d){e=this._wrapX(e);a=this._wrapY(a);h=this._wrapX(h);d=this._wrapY(d);var f=this._matrix_map_point(this.ctx._transform,[h,d]);h=f[0];d=f[1];f=this._matrix_map_point(this.ctx._transform,[e,a]);e=f[0];a=f[1];this.path.push({type:"qct",x1:e,y1:a,x:h,y:d})},arc:function(e,a,h,d,f,l){e=this._wrapX(e);a=this._wrapY(a);if(!this._matrix_is_identity(this.ctx._transform)){a=this._matrix_map_point(this.ctx._transform,
[e,a]);e=a[0];a=a[1];var p=this._matrix_map_point(this.ctx._transform,[0,0]);h=this._matrix_map_point(this.ctx._transform,[0,h]);h=Math.sqrt(Math.pow(h[0]-p[0],2)+Math.pow(h[1]-p[1],2))}this.path.push({type:"arc",x:e,y:a,radius:h,startAngle:d,endAngle:f,anticlockwise:l})},drawImage:function(e,a,h,d,f,l,p,c,n){void 0!==l&&(a=l,h=p,d=c,f=n);a=this._wrapX(a);h=this._wrapY(h);a=this._matrix_map_rect(this.ctx._transform,{x:a,y:h,w:d,h:f});this._matrix_map_rect(this.ctx._transform,{x:l,y:p,w:c,h:n});l=
/data:image\/(\w+).*/i.exec(e);this.pdf.addImage(e,null!=l?l[1]:"png",a.x,a.y,a.w,a.h)},_matrix_multiply:function(e,a){var h=a[0],d=a[1],f=a[2],l=a[3],p=a[4];a=a[5];var c=h*e[0]+d*e[2],n=f*e[0]+l*e[2],y=p*e[0]+a*e[2]+e[4];d=h*e[1]+d*e[3];l=f*e[1]+l*e[3];a=p*e[1]+a*e[3]+e[5];return[c,d,n,l,y,a]},_matrix_rotation:function(e){return Math.atan2(e[2],e[0])},_matrix_decompose:function(e){var a=e[0],h=e[1],d=e[2],f=e[3],l=Math.sqrt(a*a+h*h);a/=l;h/=l;var p=a*d+h*f;d-=a*p;f-=h*p;var c=Math.sqrt(d*d+f*f);
p/=c;f/c*a<d/c*h&&(a=-a,h=-h,p=-p,l=-l);return{scale:[l,0,0,c,0,0],translate:[1,0,0,1,e[4],e[5]],rotate:[a,h,-h,a,0,0],skew:[1,0,p,1,0,0]}},_matrix_map_point:function(e,a){var h=a[0];a=a[1];return[h*e[0]+a*e[2]+e[4],h*e[1]+a*e[3]+e[5]]},_matrix_map_point_obj:function(e,a){e=this._matrix_map_point(e,[a.x,a.y]);return{x:e[0],y:e[1]}},_matrix_map_rect:function(e,a){var h=this._matrix_map_point(e,[a.x,a.y]);e=this._matrix_map_point(e,[a.x+a.w,a.y+a.h]);return{x:h[0],y:h[1],w:e[0]-h[0],h:e[1]-h[1]}},_matrix_is_identity:function(e){return 1!=
e[0]||0!=e[1]||0!=e[2]||1!=e[3]||0!=e[4]||0!=e[5]?!1:!0},rotate:function(e){this.ctx._transform=this._matrix_multiply(this.ctx._transform,[Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0])},scale:function(e,a){this.ctx._transform=this._matrix_multiply(this.ctx._transform,[e,0,0,a,0,0])},translate:function(e,a){this.ctx._transform=this._matrix_multiply(this.ctx._transform,[1,0,0,1,e,a])},stroke:function(){if(0<this.ctx._clip_path.length){var e=window.outIntercept?"group"===window.outIntercept.type?
window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();e.push("q");var a=this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._stroke(!0);this.ctx._clip_path=this.path;this.path=a;this._stroke(!1);e.push("Q")}else this._stroke(!1)},_stroke:function(e){if(e||!this._isStrokeTransparent()){for(var a=[],h=this.path,d=0;d<h.length;d++){var f=h[d];switch(f.type){case "mt":a.push({start:f,deltas:[],abs:[]});break;case "lt":var l=[f.x-h[d-1].x,f.y-h[d-1].y];a[a.length-
1].deltas.push(l);a[a.length-1].abs.push(f);break;case "bct":l=[f.x1-h[d-1].x,f.y1-h[d-1].y,f.x2-h[d-1].x,f.y2-h[d-1].y,f.x-h[d-1].x,f.y-h[d-1].y];a[a.length-1].deltas.push(l);break;case "qct":l=[h[d-1].x+2/3*(f.x1-h[d-1].x)-h[d-1].x,h[d-1].y+2/3*(f.y1-h[d-1].y)-h[d-1].y,f.x+2/3*(f.x1-f.x)-h[d-1].x,f.y+2/3*(f.y1-f.y)-h[d-1].y,f.x-h[d-1].x,f.y-h[d-1].y];a[a.length-1].deltas.push(l);break;case "arc":0==a.length&&a.push({start:{x:0,y:0},deltas:[],abs:[]}),a[a.length-1].arc=!0,a[a.length-1].abs.push(f)}}for(d=
0;d<a.length;d++)if(h=d==a.length-1?"s":null,a[d].arc)for(f=a[d].abs,l=0;l<f.length;l++){var p=f[l],c=p.x,n=p.y;this.internal.arc2(this,c,n,p.radius,360*p.startAngle/(2*Math.PI),360*p.endAngle/(2*Math.PI),p.anticlockwise,h,e)}else c=a[d].start.x,n=a[d].start.y,e?(this.pdf.lines(a[d].deltas,c,n,null,null),this.pdf.clip_fixed()):this.pdf.lines(a[d].deltas,c,n,null,h)}},_isFillTransparent:function(){return this.ctx._isFillTransparent||0==this.globalAlpha},_isStrokeTransparent:function(){return this.ctx._isStrokeTransparent||
0==this.globalAlpha},fill:function(e){if(0<this.ctx._clip_path.length){var a=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();a.push("q");var h=this.path;this.path=this.ctx._clip_path;this.ctx._clip_path=[];this._fill(e,!0);this.ctx._clip_path=this.path;this.path=h;this._fill(e,!1);a.push("Q")}else this._fill(e,!1)},_fill:function(e,a){if(!this._isFillTransparent()){var h="function"===typeof this.pdf.internal.newObject2;
var d=window.outIntercept?"group"===window.outIntercept.type?window.outIntercept.stream:window.outIntercept:this.internal.getCurrentPage();var f=[],l=window.outIntercept;if(h)switch(this.ctx.globalCompositeOperation){case "normal":case "source-over":break;case "destination-in":case "destination-out":var p=this.pdf.internal.newStreamObject(),c=this.pdf.internal.newObject2();c.push("\x3c\x3c/Type /ExtGState");c.push("/SMask \x3c\x3c/S /Alpha /G "+p.objId+" 0 R\x3e\x3e");c.push("\x3e\x3e");var n="MASK"+
c.objId;this.pdf.internal.addGraphicsState(n,c.objId);n="/"+n+" gs";d.splice(0,0,"q");d.splice(1,0,n);d.push("Q");window.outIntercept=p;break;default:(d="/"+this.pdf.internal.blendModeMap[this.ctx.globalCompositeOperation.toUpperCase()])&&this.pdf.internal.out(d+" gs")}d=this.ctx.globalAlpha;1>this.ctx._fillOpacity&&(d=this.ctx._fillOpacity);h&&(h=this.pdf.internal.newObject2(),h.push("\x3c\x3c/Type /ExtGState"),h.push("/CA "+d),h.push("/ca "+d),h.push("\x3e\x3e"),n="GS_O_"+h.objId,this.pdf.internal.addGraphicsState(n,
h.objId),this.pdf.internal.out("/"+n+" gs"));d=this.path;for(h=0;h<d.length;h++)switch(p=d[h],p.type){case "mt":f.push({start:p,deltas:[],abs:[]});break;case "lt":n=[p.x-d[h-1].x,p.y-d[h-1].y];f[f.length-1].deltas.push(n);f[f.length-1].abs.push(p);break;case "bct":n=[p.x1-d[h-1].x,p.y1-d[h-1].y,p.x2-d[h-1].x,p.y2-d[h-1].y,p.x-d[h-1].x,p.y-d[h-1].y];f[f.length-1].deltas.push(n);break;case "qct":n=[d[h-1].x+2/3*(p.x1-d[h-1].x)-d[h-1].x,d[h-1].y+2/3*(p.y1-d[h-1].y)-d[h-1].y,p.x+2/3*(p.x1-p.x)-d[h-1].x,
p.y+2/3*(p.y1-p.y)-d[h-1].y,p.x-d[h-1].x,p.y-d[h-1].y];f[f.length-1].deltas.push(n);break;case "arc":0===f.length&&f.push({deltas:[],abs:[]});f[f.length-1].arc=!0;f[f.length-1].abs.push(p);break;case "close":f.push({close:!0})}for(h=0;h<f.length;h++)if(h==f.length-1?(n="f","evenodd"===e&&(n+="*")):n=null,f[h].close)this.pdf.internal.out("h"),this.pdf.internal.out("f");else if(f[h].arc)for(f[h].start&&this.internal.move2(this,f[h].start.x,f[h].start.y),n=f[h].abs,c=0;c<n.length;c++){var y=n[c];if("undefined"!==
typeof y.startAngle){var u=360*y.startAngle/(2*Math.PI),D=360*y.endAngle/(2*Math.PI);d=y.x;p=y.y;0===c&&this.internal.move2(this,d,p);this.internal.arc2(this,d,p,y.radius,u,D,y.anticlockwise,null,a);c===n.length-1&&f[h].start&&(d=f[h].start.x,p=f[h].start.y,this.internal.line2(q,d,p))}else this.internal.line2(q,y.x,y.y)}else d=f[h].start.x,p=f[h].start.y,a?(this.pdf.lines(f[h].deltas,d,p,null,null),this.pdf.clip_fixed()):this.pdf.lines(f[h].deltas,d,p,null,n);window.outIntercept=l}},pushMask:function(){if("function"!==
typeof this.pdf.internal.newObject2)console.log("jsPDF v2 not enabled");else{var e=this.pdf.internal.newStreamObject(),a=this.pdf.internal.newObject2();a.push("\x3c\x3c/Type /ExtGState");a.push("/SMask \x3c\x3c/S /Alpha /G "+e.objId+" 0 R\x3e\x3e");a.push("\x3e\x3e");e="MASK"+a.objId;this.pdf.internal.addGraphicsState(e,a.objId);this.pdf.internal.out("/"+e+" gs")}},clip:function(){if(0<this.ctx._clip_path.length)for(var e=0;e<this.path.length;e++)this.ctx._clip_path.push(this.path[e]);else this.ctx._clip_path=
this.path;this.path=[]},measureText:function(e){var a=this.pdf;return{getWidth:function(){var h=a.internal.getFontSize();return a.getStringUnitWidth(e)*h/a.internal.scaleFactor*1.3333}}},_getBaseline:function(e){var a=parseInt(this.pdf.internal.getFontSize()),h=.25*a;switch(this.ctx.textBaseline){case "bottom":return e-h;case "top":return e+a;case "hanging":return e+a-h;case "middle":return e+a/2-h;case "ideographic":return e;default:return e}}};var q=k.context2d;Object.defineProperty(q,"fillStyle",
{set:function(e){this.setFillStyle(e)},get:function(){return this.ctx.fillStyle}});Object.defineProperty(q,"strokeStyle",{set:function(e){this.setStrokeStyle(e)},get:function(){return this.ctx.strokeStyle}});Object.defineProperty(q,"lineWidth",{set:function(e){this.setLineWidth(e)},get:function(){return this.ctx.lineWidth}});Object.defineProperty(q,"lineCap",{set:function(e){this.setLineCap(e)},get:function(){return this.ctx.lineCap}});Object.defineProperty(q,"lineJoin",{set:function(e){this.setLineJoin(e)},
get:function(){return this.ctx.lineJoin}});Object.defineProperty(q,"miterLimit",{set:function(e){this.ctx.miterLimit=e},get:function(){return this.ctx.miterLimit}});Object.defineProperty(q,"textBaseline",{set:function(e){this.setTextBaseline(e)},get:function(){return this.getTextBaseline()}});Object.defineProperty(q,"textAlign",{set:function(e){this.setTextAlign(e)},get:function(){return this.getTextAlign()}});Object.defineProperty(q,"font",{set:function(e){this.setFont(e)},get:function(){return this.ctx.font}});
Object.defineProperty(q,"globalCompositeOperation",{set:function(e){this.ctx.globalCompositeOperation=e},get:function(){return this.ctx.globalCompositeOperation}});Object.defineProperty(q,"globalAlpha",{set:function(e){this.ctx.globalAlpha=e},get:function(){return this.ctx.globalAlpha}});Object.defineProperty(q,"ignoreClearRect",{set:function(e){this.ctx.ignoreClearRect=e},get:function(){return this.ctx.ignoreClearRect}});q.internal={};q.internal.rxRgb=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/;
q.internal.rxRgba=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/;q.internal.rxTransparent=/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/;q.internal.arc=function(e,a,h,d,f,l,p,c){var n=this.pdf.internal.scaleFactor,y=this.pdf.internal.pageSize.getHeight(),u=this.pdf.internal.f2;d=this.createArc(d,Math.PI/180*f,Math.PI/180*l,p);for(f=0;f<d.length;f++)l=d[f],0===f?this.pdf.internal.out([u((l.x1+a)*n),u((y-(l.y1+h))*n),"m",u((l.x2+a)*n),u((y-(l.y2+h))*n),u((l.x3+
a)*n),u((y-(l.y3+h))*n),u((l.x4+a)*n),u((y-(l.y4+h))*n),"c"].join(" ")):this.pdf.internal.out([u((l.x2+a)*n),u((y-(l.y2+h))*n),u((l.x3+a)*n),u((y-(l.y3+h))*n),u((l.x4+a)*n),u((y-(l.y4+h))*n),"c"].join(" ")),e._lastPoint={x:a,y:h};null!==c&&this.pdf.internal.out(this.pdf.internal.getStyle(c))};q.internal.arc2=function(e,a,h,d,f,l,p,c,n){n?(this.arc(e,a,h,d,f,l,p,null),this.pdf.clip_fixed()):this.arc(e,a,h,d,f,l,p,c)};q.internal.move2=function(e,a,h){var d=this.pdf.internal.scaleFactor,f=this.pdf.internal.pageSize.getHeight(),
l=this.pdf.internal.f2;this.pdf.internal.out([l(a*d),l((f-h)*d),"m"].join(" "));e._lastPoint={x:a,y:h}};q.internal.line2=function(e,a,h){var d=this.pdf.internal.scaleFactor,f=this.pdf.internal.pageSize.getHeight(),l=this.pdf.internal.f2;a={x:a,y:h};this.pdf.internal.out([l(a.x*d),l((f-a.y)*d),"l"].join(" "));e._lastPoint=a};q.internal.createArc=function(e,a,h,d){var f=2*Math.PI,l=Math.PI/2,p=a;if(p<f||p>f)p%=f;for(0>p&&(p=f+p);a>h;)a-=f;a=Math.abs(h-a);a<f&&d&&(a=f-a);f=[];for(d=d?-1:1;1E-5<a;)h=
p+d*Math.min(a,l),f.push(this.createSmallArc(e,p,h)),a-=Math.abs(h-p),p=h;return f};q.internal.getCurrentPage=function(){return this.pdf.internal.pages[this.pdf.internal.getCurrentPageInfo().pageNumber]};q.internal.createSmallArc=function(e,a,h){var d=(h-a)/2,f=e*Math.cos(d),l=e*Math.sin(d),p=-l,c=f*f+p*p,n=c+f*f+p*l;c=4/3*(Math.sqrt(2*c*n)-n)/(f*l-p*f);l=f-c*p;f=p+c*f;p=-f;c=d+a;d=Math.cos(c);c=Math.sin(c);return{x1:e*Math.cos(a),y1:e*Math.sin(a),x2:l*d-f*c,y2:l*c+f*d,x3:l*d-p*c,y3:l*c+p*d,x4:e*
Math.cos(h),y4:e*Math.sin(h)}};return this})(N.API);(function(k){var m=function(){function E(){}return function(B){E.prototype=B;return new E}}();var q=function(E){var B,P;var V=0;var W=E.length;var Y=void 0;for(P=B=!1;!B&&V!==W;)(Y=E[V]=E[V].trimLeft())&&(B=!0),V++;for(V=W-1;W&&!P&&-1!==V;)(Y=E[V]=E[V].trimRight())&&(P=!0),V--;B=/\s+$/g;P=!0;for(V=0;V!==W;)"\u2028"!=E[V]&&(Y=E[V].replace(/\s+/g," "),P&&(Y=Y.trimLeft()),Y&&(P=B.test(Y)),E[V]=Y),V++;return E};var e=function(E,B,P,V){this.pdf=E;this.x=
B;this.y=P;this.settings=V;this.watchFunctions=[];this.init();return this};var a=function(E){var B=void 0;var P=E.split(",");for(E=P.shift();!B&&E;)B=x[E.trim().toLowerCase()],E=P.shift();return B};var h=function(E){E="auto"===E?"0px":E;-1<E.indexOf("em")&&!isNaN(Number(E.replace("em","")))&&(E=18.719*Number(E.replace("em",""))+"px");-1<E.indexOf("pt")&&!isNaN(Number(E.replace("pt","")))&&(E=1.333*Number(E.replace("pt",""))+"px");var B;if(B=M[E])return B;B={"xx-small":9,"x-small":11,small:13,medium:16,
large:19,"x-large":23,"xx-large":28,auto:0}[{css_line_height_string:E}];if(void 0!==B||(B=parseFloat(E)))return M[E]=B/16;B=E.match(/([\d\.]+)(px)/);return 3===B.length?M[E]=parseFloat(B[1])/16:M[E]=1};var d=function(E){var B=function(V){var W=function(Y){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(Y,null):Y.currentStyle?Y.currentStyle:Y.style}(V);return function(Y){Y=Y.replace(/-\D/g,function(ma){return ma.charAt(1).toUpperCase()});return W[Y]}}(E);
E={};var P=void 0;E["font-family"]=a(B("font-family"))||"times";E["font-style"]=G[B("font-style")]||"normal";E["text-align"]=Q[B("text-align")]||"left";P=w[B("font-weight")]||"normal";"bold"===P&&(E["font-style"]="normal"===E["font-style"]?P:P+E["font-style"]);E["font-size"]=h(B("font-size"))||1;E["line-height"]=h(B("line-height"))||1;E.display="inline"===B("display")?"inline":"block";P="block"===E.display;E["margin-top"]=P&&h(B("margin-top"))||0;E["margin-bottom"]=P&&h(B("margin-bottom"))||0;E["padding-top"]=
P&&h(B("padding-top"))||0;E["padding-bottom"]=P&&h(B("padding-bottom"))||0;E["margin-left"]=P&&h(B("margin-left"))||0;E["margin-right"]=P&&h(B("margin-right"))||0;E["padding-left"]=P&&h(B("padding-left"))||0;E["padding-right"]=P&&h(B("padding-right"))||0;E["page-break-before"]=B("page-break-before")||"auto";E["float"]=S[B("cssFloat")]||"none";E.clear=O[B("clear")]||"none";E.color=B("color");return E};var f=function(E,B,P){var V,W;var Y=!1;var ma=W=void 0;if(V=P["#"+E.id])if("function"===typeof V)Y=
V(E,B);else for(W=0,ma=V.length;!Y&&W!==ma;)Y=V[W](E,B),W++;V=P[E.nodeName];if(!Y&&V)if("function"===typeof V)Y=V(E,B);else for(W=0,ma=V.length;!Y&&W!==ma;)Y=V[W](E,B),W++;return Y};var l=function(E,B){var P;var V=[];var W=[];var Y=0;var ma=E.rows[0].cells.length;for(P=E.clientWidth;Y<ma;){var da=E.rows[0].cells[Y];W[Y]={name:da.textContent.toLowerCase().replace(/\s+/g,""),prompt:da.textContent.replace(/\r?\n/g,""),width:da.clientWidth/P*B.pdf.internal.pageSize.getWidth()};Y++}for(Y=1;Y<E.rows.length;){da=
E.rows[Y];P={};for(B=0;B<da.cells.length;)P[W[B].name]=da.cells[B].textContent.replace(/\r?\n/g,""),B++;V.push(P);Y++}return{rows:V,headers:W}};var p={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},c=1;var n=function(E,B,P){var V,W,Y;var ma=E.childNodes;var da=void 0;E=d(E);if(V="block"===E.display)B.setBlockBoundary(),B.setBlockStyle(E);var Aa=0;for(W=ma.length;Aa<W;){da=ma[Aa];if("object"===("undefined"===typeof da?"undefined":U(da))){B.executeWatchFunctions(da);if(1===da.nodeType&&"HEADER"===
da.nodeName){var qa=da,Ca=B.pdf.margins_doc.top;B.pdf.internal.events.subscribe("addPage",function(K){B.y=Ca;n(qa,B,P);B.pdf.margins_doc.top=B.y+10;B.y+=10},!1)}if(8===da.nodeType&&"#comment"===da.nodeName)~da.textContent.indexOf("ADD_PAGE")&&(B.pdf.addPage(),B.y=B.pdf.margins_doc.top);else if(1!==da.nodeType||p[da.nodeName])if(3===da.nodeType){if((Y=da.nodeValue)&&"LI"===da.parentNode.nodeName)if("OL"===da.parentNode.parentNode.nodeName)Y=c++ +". "+Y;else{var t=E["font-size"];var v=(3-.75*t)*B.pdf.internal.scaleFactor,
H=.75*t*B.pdf.internal.scaleFactor,C=1.74*t/B.pdf.internal.scaleFactor;t=function(K,L){this.pdf.circle(K+v,L+H,C,"FD")}}da.ownerDocument.body.compareDocumentPosition(da)&16&&B.addText(Y,E)}else"string"===typeof da&&B.addText(da,E);else{if("IMG"===da.nodeName){var J=da.getAttribute("src");J=y[B.pdf.sHashCode(J)||J]}if(J){B.pdf.internal.pageSize.getHeight()-B.pdf.margins_doc.bottom<B.y+da.height&&B.y>B.pdf.margins_doc.top&&(B.pdf.addPage(),B.y=B.pdf.margins_doc.top,B.executeWatchFunctions(da));Y=d(da);
var R=B.x,oa=12/B.pdf.internal.scaleFactor,aa=(Y["margin-left"]+Y["padding-left"])*oa,ua=(Y["margin-right"]+Y["padding-right"])*oa,A=(Y["margin-top"]+Y["padding-top"])*oa;oa*=Y["margin-bottom"]+Y["padding-bottom"];R=void 0!==Y["float"]&&"right"===Y["float"]?R+(B.settings.width-da.width-ua):R+aa;B.pdf.addImage(J,R,B.y+A,da.width,da.height);J=void 0;"right"===Y["float"]||"left"===Y["float"]?(B.watchFunctions.push(function(K,L,ba,ea){return B.y>=L?(B.x+=K,B.settings.width+=ba,!0):ea&&1===ea.nodeType&&
!p[ea.nodeName]&&B.x+ea.width>B.pdf.margins_doc.left+B.pdf.margins_doc.width?(B.x+=K,B.y=L,B.settings.width+=ba,!0):!1}.bind(this,"left"===Y["float"]?-da.width-aa-ua:0,B.y+da.height+A+oa,da.width)),B.watchFunctions.push(function(K,L,ba){return B.y<K&&L===B.pdf.internal.getNumberOfPages()?1===ba.nodeType&&"both"===d(ba).clear?(B.y=K,!0):!1:!0}.bind(this,B.y+da.height,B.pdf.internal.getNumberOfPages())),B.settings.width-=da.width+aa+ua,"left"===Y["float"]&&(B.x+=da.width+aa+ua)):B.y+=da.height+A+oa}else"TABLE"===
da.nodeName?(Y=l(da,B),B.y+=10,B.pdf.table(B.x,B.y,Y.rows,Y.headers,{autoSize:!1,printHeaders:P.printHeaders,margins:B.pdf.margins_doc,css:d(da)}),B.y=B.pdf.lastCellPos.y+B.pdf.lastCellPos.h+20):"OL"===da.nodeName||"UL"===da.nodeName?(c=1,f(da,B,P)||n(da,B,P),B.y+=10):"LI"===da.nodeName?(Y=B.x,B.x+=20/B.pdf.internal.scaleFactor,B.y+=3,f(da,B,P)||n(da,B,P),B.x=Y):"BR"===da.nodeName?(B.y+=E["font-size"]*B.pdf.internal.scaleFactor,B.addText("\u2028",m(E))):f(da,B,P)||n(da,B,P)}}Aa++}P.outY=B.y;if(V)return B.setBlockBoundary(t)};
var y={};var u=function(E,B,P,V){function W(){B.pdf.internal.events.publish("imagesLoaded");V(ma)}function Y(Aa,qa,Ca){if(Aa){var t=new Image;ma=++da;t.crossOrigin="";t.onerror=t.onload=function(){if(t.complete&&(0===t.src.indexOf("data:image/")&&(t.width=qa||t.width||0,t.height=Ca||t.height||0),t.width+t.height)){var v=B.pdf.sHashCode(Aa)||Aa;y[v]=y[v]||t}--da||W()};t.src=Aa}}E=E.getElementsByTagName("img");P=E.length;for(var ma,da=0;P--;)Y(E[P].getAttribute("src"),E[P].width,E[P].height);return da||
W()};var D=function(E,B,P){var V=E.getElementsByTagName("footer");if(0<V.length){V=V[0];E=B.pdf.internal.write;var W=B.y;B.pdf.internal.write=function(){};n(V,B,P);var Y=Math.ceil(B.y-W)+5;B.y=W;B.pdf.internal.write=E;B.pdf.margins_doc.bottom+=Y;E=function(da){da=void 0!==da?da.pageNumber:1;var Aa=B.y;B.y=B.pdf.internal.pageSize.getHeight()-B.pdf.margins_doc.bottom;B.pdf.margins_doc.bottom-=Y;for(var qa=V.getElementsByTagName("span"),Ca=0;Ca<qa.length;++Ca)-1<(" "+qa[Ca].className+" ").replace(/[\n\t]/g,
" ").indexOf(" pageCounter ")&&(qa[Ca].innerHTML=da),-1<(" "+qa[Ca].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&(qa[Ca].innerHTML="###jsPDFVarTotalPages###");n(V,B,P);B.pdf.margins_doc.bottom+=Y;B.y=Aa};W=V.getElementsByTagName("span");for(var ma=0;ma<W.length;++ma)-1<(" "+W[ma].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&B.pdf.internal.events.subscribe("htmlRenderingFinished",B.pdf.putTotalPages.bind(B.pdf,"###jsPDFVarTotalPages###"),!0);B.pdf.internal.events.subscribe("addPage",
E,!1);E();p.FOOTER=1}};var z=function(E,B,P,V,W,Y){if(!B)return!1;"string"===typeof B||B.parentNode||(B=""+B.innerHTML);"string"===typeof B&&(B=function(Aa){var qa="jsPDFhtmlText"+Date.now().toString()+(1E3*Math.random()).toFixed(0);var Ca=document.createElement("div");Ca.style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;";
Ca.innerHTML='\x3ciframe style\x3d"height:1px;width:1px" name\x3d"'+qa+'" /\x3e';document.body.appendChild(Ca);Ca=window.frames[qa];Ca.document.open();Ca.document.writeln(Aa);Ca.document.close();return Ca.document.body}(B.replace(/<\/?script[^>]*?>/gi,"")));var ma=new e(E,P,V,W),da;u.call(this,B,ma,W.elementHandlers,function(Aa){D(B,ma,W.elementHandlers);n(B,ma,W.elementHandlers);ma.pdf.internal.events.publish("htmlRenderingFinished");da=ma.dispose();"function"===typeof Y?Y(da):Aa&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")});
return da||{x:ma.x,y:ma.y}};e.prototype.init=function(){this.paragraph={text:[],style:[]};return this.pdf.internal.write("q")};e.prototype.dispose=function(){this.pdf.internal.write("Q");return{x:this.x,y:this.y,ready:!0}};e.prototype.executeWatchFunctions=function(E){var B=!1,P=[];if(0<this.watchFunctions.length){for(var V=0;V<this.watchFunctions.length;++V)!0===this.watchFunctions[V](E)?B=!0:P.push(this.watchFunctions[V]);this.watchFunctions=P}return B};e.prototype.splitFragmentsIntoLines=function(E,
B){var P,V,W,Y,ma,da;var Aa=this.pdf.internal.scaleFactor;var qa={};var Ca=V=P=da=W=V=Y=P=void 0;var t=[];var v=[t];Ca=0;for(ma=this.settings.width;E.length;)if(W=E.shift(),da=B.shift(),W)if(P=da["font-family"],Y=da["font-style"],V=qa[P+Y],V||(V=this.pdf.internal.getFont(P,Y).metadata.Unicode,qa[P+Y]=V),P={widths:V.widths,kerning:V.kerning,fontSize:12*da["font-size"],textIndent:Ca},V=this.pdf.getStringUnitWidth(W,P)*P.fontSize/Aa,"\u2028"==W)t=[],v.push(t);else if(Ca+V>ma){Ca=this.pdf.splitTextToSize(W,
ma,P);for(t.push([Ca.shift(),da]);Ca.length;)t=[[Ca.shift(),da]],v.push(t);Ca=this.pdf.getStringUnitWidth(t[0][0],P)*P.fontSize/Aa}else t.push([W,da]),Ca+=V;if(void 0!==da["text-align"]&&("center"===da["text-align"]||"right"===da["text-align"]||"justify"===da["text-align"]))for(E=0;E<v.length;++E)B=this.pdf.getStringUnitWidth(v[E][0][0],P)*P.fontSize/Aa,0<E&&(v[E][0][1]=m(v[E][0][1])),B=ma-B,"right"===da["text-align"]?v[E][0][1]["margin-left"]=B:"center"===da["text-align"]?v[E][0][1]["margin-left"]=
B/2:"justify"===da["text-align"]&&(qa=v[E][0][0].split(" ").length-1,v[E][0][1]["word-spacing"]=B/qa,E===v.length-1&&(v[E][0][1]["word-spacing"]=0));return v};e.prototype.RenderTextFragment=function(E,B){var P=0;this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),
B.color,"Td"),P=Math.max(P,B["line-height"],B["font-size"]),this.pdf.internal.write(0,(-12*P).toFixed(2),"Td"));P=this.pdf.internal.getFont(B["font-family"],B["font-style"]);var V=this.getPdfColor(B.color);V!==this.lastTextColor&&(this.pdf.internal.write(V),this.lastTextColor=V);void 0!==B["word-spacing"]&&0<B["word-spacing"]&&this.pdf.internal.write(B["word-spacing"].toFixed(2),"Tw");this.pdf.internal.write("/"+P.id,(12*B["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(E)+") Tj");void 0!==
B["word-spacing"]&&this.pdf.internal.write(0,"Tw")};e.prototype.getPdfColor=function(E){var B=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(E);if(null!=B){var P=parseInt(B[1]);var V=parseInt(B[2]);E=parseInt(B[3])}else"#"!=E.charAt(0)&&((E=ja.colorNameToHex(E))||(E="#000000")),P=E.substring(1,3),P=parseInt(P,16),V=E.substring(3,5),V=parseInt(V,16),E=E.substring(5,7),E=parseInt(E,16);"string"===typeof P&&/^#[0-9A-Fa-f]{6}$/.test(P)&&(E=parseInt(P.substr(1),16),P=E>>16&255,V=E>>8&255,E&=255);B=this.f3;
return 0===P&&0===V&&0===E||"undefined"===typeof V?B(P/255)+" g":[B(P/255),B(V/255),B(E/255),"rg"].join(" ")};e.prototype.f3=function(E){return E.toFixed(3)};e.prototype.renderParagraph=function(E){var B,P;var V=q(this.paragraph.text);var W=this.paragraph.style;var Y=this.paragraph.blockstyle;this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:Y};if(V.join("").trim()){W=this.splitFragmentsIntoLines(V,W);var ma=P=void 0;V=12/this.pdf.internal.scaleFactor;this.priorMarginBottom=this.priorMarginBottom||
0;P=(Math.max((Y["margin-top"]||0)-this.priorMarginBottom,0)+(Y["padding-top"]||0))*V;var da=((Y["margin-bottom"]||0)+(Y["padding-bottom"]||0))*V;this.priorMarginBottom=Y["margin-bottom"]||0;"always"===Y["page-break-before"]&&(this.pdf.addPage(),this.y=0,P=((Y["margin-top"]||0)+(Y["padding-top"]||0))*V);var Aa=this.pdf.internal.write;var qa=B=void 0;this.y+=P;Aa("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var Ca=0;W.length;){P=
W.shift();B=ma=0;for(qa=P.length;B!==qa;){if(P[B][0].trim()){ma=Math.max(ma,P[B][1]["line-height"],P[B][1]["font-size"]);var t=7*P[B][1]["font-size"]}B++}qa=B=0;void 0!==P[0][1]["margin-left"]&&0<P[0][1]["margin-left"]&&(qa=this.pdf.internal.getCoordinateString(P[0][1]["margin-left"]),B=qa-Ca,Ca=qa);Aa(B+Math.max(Y["margin-left"]||0,0)*V,(-12*ma).toFixed(2),"Td");B=0;for(qa=P.length;B!==qa;)P[B][0]&&this.RenderTextFragment(P[B][0],P[B][1]),B++;this.y+=ma*V;if(this.executeWatchFunctions(P[0][1])&&
0<W.length){var v=[],H=[];W.forEach(function(C){for(var J=0,R=C.length;J!==R;)C[J][0]&&(v.push(C[J][0]+" "),H.push(C[J][1])),++J});W=this.splitFragmentsIntoLines(q(v),H);Aa("ET","Q");Aa("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}E&&"function"===typeof E&&E.call(this,this.x-9,this.y-t/2);Aa("ET","Q");return this.y+=da}};e.prototype.setBlockBoundary=function(E){return this.renderParagraph(E)};e.prototype.setBlockStyle=function(E){return this.paragraph.blockstyle=
E};e.prototype.addText=function(E,B){this.paragraph.text.push(E);return this.paragraph.style.push(B)};var x={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"};var w={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"};var G={normal:"normal",italic:"italic",oblique:"italic"};var Q={left:"left",right:"right",
center:"center",justify:"justify"};var S={none:"none",right:"right",left:"left"};var O={none:"none",both:"both"};var M={normal:1};k.fromHTML=function(E,B,P,V,W,Y){this.margins_doc=Y||{top:0,bottom:0};V||(V={});V.elementHandlers||(V.elementHandlers={});return z(this,E,isNaN(B)?4:B,isNaN(P)?4:P,V,W)}})(N.API);(function(k){var m,q,e;k.addJS=function(a){e=a;this.internal.events.subscribe("postPutResources",function(h){m=this.internal.newObject();this.internal.write("\x3c\x3c /Names [(EmbeddedJS) "+(m+
1)+" 0 R] \x3e\x3e","endobj");q=this.internal.newObject();this.internal.write("\x3c\x3c /S /JavaScript /JS (",e,") \x3e\x3e","endobj")});this.internal.events.subscribe("putCatalog",function(){void 0!==m&&void 0!==q&&this.internal.write("/Names \x3c\x3c/JavaScript "+m+" 0 R\x3e\x3e")});return this}})(N.API);(function(k){k.events.push(["postPutResources",function(){var m=/^(\d+) 0 obj$/;if(0<this.outline.root.children.length)for(var q=this.outline.render().split(/\r\n/),e=0;e<q.length;e++){var a=q[e],
h=m.exec(a);null!=h&&this.internal.newObjectDeferredBegin(h[1]);this.internal.write(a)}if(this.outline.createNamedDestinations){q=this.internal.pages.length;m=[];for(e=0;e<q;e++)a=this.internal.newObject(),m.push(a),a=this.internal.getPageInfo(e+1),this.internal.write("\x3c\x3c /D["+a.objId+" 0 R /XYZ null null null]\x3e\x3e endobj");q=this.internal.newObject();this.internal.write("\x3c\x3c /Names [ ");for(e=0;e<m.length;e++)this.internal.write("(page_"+(e+1)+")"+m[e]+" 0 R");this.internal.write(" ] \x3e\x3e",
"endobj");this.internal.newObject();this.internal.write("\x3c\x3c /Dests "+q+" 0 R");this.internal.write("\x3e\x3e","endobj")}}]);k.events.push(["putCatalog",function(){0<this.outline.root.children.length&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+namesOid+" 0 R"))}]);k.events.push(["initialized",function(){var m=this;m.outline={createNamedDestinations:!1,root:{children:[]}};m.outline.add=function(q,
e,a){e={title:e,options:a,children:[]};null==q&&(q=this.root);q.children.push(e);return e};m.outline.render=function(){this.ctx={};this.ctx.val="";this.ctx.pdf=m;this.genIds_r(this.root);this.renderRoot(this.root);this.renderItems(this.root);return this.ctx.val};m.outline.genIds_r=function(q){q.id=m.internal.newObjectDeferred();for(var e=0;e<q.children.length;e++)this.genIds_r(q.children[e])};m.outline.renderRoot=function(q){this.objStart(q);this.line("/Type /Outlines");0<q.children.length&&(this.line("/First "+
this.makeRef(q.children[0])),this.line("/Last "+this.makeRef(q.children[q.children.length-1])));this.line("/Count "+this.count_r({count:0},q));this.objEnd()};m.outline.renderItems=function(q){for(var e=0;e<q.children.length;e++){var a=q.children[e];this.objStart(a);this.line("/Title "+this.makeString(a.title));this.line("/Parent "+this.makeRef(q));0<e&&this.line("/Prev "+this.makeRef(q.children[e-1]));e<q.children.length-1&&this.line("/Next "+this.makeRef(q.children[e+1]));0<a.children.length&&(this.line("/First "+
this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var h=this.count=this.count_r({count:0},a);0<h&&this.line("/Count "+h);a.options&&a.options.pageNumber&&(a=m.internal.getPageInfo(a.options.pageNumber),this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+this.ctx.pdf.internal.pageSize.getHeight()+" 0]"));this.objEnd()}for(e=0;e<q.children.length;e++)a=q.children[e],this.renderItems(a)};m.outline.line=function(q){this.ctx.val+=q+"\r\n"};m.outline.makeRef=function(q){return q.id+
" 0 R"};m.outline.makeString=function(q){return"("+m.internal.pdfEscape(q)+")"};m.outline.objStart=function(q){this.ctx.val+="\r\n"+q.id+" 0 obj\r\n\x3c\x3c\r\n"};m.outline.objEnd=function(q){this.ctx.val+="\x3e\x3e \r\nendobj\r\n"};m.outline.count_r=function(q,e){for(var a=0;a<e.children.length;a++)q.count++,this.count_r(q,e.children[a]);return q.count}}]);return this})(N.API);(function(k){var m=function(f,l,p,c){var n=5,y=a;switch(c){case k.image_compression.FAST:n=3;y=e;break;case k.image_compression.MEDIUM:n=
6;y=h;break;case k.image_compression.SLOW:n=9,y=d}c=f.length/l;for(var u=new Uint8Array(f.length+c),D=[q,e,a,h,d],z=0,x,w,G;z<c;z++){G=z*l;x=f.subarray(G,G+l);if(y)u.set(y(x,p,w),G+z);else{for(var Q=0,S=D.length,O=[];Q<S;Q++)O[Q]=D[Q](x,p,w);var M=Q=w=void 0;S=O.concat();for(var E=0,B=S.length;E<B;){M=S[E].slice(1);for(var P=0,V=M.length,W=0;P<V;)W+=Math.abs(M[P++]);M=W;if(M<Q||!Q)Q=M,w=E;E++}u.set(O[w],G+z)}w=x}f=u;l=Uint8Array;p=Math.LOG2E*Math.log(32768)-8<<4|8;y=p<<8|0;y+=31-y%31;l=new l([p,y&
255]);p=1;y=0;c=f.length;for(D=0;0<c;){u=void 0<c?void 0:c;c-=u;do p+=f[D++],y+=p;while(--u);p%=65521;y%=65521}p=(y<<16|p)>>>0;y=new ca(n);n=y.append(f);f=y.flush();y=l.length+n.length+f.length;c=new Uint8Array(y+4);c.set(l);c.set(n,l.length);c.set(f,l.length+n.length);c[y++]=p>>>24&255;c[y++]=p>>>16&255;c[y++]=p>>>8&255;c[y++]=p&255;return k.arrayBufferToBinaryString(c)},q=function(f,l,p){f=Array.apply([],f);f.unshift(0);return f},e=function(f,l,p){p=[];var c=0,n=f.length;for(p[0]=1;c<n;c++){var y=
f[c-l]||0;p[c+1]=f[c]-y+256&255}return p},a=function(f,l,p){l=[];var c=0,n=f.length;for(l[0]=2;c<n;c++){var y=p&&p[c]||0;l[c+1]=f[c]-y+256&255}return l},h=function(f,l,p){var c=[],n=0,y=f.length;for(c[0]=3;n<y;n++){var u=f[n-l]||0;var D=p&&p[n]||0;c[n+1]=f[n]+256-(u+D>>>1)&255}return c},d=function(f,l,p){var c=[],n=0,y=f.length;for(c[0]=4;n<y;n++){var u=f[n-l]||0;var D=p&&p[n]||0;var z=p&&p[n-l]||0;var x=u+D-z,w=Math.abs(x-u),G=Math.abs(x-D);x=Math.abs(x-z);u=w<=G&&w<=x?u:G<=x?D:z;c[n+1]=f[n]-u+256&
255}return c};k.processPNG=function(f,l,p,c,n){n=this.color_spaces.DEVICE_RGB;var y=this.decode.FLATE_DECODE,u=8;this.isArrayBuffer(f)&&(f=new Uint8Array(f));if(this.isArrayBufferView(f)){if("function"!==typeof F.PNG||"function"!==typeof T)throw Error("PNG support requires png.js and zlib.js");var D=new F.PNG(f);f=D.imgData;u=D.bits;n=D.colorSpace;var z=D.colors;if(-1!==[4,6].indexOf(D.colorType)){if(8===D.bits){var x=32==D.pixelBitlength?new Uint32Array(D.decodePixels().buffer):16==D.pixelBitlength?
new Uint16Array(D.decodePixels().buffer):new Uint8Array(D.decodePixels().buffer);var w=x.length,G=new Uint8Array(w*D.colors),Q=new Uint8Array(w),S=D.pixelBitlength-D.bits,O=0;f=0;for(var M,E;O<w;O++){M=x[O];for(E=0;E<S;)G[f++]=M>>>E&255,E+=D.bits;Q[O]=M>>>E&255}}if(16===D.bits){x=new Uint32Array(D.decodePixels().buffer);w=x.length;G=new Uint8Array(32/D.pixelBitlength*w*D.colors);Q=new Uint8Array(32/D.pixelBitlength*w);u=1<D.colors;for(S=f=O=0;O<w;)M=x[O++],G[f++]=M>>>0&255,u&&(G[f++]=M>>>16&255,M=
x[O++],G[f++]=M>>>0&255),Q[S++]=M>>>16&255;u=8}if(w=c!==k.image_compression.NONE)if(w="function"===typeof ca,!w)throw Error("requires deflate.js for compression");w?(f=m(G,D.width*D.colors,D.colors,c),x=m(Q,D.width,1,c)):(f=G,x=Q,y=null)}if(3===D.colorType){n=this.color_spaces.INDEXED;var B=D.palette;if(D.transparency.indexed){G=D.transparency.indexed;O=Q=0;for(w=G.length;O<w;++O)Q+=G[O];Q/=255;if(Q===w-1&&-1!==G.indexOf(0))var P=[G.indexOf(0)];else if(Q!==w){x=D.decodePixels();Q=new Uint8Array(x.length);
O=0;for(w=x.length;O<w;O++)Q[O]=G[x[O]];x=m(Q,D.width,1)}}}switch(c){case k.image_compression.FAST:c=11;break;case k.image_compression.MEDIUM:c=13;break;case k.image_compression.SLOW:c=14;break;default:c=12}z=y===this.decode.FLATE_DECODE?"/Predictor "+c+" /Colors "+z+" /BitsPerComponent "+u+" /Columns "+D.width:"/Colors "+z+" /BitsPerComponent "+u+" /Columns "+D.width;if(this.isArrayBuffer(f)||this.isArrayBufferView(f))f=this.arrayBufferToBinaryString(f);if(x&&this.isArrayBuffer(x)||this.isArrayBufferView(x))x=
this.arrayBufferToBinaryString(x);return this.createImageInfo(f,D.width,D.height,n,u,y,l,p,z,P,B,x,c)}throw Error("Unsupported PNG image data, try using JPEG instead.");}})(N.API);(function(k){var m=k.getCharWidthsArray=function(d,f){f||(f={});var l=f.widths?f.widths:this.internal.getFont().metadata.Unicode.widths,p=l.fof?l.fof:1;f=f.kerning?f.kerning:this.internal.getFont().metadata.Unicode.kerning;var c=f.fof?f.fof:1,n,y=0,u=l[0]||p,D=[];var z=0;for(n=d.length;z<n;z++){var x=d.charCodeAt(z);D.push((l[x]||
u)/p+(f[x]&&f[x][y]||0)/c);y=x}return D},q=function(d){for(var f=d.length,l=0;f;)f--,l+=d[f];return l},e=k.getStringUnitWidth=function(d,f){return q(m.call(this,d,f))},a=function(d,f,l,p){for(var c=[],n=0,y=d.length,u=0;n!==y&&u+f[n]<l;)u+=f[n],n++;c.push(d.slice(0,n));l=n;for(u=0;n!==y;)u+f[n]>p&&(c.push(d.slice(l,n)),u=0,l=n),u+=f[n],n++;l!==n&&c.push(d.slice(l,n));return c},h=function(d,f,l){l||(l={});var p=[],c=[p],n=l.textIndent||0,y=0,u=0,D=d.split(" "),z=m(" ",l)[0],x,w;if(w=-1===l.lineIndent?
D[0].length+2:l.lineIndent||0){var G=Array(w).join(" "),Q=[];D.map(function(E){E=E.split(/\s*\n/);1<E.length?Q=Q.concat(E.map(function(B,P){return(P&&B.length?"\n":"")+B})):Q.push(E[0])});D=Q;w=e(G,l)}var S=0;for(x=D.length;S<x;S++){var O=0;d=D[S];w&&"\n"==d[0]&&(d=d.substr(1),O=1);var M=m(d,l);u=q(M);if(n+y+u>f||O){if(u>f){n=a(d,M,f-(n+y),f);p.push(n.shift());for(p=[n.pop()];n.length;)c.push([n.shift()]);u=q(M.slice(d.length-p[0].length))}else p=[d];c.push(p);n=u+w}else p.push(d),n+=y+u;y=z}return c.map(w?
function(E,B){return(B?G:"")+E.join(" ")}:function(E){return E.join(" ")})};k.splitTextToSize=function(d,f,l){l||(l={});var p=l.fontSize||this.internal.getFontSize();var c=l;var n={0:1};var y={};c.widths&&c.kerning?n={widths:c.widths,kerning:c.kerning}:(c=this.internal.getFont(c.fontName,c.fontStyle),n=c.metadata.Unicode?{widths:c.metadata.Unicode.widths||n,kerning:c.metadata.Unicode.kerning||y}:{widths:n,kerning:y});d=Array.isArray(d)?d:d.split(/\r?\n/);f=1*this.internal.scaleFactor*f/p;n.textIndent=
l.textIndent?1*l.textIndent*this.internal.scaleFactor/p:0;n.lineIndent=l.lineIndent;y=[];l=0;for(p=d.length;l<p;l++)y=y.concat(h(d[l],f,n));return y}})(N.API);(function(k){var m=function(h){for(var d={},f=0;16>f;f++)d["klmnopqrstuvwxyz"[f]]="0123456789abcdef"[f];var l={},p=1,c=l,n=[],y="",u="",D=h.length-1;for(f=1;f!=D;){var z=h[f];f+=1;if("'"==z)if(w){var x=w.join("");var w=void 0}else w=[];else w?w.push(z):"{"==z?(n.push([c,x]),c={},x=void 0):"}"==z?(z=n.pop(),z[0][z[1]]=c,x=void 0,c=z[0]):"-"==
z?p=-1:void 0===x?d.hasOwnProperty(z)?(y+=d[z],x=parseInt(y,16)*p,p=1,y=""):y+=z:d.hasOwnProperty(z)?(u+=d[z],c[x]=parseInt(u,16)*p,p=1,x=void 0,u=""):u+=z}return l},q={codePages:["WinAnsiEncoding"],WinAnsiEncoding:m("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},e={Unicode:{Courier:q,"Courier-Bold":q,"Courier-BoldOblique":q,"Courier-Oblique":q,Helvetica:q,"Helvetica-Bold":q,"Helvetica-BoldOblique":q,
"Helvetica-Oblique":q,"Times-Roman":q,"Times-Bold":q,"Times-BoldItalic":q,"Times-Italic":q}},a={Unicode:{"Courier-Oblique":m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":m("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),
"Helvetica-Bold":m("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),
Courier:m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":m("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),
Helvetica:m("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),
"Helvetica-BoldOblique":m("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),
"Courier-Bold":m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":m("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),
"Times-Roman":m("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),
"Helvetica-Oblique":m("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};
k.events.push(["addFont",function(h){var d;if(d=a.Unicode[h.PostScriptName]){var f=h.metadata.Unicode?h.metadata.Unicode:h.metadata.Unicode={};f.widths=d.widths;f.kerning=d.kerning}if(d=e.Unicode[h.PostScriptName])f=h.metadata.Unicode?h.metadata.Unicode:h.metadata.Unicode={},f.encoding=d,d.codePages&&d.codePages.length&&(h.encoding=d.codePages[0])}])})(N.API);(function(k){k.addSVG=function(m,q,e,a,h){function d(c){for(var n=parseFloat(c[1]),y=parseFloat(c[2]),u=[],D=3,z=c.length;D<z;)"c"===c[D]?(u.push([parseFloat(c[D+
1]),parseFloat(c[D+2]),parseFloat(c[D+3]),parseFloat(c[D+4]),parseFloat(c[D+5]),parseFloat(c[D+6])]),D+=7):"l"===c[D]?(u.push([parseFloat(c[D+1]),parseFloat(c[D+2])]),D+=3):D+=1;return[n,y,u]}if(void 0===q||void 0===e)throw Error("addSVG needs values for 'x' and 'y'");var f=function(c){var n=c.createElement("iframe"),y=c.createElement("style");y.type="text/css";y.styleSheet?y.styleSheet.cssText=".jsPDF_sillysvg_iframe {display:none;position:absolute;}":y.appendChild(c.createTextNode(".jsPDF_sillysvg_iframe {display:none;position:absolute;}"));
c.getElementsByTagName("head")[0].appendChild(y);n.name="childframe";n.setAttribute("width",0);n.setAttribute("height",0);n.setAttribute("frameborder","0");n.setAttribute("scrolling","no");n.setAttribute("seamless","seamless");n.setAttribute("class","jsPDF_sillysvg_iframe");c.body.appendChild(n);return n}(document);f=function(c,n){n=(n.contentWindow||n.contentDocument).document;n.write(c);n.close();return n.getElementsByTagName("svg")[0]}(m,f);m=[1,1];var l=parseFloat(f.getAttribute("width")),p=parseFloat(f.getAttribute("height"));
l&&p&&(a&&h?m=[a/l,h/p]:a?m=[a/l,a/l]:h&&(m=[h/p,h/p]));f=f.childNodes;a=0;for(h=f.length;a<h;a++)l=f[a],l.tagName&&"PATH"===l.tagName.toUpperCase()&&(l=d(l.getAttribute("d").split(" ")),l[0]=l[0]*m[0]+q,l[1]=l[1]*m[1]+e,this.lines.call(this,l[2],l[0],l[1],m));return this}})(N.API);(function(k){k.putTotalPages=function(m){m=new RegExp(m,"g");for(var q=1;q<=this.internal.getNumberOfPages();q++)for(var e=0;e<this.internal.pages[q].length;e++)this.internal.pages[q][e]=this.internal.pages[q][e].replace(m,
this.internal.getNumberOfPages());return this}})(N.API);(function(k){var m="",q="",e="";k.addMetadata=function(a,h){q=h||"http://jspdf.default.namespaceuri/";m=a;this.internal.events.subscribe("postPutResources",function(){if(m){var d='\x3crdf:RDF xmlns:rdf\x3d"http://www.w3.org/1999/02/22-rdf-syntax-ns#"\x3e\x3crdf:Description rdf:about\x3d"" xmlns:jspdf\x3d"'+q+'"\x3e\x3cjspdf:metadata\x3e',f=unescape(encodeURIComponent('\x3cx:xmpmeta xmlns:x\x3d"adobe:ns:meta/"\x3e'));d=unescape(encodeURIComponent(d));
var l=unescape(encodeURIComponent(m)),p=unescape(encodeURIComponent("\x3c/jspdf:metadata\x3e\x3c/rdf:Description\x3e\x3c/rdf:RDF\x3e")),c=unescape(encodeURIComponent("\x3c/x:xmpmeta\x3e")),n=d.length+l.length+p.length+f.length+c.length;e=this.internal.newObject();this.internal.write("\x3c\x3c /Type /Metadata /Subtype /XML /Length "+n+" \x3e\x3e");this.internal.write("stream");this.internal.write(f+d+l+p+c);this.internal.write("endstream");this.internal.write("endobj")}else e=""});this.internal.events.subscribe("putCatalog",
function(){e&&this.internal.write("/Metadata "+e+" 0 R")});return this}})(N.API);N.adler32cs=function(){var k="function"===typeof ArrayBuffer&&"function"===typeof Uint8Array,m=null,q=function(){if(!k)return function(){return!1};try{var l={};"function"===typeof l.Buffer&&(m=l.Buffer)}catch(p){}return function(p){return p instanceof ArrayBuffer||null!==m&&p instanceof m}}(),e=function(){return null!==m?function(l){return(new m(l,"utf8")).toString("binary")}:function(l){return unescape(encodeURIComponent(l))}}(),
a=function(l,p){var c=l&65535;l>>>=16;for(var n=0,y=p.length;n<y;n++)c=(c+(p.charCodeAt(n)&255))%65521,l=(l+c)%65521;return(l<<16|c)>>>0},h=function(l,p){var c=l&65535;l>>>=16;for(var n=0,y=p.length;n<y;n++)c=(c+p[n])%65521,l=(l+c)%65521;return(l<<16|c)>>>0},d={},f=d.Adler32=function(){var l=function(c){if(!(this instanceof l))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(c=null==c?1:+c))throw Error("First arguments needs to be a finite number.");this.checksum=c>>>
0},p=l.prototype={};p.constructor=l;l.from=function(c){c.prototype=p;return c}(function(c){if(!(this instanceof l))throw new TypeError("Constructor cannot called be as a function.");if(null==c)throw Error("First argument needs to be a string.");this.checksum=a(1,c.toString())});l.fromUtf8=function(c){c.prototype=p;return c}(function(c){if(!(this instanceof l))throw new TypeError("Constructor cannot called be as a function.");if(null==c)throw Error("First argument needs to be a string.");c=e(c.toString());
this.checksum=a(1,c)});k&&(l.fromBuffer=function(c){c.prototype=p;return c}(function(c){if(!(this instanceof l))throw new TypeError("Constructor cannot called be as a function.");if(!q(c))throw Error("First argument needs to be ArrayBuffer.");c=new Uint8Array(c);return this.checksum=h(1,c)}));p.update=function(c){if(null==c)throw Error("First argument needs to be a string.");c=c.toString();return this.checksum=a(this.checksum,c)};p.updateUtf8=function(c){if(null==c)throw Error("First argument needs to be a string.");
c=e(c.toString());return this.checksum=a(this.checksum,c)};k&&(p.updateBuffer=function(c){if(!q(c))throw Error("First argument needs to be ArrayBuffer.");c=new Uint8Array(c);return this.checksum=h(this.checksum,c)});p.clone=function(){return new f(this.checksum)};return l}();d.from=function(l){if(null==l)throw Error("First argument needs to be a string.");return a(1,l.toString())};d.fromUtf8=function(l){if(null==l)throw Error("First argument needs to be a string.");l=e(l.toString());return a(1,l)};
k&&(d.fromBuffer=function(l){if(!q(l))throw Error("First argument need to be ArrayBuffer.");l=new Uint8Array(l);return h(1,l)});return d};var ja={_colorsTable:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",
cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",
floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",
lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",
mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",
seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},colorNameToHex:function(k){k=k.toLowerCase();return"undefined"!=typeof this._colorsTable[k]?this._colorsTable[k]:!1}},ca=
function(k){function m(){var c=this;c.build_tree=function(n){var y=c.dyn_tree,u=c.stat_desc.static_tree,D=c.stat_desc.elems,z,x=-1;n.heap_len=0;n.heap_max=573;for(z=0;z<D;z++)0!==y[2*z]?(n.heap[++n.heap_len]=x=z,n.depth[z]=0):y[2*z+1]=0;for(;2>n.heap_len;){var w=n.heap[++n.heap_len]=2>x?++x:0;y[2*w]=1;n.depth[w]=0;n.opt_len--;u&&(n.static_len-=u[2*w+1])}c.max_code=x;for(z=Math.floor(n.heap_len/2);1<=z;z--)n.pqdownheap(y,z);w=D;do z=n.heap[1],n.heap[1]=n.heap[n.heap_len--],n.pqdownheap(y,1),u=n.heap[1],
n.heap[--n.heap_max]=z,n.heap[--n.heap_max]=u,y[2*w]=y[2*z]+y[2*u],n.depth[w]=Math.max(n.depth[z],n.depth[u])+1,y[2*z+1]=y[2*u+1]=w,n.heap[1]=w++,n.pqdownheap(y,1);while(2<=n.heap_len);n.heap[--n.heap_max]=n.heap[1];z=c.dyn_tree;x=c.stat_desc.static_tree;var G=c.stat_desc.extra_bits,Q=c.stat_desc.extra_base,S=c.stat_desc.max_length,O=0;for(D=0;15>=D;D++)n.bl_count[D]=0;z[2*n.heap[n.heap_max]+1]=0;for(w=n.heap_max+1;573>w;w++)if(u=n.heap[w],D=z[2*z[2*u+1]+1]+1,D>S&&(D=S,O++),z[2*u+1]=D,!(u>c.max_code)){n.bl_count[D]++;
var M=0;u>=Q&&(M=G[u-Q]);var E=z[2*u];n.opt_len+=E*(D+M);x&&(n.static_len+=E*(x[2*u+1]+M))}if(0!==O){do{for(D=S-1;0===n.bl_count[D];)D--;n.bl_count[D]--;n.bl_count[D+1]+=2;n.bl_count[S]--;O-=2}while(0<O);for(D=S;0!==D;D--)for(u=n.bl_count[D];0!==u;)x=n.heap[--w],x>c.max_code||(z[2*x+1]!=D&&(n.opt_len+=(D-z[2*x+1])*z[2*x],z[2*x+1]=D),u--)}z=c.max_code;w=n.bl_count;n=[];u=0;for(D=1;15>=D;D++)n[D]=u=u+w[D-1]<<1;for(w=0;w<=z;w++)if(x=y[2*w+1],0!==x){u=2*w;D=n[x]++;G=0;do G|=D&1,D>>>=1,G<<=1;while(0<--x);
y[u]=G>>>1}}}function q(c,n,y,u,D){this.static_tree=c;this.extra_bits=n;this.extra_base=y;this.elems=u;this.max_length=D}function e(c,n,y,u,D){this.good_length=c;this.max_lazy=n;this.nice_length=y;this.max_chain=u;this.func=D}function a(c,n,y,u){var D=c[2*n];c=c[2*y];return D<c||D==c&&u[n]<=u[y]}function h(){function c(){var fa;for(fa=0;286>fa;fa++)Ra[2*fa]=0;for(fa=0;30>fa;fa++)Wa[2*fa]=0;for(fa=0;19>fa;fa++)Oa[2*fa]=0;Ra[512]=1;pa=Ga=W.opt_len=W.static_len=0}function n(fa,ra){var va,Ba=-1,Da=fa[1],
Ha=0,Pa=7,Va=4;0===Da&&(Pa=138,Va=3);fa[2*(ra+1)+1]=65535;for(va=0;va<=ra;va++){var Qa=Da;Da=fa[2*(va+1)+1];++Ha<Pa&&Qa==Da||(Ha<Va?Oa[2*Qa]+=Ha:0!==Qa?(Qa!=Ba&&Oa[2*Qa]++,Oa[32]++):10>=Ha?Oa[34]++:Oa[36]++,Ha=0,Ba=Qa,0===Da?(Pa=138,Va=3):Qa==Da?(Pa=6,Va=3):(Pa=7,Va=4))}}function y(fa){W.pending_buf[W.pending++]=fa}function u(fa){y(fa&255);y(fa>>>8&255)}function D(fa,ra){Ja>16-ra?(Ka|=fa<<Ja&65535,u(Ka),Ka=fa>>>16-Ja,Ja+=ra-16):(Ka|=fa<<Ja&65535,Ja+=ra)}function z(fa,ra){fa*=2;D(ra[fa]&65535,ra[fa+
1]&65535)}function x(fa,ra){var va,Ba=-1,Da=fa[1],Ha=0,Pa=7,Va=4;0===Da&&(Pa=138,Va=3);for(va=0;va<=ra;va++){var Qa=Da;Da=fa[2*(va+1)+1];if(!(++Ha<Pa&&Qa==Da)){if(Ha<Va){do z(Qa,Oa);while(0!==--Ha)}else 0!==Qa?(Qa!=Ba&&(z(Qa,Oa),Ha--),z(16,Oa),D(Ha-3,2)):10>=Ha?(z(17,Oa),D(Ha-3,3)):(z(18,Oa),D(Ha-11,7));Ha=0;Ba=Qa;0===Da?(Pa=138,Va=3):Qa==Da?(Pa=6,Va=3):(Pa=7,Va=4)}}}function w(){16==Ja?(u(Ka),Ja=Ka=0):8<=Ja&&(y(Ka&255),Ka>>>=8,Ja-=8)}function G(fa,ra){var va;W.pending_buf[za+2*pa]=fa>>>8&255;W.pending_buf[za+
2*pa+1]=fa&255;W.pending_buf[ka+pa]=ra&255;pa++;0===fa?Ra[2*ra]++:(Ga++,fa--,Ra[2*(m._length_code[ra]+256+1)]++,Wa[2*m.d_code(fa)]++);if(0===(pa&8191)&&2<Ia){fa=8*pa;ra=Z-K;for(va=0;30>va;va++)fa+=Wa[2*va]*(5+m.extra_dbits[va]);if(Ga<Math.floor(pa/2)&&fa>>>3<Math.floor(ra/2))return!0}return pa==ta-1}function Q(fa,ra){var va=0;if(0!==pa){do{var Ba=W.pending_buf[za+2*va]<<8&65280|W.pending_buf[za+2*va+1]&255;var Da=W.pending_buf[ka+va]&255;va++;if(0===Ba)z(Da,fa);else{var Ha=m._length_code[Da];z(Ha+
256+1,fa);var Pa=m.extra_lbits[Ha];0!==Pa&&(Da-=m.base_length[Ha],D(Da,Pa));Ba--;Ha=m.d_code(Ba);z(Ha,ra);Pa=m.extra_dbits[Ha];0!==Pa&&(Ba-=m.base_dist[Ha],D(Ba,Pa))}}while(va<pa)}z(256,fa);Fa=fa[513]}function S(){8<Ja?u(Ka):0<Ja&&y(Ka&255);Ja=Ka=0}function O(fa,ra,va){S();Fa=8;va&&(u(ra),u(~ra));W.pending_buf.set(v.subarray(fa,fa+ra),W.pending);W.pending+=ra}function M(fa){var ra=0<=K?K:-1,va=Z-K,Ba=0;if(0<Ia){Na.build_tree(W);I.build_tree(W);n(Ra,Na.max_code);n(Wa,I.max_code);X.build_tree(W);for(Ba=
18;3<=Ba&&0===Oa[2*m.bl_order[Ba]+1];Ba--);W.opt_len+=3*(Ba+1)+14;var Da=W.opt_len+3+7>>>3;var Ha=W.static_len+3+7>>>3;Ha<=Da&&(Da=Ha)}else Da=Ha=va+5;if(va+4<=Da&&-1!=ra)D(fa?1:0,3),O(ra,va,!0);else if(Ha==Da)D(2+(fa?1:0),3),Q(q.static_ltree,q.static_dtree);else{D(4+(fa?1:0),3);ra=Na.max_code+1;va=I.max_code+1;Ba+=1;D(ra-257,5);D(va-1,5);D(Ba-4,4);for(Da=0;Da<Ba;Da++)D(Oa[2*m.bl_order[Da]+1],3);x(Ra,ra-1);x(Wa,va-1);Q(Ra,Wa)}c();fa&&S();K=Z;Y.flush_pending()}function E(){var fa;do{var ra=H-na-Z;
if(0===ra&&0===Z&&0===na)ra=qa;else if(-1==ra)ra--;else if(Z>=qa+qa-262){v.set(v.subarray(qa,qa+qa),0);wa-=qa;Z-=qa;K-=qa;var va=fa=oa;do{var Ba=J[--va]&65535;J[va]=Ba>=qa?Ba-qa:0}while(0!==--fa);va=fa=qa;do Ba=C[--va]&65535,C[va]=Ba>=qa?Ba-qa:0;while(0!==--fa);ra+=qa}if(0===Y.avail_in)break;fa=Y.read_buf(v,Z+na,ra);na+=fa;3<=na&&(R=v[Z]&255,R=(R<<A^v[Z+1]&255)&ua)}while(262>na&&0!==Y.avail_in)}function B(fa){var ra=65535;for(ra>da-5&&(ra=da-5);;){if(1>=na){E();if(0===na&&0==fa)return 0;if(0===na)break}Z+=
na;na=0;var va=K+ra;if(0===Z||Z>=va)if(na=Z-va,Z=va,M(!1),0===Y.avail_out)return 0;if(Z-K>=qa-262&&(M(!1),0===Y.avail_out))return 0}M(4==fa);return 0===Y.avail_out?4==fa?2:0:4==fa?3:1}function P(fa){var ra=La,va=Z,Ba=Ea,Da=Z>qa-262?Z-(qa-262):0,Ha=Ua,Pa=t,Va=Z+258,Qa=v[va+Ba-1],Xa=v[va+Ba];Ea>=ya&&(ra>>=2);Ha>na&&(Ha=na);do{var Sa=fa;if(v[Sa+Ba]==Xa&&v[Sa+Ba-1]==Qa&&v[Sa]==v[va]&&v[++Sa]==v[va+1]){va+=2;for(Sa++;v[++va]==v[++Sa]&&v[++va]==v[++Sa]&&v[++va]==v[++Sa]&&v[++va]==v[++Sa]&&v[++va]==v[++Sa]&&
v[++va]==v[++Sa]&&v[++va]==v[++Sa]&&v[++va]==v[++Sa]&&va<Va;);Sa=258-(Va-va);va=Va-258;if(Sa>Ba){wa=fa;Ba=Sa;if(Sa>=Ha)break;Qa=v[va+Ba-1];Xa=v[va+Ba]}}}while((fa=C[fa&Pa]&65535)>Da&&0!==--ra);return Ba<=na?Ba:na}function V(fa){for(var ra=0,va,Ba;;){if(262>na){E();if(262>na&&0==fa)return 0;if(0===na)break}3<=na&&(R=(R<<A^v[Z+2]&255)&ua,ra=J[R]&65535,C[Z&t]=J[R],J[R]=Z);Ea=L;ba=wa;L=2;0!==ra&&Ea<Ta&&(Z-ra&65535)<=qa-262&&(2!=Ma&&(L=P(ra)),5>=L&&(1==Ma||3==L&&4096<Z-wa)&&(L=2));if(3<=Ea&&L<=Ea){Ba=
Z+na-3;va=G(Z-1-ba,Ea-3);na-=Ea-1;Ea-=2;do++Z<=Ba&&(R=(R<<A^v[Z+2]&255)&ua,ra=J[R]&65535,C[Z&t]=J[R],J[R]=Z);while(0!==--Ea);ea=0;L=2;Z++;if(va&&(M(!1),0===Y.avail_out))return 0}else if(0!==ea){if((va=G(0,v[Z-1]&255))&&M(!1),Z++,na--,0===Y.avail_out)return 0}else ea=1,Z++,na--}0!==ea&&(va=G(0,v[Z-1]&255),ea=0);M(4==fa);return 0===Y.avail_out?4==fa?2:0:4==fa?3:1}var W=this,Y,ma,da,Aa,qa,Ca,t,v,H,C,J,R,oa,aa,ua,A,K,L,ba,ea,Z,wa,na,Ea,La,Ta,Ia,Ma,ya,Ua,Na=new m,I=new m,X=new m;W.depth=[];var ka,ta,pa,
za,Ga,Fa,Ka,Ja;W.bl_count=[];W.heap=[];var Ra=[];var Wa=[];var Oa=[];W.pqdownheap=function(fa,ra){for(var va=W.heap,Ba=va[ra],Da=ra<<1;Da<=W.heap_len;){Da<W.heap_len&&a(fa,va[Da+1],va[Da],W.depth)&&Da++;if(a(fa,Ba,va[Da],W.depth))break;va[ra]=va[Da];ra=Da;Da<<=1}va[ra]=Ba};W.deflateInit=function(fa,ra,va,Ba,Da,Ha){Ba||(Ba=8);Da||(Da=8);Ha||(Ha=0);fa.msg=null;-1==ra&&(ra=6);if(1>Da||9<Da||8!=Ba||9>va||15<va||0>ra||9<ra||0>Ha||2<Ha)return-2;fa.dstate=W;Ca=va;qa=1<<Ca;t=qa-1;aa=Da+7;oa=1<<aa;ua=oa-1;
A=Math.floor((aa+3-1)/3);v=new Uint8Array(2*qa);C=[];J=[];ta=1<<Da+6;W.pending_buf=new Uint8Array(4*ta);da=4*ta;za=Math.floor(ta/2);ka=3*ta;Ia=ra;Ma=Ha;fa.total_in=fa.total_out=0;fa.msg=null;W.pending=0;W.pending_out=0;ma=113;Aa=0;Na.dyn_tree=Ra;Na.stat_desc=q.static_l_desc;I.dyn_tree=Wa;I.stat_desc=q.static_d_desc;X.dyn_tree=Oa;X.stat_desc=q.static_bl_desc;Ja=Ka=0;Fa=8;c();H=2*qa;for(fa=J[oa-1]=0;fa<oa-1;fa++)J[fa]=0;Ta=l[Ia].max_lazy;ya=l[Ia].good_length;Ua=l[Ia].nice_length;La=l[Ia].max_chain;
na=K=Z=0;L=Ea=2;return R=ea=0};W.deflateEnd=function(){if(42!=ma&&113!=ma&&666!=ma)return-2;v=C=J=W.pending_buf=null;W.dstate=null;return 113==ma?-3:0};W.deflateParams=function(fa,ra,va){var Ba=0;-1==ra&&(ra=6);if(0>ra||9<ra||0>va||2<va)return-2;l[Ia].func!=l[ra].func&&0!==fa.total_in&&(Ba=fa.deflate(1));Ia!=ra&&(Ia=ra,Ta=l[Ia].max_lazy,ya=l[Ia].good_length,Ua=l[Ia].nice_length,La=l[Ia].max_chain);Ma=va;return Ba};W.deflateSetDictionary=function(fa,ra,va){fa=va;var Ba=0;if(!ra||42!=ma)return-2;if(3>
fa)return 0;fa>qa-262&&(fa=qa-262,Ba=va-fa);v.set(ra.subarray(Ba,Ba+fa),0);K=Z=fa;R=v[0]&255;R=(R<<A^v[1]&255)&ua;for(ra=0;ra<=fa-3;ra++)R=(R<<A^v[ra+2]&255)&ua,C[ra&t]=J[R],J[R]=ra;return 0};W.deflate=function(fa,ra){if(4<ra||0>ra)return-2;if(!fa.next_out||!fa.next_in&&0!==fa.avail_in||666==ma&&4!=ra)return fa.msg=p[4],-2;if(0===fa.avail_out)return fa.msg=p[7],-5;Y=fa;var va=Aa;Aa=ra;if(42==ma){var Ba=8+(Ca-8<<4)<<8;var Da=(Ia-1&255)>>1;3<Da&&(Da=3);Ba|=Da<<6;0!==Z&&(Ba|=32);ma=113;Ba+=31-Ba%31;
y(Ba>>8&255);y(Ba&255)}if(0!==W.pending){if(Y.flush_pending(),0===Y.avail_out)return Aa=-1,0}else if(0===Y.avail_in&&ra<=va&&4!=ra)return Y.msg=p[7],-5;if(666==ma&&0!==Y.avail_in)return fa.msg=p[7],-5;if(0!==Y.avail_in||0!==na||0!=ra&&666!=ma){fa=-1;switch(l[Ia].func){case 0:fa=B(ra);break;case 1:a:{for(fa=0;;){if(262>na){E();if(262>na&&0==ra){fa=0;break a}if(0===na)break}3<=na&&(R=(R<<A^v[Z+2]&255)&ua,fa=J[R]&65535,C[Z&t]=J[R],J[R]=Z);0!==fa&&(Z-fa&65535)<=qa-262&&2!=Ma&&(L=P(fa));if(3<=L)if(va=
G(Z-wa,L-3),na-=L,L<=Ta&&3<=na){L--;do Z++,R=(R<<A^v[Z+2]&255)&ua,fa=J[R]&65535,C[Z&t]=J[R],J[R]=Z;while(0!==--L);Z++}else Z+=L,L=0,R=v[Z]&255,R=(R<<A^v[Z+1]&255)&ua;else va=G(0,v[Z]&255),na--,Z++;if(va&&(M(!1),0===Y.avail_out)){fa=0;break a}}M(4==ra);fa=0===Y.avail_out?4==ra?2:0:4==ra?3:1}break;case 2:fa=V(ra)}if(2==fa||3==fa)ma=666;if(0==fa||2==fa)return 0===Y.avail_out&&(Aa=-1),0;if(1==fa){if(1==ra)D(2,3),z(256,q.static_ltree),w(),9>1+Fa+10-Ja&&(D(2,3),z(256,q.static_ltree),w()),Fa=7;else if(D(0,
3),O(0,0,!0),3==ra)for(fa=0;fa<oa;fa++)J[fa]=0;Y.flush_pending();if(0===Y.avail_out)return Aa=-1,0}}return 4!=ra?0:1}}function d(){this.total_out=this.avail_out=this.total_in=this.avail_in=this.next_out_index=this.next_in_index=0}var f=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,
13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,
20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,
28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];m._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,
21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,
28];m.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0];m.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576];m.d_code=function(c){return 256>c?f[c]:f[256+(c>>>7)]};m.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];m.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];m.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];m.bl_order=
[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];q.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,
8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,
9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,
255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8];q.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5];q.static_l_desc=new q(q.static_ltree,m.extra_lbits,257,286,15);q.static_d_desc=new q(q.static_dtree,m.extra_dbits,0,30,15);q.static_bl_desc=new q(null,m.extra_blbits,
0,19,7);var l=[new e(0,0,0,0,0),new e(4,4,8,4,1),new e(4,5,16,8,1),new e(4,6,32,32,1),new e(4,4,16,16,2),new e(8,16,32,32,2),new e(8,16,128,128,2),new e(8,32,128,256,2),new e(32,128,258,1024,2),new e(32,258,258,4096,2)],p="need dictionary;stream end;;;stream error;data error;;buffer error;;".split(";");d.prototype={deflateInit:function(c,n){this.dstate=new h;n||(n=15);return this.dstate.deflateInit(this,c,n)},deflate:function(c){return this.dstate?this.dstate.deflate(this,c):-2},deflateEnd:function(){if(!this.dstate)return-2;
var c=this.dstate.deflateEnd();this.dstate=null;return c},deflateParams:function(c,n){return this.dstate?this.dstate.deflateParams(this,c,n):-2},deflateSetDictionary:function(c,n){return this.dstate?this.dstate.deflateSetDictionary(this,c,n):-2},read_buf:function(c,n,y){var u=this.avail_in;u>y&&(u=y);if(0===u)return 0;this.avail_in-=u;c.set(this.next_in.subarray(this.next_in_index,this.next_in_index+u),n);this.next_in_index+=u;this.total_in+=u;return u},flush_pending:function(){var c=this.dstate.pending;
c>this.avail_out&&(c=this.avail_out);0!==c&&(this.next_out.set(this.dstate.pending_buf.subarray(this.dstate.pending_out,this.dstate.pending_out+c),this.next_out_index),this.next_out_index+=c,this.dstate.pending_out+=c,this.total_out+=c,this.avail_out-=c,this.dstate.pending-=c,0===this.dstate.pending&&(this.dstate.pending_out=0))}};return function(c){var n=new d,y=new Uint8Array(512);"undefined"==typeof c&&(c=-1);n.deflateInit(c);n.next_out=y;this.append=function(u,D){var z=[],x=0,w=0,G=0;if(u.length){n.next_in_index=
0;n.next_in=u;n.avail_in=u.length;do{n.next_out_index=0;n.avail_out=512;u=n.deflate(0);if(0!=u)throw"deflating: "+n.msg;n.next_out_index&&(512==n.next_out_index?z.push(new Uint8Array(y)):z.push(new Uint8Array(y.subarray(0,n.next_out_index))));G+=n.next_out_index;D&&0<n.next_in_index&&n.next_in_index!=x&&(D(n.next_in_index),x=n.next_in_index)}while(0<n.avail_in||0===n.avail_out);var Q=new Uint8Array(G);z.forEach(function(S){Q.set(S,w);w+=S.length});return Q}};this.flush=function(){var u=[],D=0,z=0;
do{n.next_out_index=0;n.avail_out=512;var x=n.deflate(4);if(1!=x&&0!=x)throw"deflating: "+n.msg;0<512-n.avail_out&&u.push(new Uint8Array(y.subarray(0,n.next_out_index)));z+=n.next_out_index}while(0<n.avail_in||0===n.avail_out);n.deflateEnd();var w=new Uint8Array(z);u.forEach(function(G){w.set(G,D);D+=G.length});return w}}}(void 0);N.API.html2canvas=function(){return function a(m,q,e){function h(l,p){if(!q[l]){if(!m[l]){var c="function"==typeof require&&require;if(!p&&c)return c(l,!0);if(d)return d(l,
!0);p=Error("Cannot find module '"+l+"'");throw p.code="MODULE_NOT_FOUND",p;}p=q[l]={exports:{}};m[l][0].call(p.exports,function(n){var y=m[l][1][n];return h(y?y:n)},p,p.exports,a,m,q,e)}return q[l].exports}for(var d="function"==typeof require&&require,f=0;f<e.length;f++)h(e[f]);return h}({1:[function(m,q,e){(function(a){(function(h){function d(P){throw RangeError(O[P]);}function f(P,V){for(var W=P.length;W--;)P[W]=V(P[W]);return P}function l(P,V){return f(P.split(S),V).join(".")}function p(P){for(var V=
[],W=0,Y=P.length,ma,da;W<Y;)ma=P.charCodeAt(W++),55296<=ma&&56319>=ma&&W<Y?(da=P.charCodeAt(W++),56320==(da&64512)?V.push(((ma&1023)<<10)+(da&1023)+65536):(V.push(ma),W--)):V.push(ma);return V}function c(P){return f(P,function(V){var W="";65535<V&&(V-=65536,W+=E(V>>>10&1023|55296),V=56320|V&1023);return W+=E(V)}).join("")}function n(P,V){return P+22+75*(26>P)-((0!=V)<<5)}function y(P,V,W){var Y=0;P=W?M(P/700):P>>1;for(P+=M(P/V);455<P;Y+=36)P=M(P/35);return M(Y+36*P/(P+38))}function u(P){var V=[],
W=P.length,Y=0,ma=128,da=72,Aa,qa;var Ca=P.lastIndexOf("-");0>Ca&&(Ca=0);for(Aa=0;Aa<Ca;++Aa)128<=P.charCodeAt(Aa)&&d("not-basic"),V.push(P.charCodeAt(Aa));for(Ca=0<Ca?Ca+1:0;Ca<W;){Aa=Y;var t=1;for(qa=36;;qa+=36){Ca>=W&&d("invalid-input");var v=P.charCodeAt(Ca++);v=10>v-48?v-22:26>v-65?v-65:26>v-97?v-97:36;(36<=v||v>M((2147483647-Y)/t))&&d("overflow");Y+=v*t;var H=qa<=da?1:qa>=da+26?26:qa-da;if(v<H)break;v=36-H;t>M(2147483647/v)&&d("overflow");t*=v}t=V.length+1;da=y(Y-Aa,t,0==Aa);M(Y/t)>2147483647-
ma&&d("overflow");ma+=M(Y/t);Y%=t;V.splice(Y++,0,ma)}return c(V)}function D(P){var V,W,Y,ma=[];P=p(P);var da=P.length;var Aa=128;var qa=0;var Ca=72;for(Y=0;Y<da;++Y){var t=P[Y];128>t&&ma.push(E(t))}for((V=W=ma.length)&&ma.push("-");V<da;){var v=2147483647;for(Y=0;Y<da;++Y)t=P[Y],t>=Aa&&t<v&&(v=t);var H=V+1;v-Aa>M((2147483647-qa)/H)&&d("overflow");qa+=(v-Aa)*H;Aa=v;for(Y=0;Y<da;++Y)if(t=P[Y],t<Aa&&2147483647<++qa&&d("overflow"),t==Aa){var C=qa;for(v=36;;v+=36){t=v<=Ca?1:v>=Ca+26?26:v-Ca;if(C<t)break;
var J=C-t;C=36-t;ma.push(E(n(t+J%C,0)));C=M(J/C)}ma.push(E(n(C,0)));Ca=y(qa,H,V==W);qa=0;++V}++qa;++Aa}return ma.join("")}var z="object"==typeof e&&e,x="object"==typeof q&&q&&q.exports==z&&q,w="object"==typeof a&&a;if(w.global===w||w.window===w)h=w;var G=/^xn--/,Q=/[^ -~]/,S=/\x2E|\u3002|\uFF0E|\uFF61/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input \x3e\x3d 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=Math.floor,E=String.fromCharCode,
B;w={version:"1.2.4",ucs2:{decode:p,encode:c},decode:u,encode:D,toASCII:function(P){return l(P,function(V){return Q.test(V)?"xn--"+D(V):V})},toUnicode:function(P){return l(P,function(V){return G.test(V)?u(V.slice(4).toLowerCase()):V})}};if(z&&!z.nodeType)if(x)x.exports=w;else for(B in w)w.hasOwnProperty(B)&&(z[B]=w[B]);else h.punycode=w})(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],2:[function(m,q,e){function a(f,
l){for(var p=3===f.nodeType?document.createTextNode(f.nodeValue):f.cloneNode(!1),c=f.firstChild;c;)!0!==l&&1===c.nodeType&&"SCRIPT"===c.nodeName||p.appendChild(a(c,l)),c=c.nextSibling;if(1===f.nodeType)if(p._scrollTop=f.scrollTop,p._scrollLeft=f.scrollLeft,"CANVAS"===f.nodeName)try{p&&(p.width=f.width,p.height=f.height,p.getContext("2d").putImageData(f.getContext("2d").getImageData(0,0,f.width,f.height),0,0))}catch(n){d("Unable to copy canvas content from",f,n)}else if("TEXTAREA"===f.nodeName||"SELECT"===
f.nodeName)p.value=f.value;return p}function h(f){if(1===f.nodeType)for(f.scrollTop=f._scrollTop,f.scrollLeft=f._scrollLeft,f=f.firstChild;f;)h(f),f=f.nextSibling}var d=m("./log");q.exports=function(f,l,p,c,n,y,u){var D=a(f.documentElement,n.javascriptEnabled),z=l.createElement("iframe");z.className="html2canvas-container";z.style.visibility="hidden";z.style.position="fixed";z.style.left="-10000px";z.style.top="0px";z.style.border="0";z.width=p;z.height=c;z.scrolling="no";l.body.appendChild(z);return new Promise(function(x){var w=
z.contentWindow.document;z.contentWindow.onload=z.onload=function(){var G=setInterval(function(){0<w.body.childNodes.length&&(h(w.documentElement),clearInterval(G),"view"===n.type&&(z.contentWindow.scrollTo(y,u),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||z.contentWindow.scrollY===u&&z.contentWindow.scrollX===y||(w.documentElement.style.top=-u+"px",w.documentElement.style.left=-y+"px",w.documentElement.style.position="absolute")),x(z))},50)};w.open();w.write("\x3c!DOCTYPE html\x3e\x3chtml\x3e\x3c/html\x3e");
!f.defaultView||y===f.defaultView.pageXOffset&&u===f.defaultView.pageYOffset||f.defaultView.scrollTo(y,u);w.replaceChild(w.adoptNode(D),w.documentElement);w.close()})}},{"./log":13}],3:[function(m,q,e){function a(c){this.b=this.g=this.r=0;this.a=null;this.fromArray(c)||this.namedColor(c)||this.rgb(c)||this.rgba(c)||this.hex6(c)||this.hex3(c)}a.prototype.darken=function(c){c=1-c;return new a([Math.round(this.r*c),Math.round(this.g*c),Math.round(this.b*c),this.a])};a.prototype.isTransparent=function(){return 0===
this.a};a.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b};a.prototype.fromArray=function(c){Array.isArray(c)&&(this.r=Math.min(c[0],255),this.g=Math.min(c[1],255),this.b=Math.min(c[2],255),3<c.length&&(this.a=c[3]));return Array.isArray(c)};var h=/^#([a-f0-9]{3})$/i;a.prototype.hex3=function(c){var n=null;null!==(n=c.match(h))&&(this.r=parseInt(n[1][0]+n[1][0],16),this.g=parseInt(n[1][1]+n[1][1],16),this.b=parseInt(n[1][2]+n[1][2],16));return null!==n};var d=/^#([a-f0-9]{6})$/i;
a.prototype.hex6=function(c){var n=null;null!==(n=c.match(d))&&(this.r=parseInt(n[1].substring(0,2),16),this.g=parseInt(n[1].substring(2,4),16),this.b=parseInt(n[1].substring(4,6),16));return null!==n};var f=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;a.prototype.rgb=function(c){var n=null;null!==(n=c.match(f))&&(this.r=Number(n[1]),this.g=Number(n[2]),this.b=Number(n[3]));return null!==n};var l=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;a.prototype.rgba=
function(c){var n=null;null!==(n=c.match(l))&&(this.r=Number(n[1]),this.g=Number(n[2]),this.b=Number(n[3]),this.a=Number(n[4]));return null!==n};a.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join()+")":"rgb("+[this.r,this.g,this.b].join()+")"};a.prototype.namedColor=function(c){c=c.toLowerCase();var n=p[c];if(n)this.r=n[0],this.g=n[1],this.b=n[2];else if("transparent"===c)return this.r=this.g=this.b=this.a=0,!0;return!!n};a.prototype.isColor=
!0;var p={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],
darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,
144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,
216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,
170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,
232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],
slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};q.exports=a},{}],4:[function(m,q,e){function a(O,M){var E=S++;M=M||{};M.logging&&(z.options.logging=!0,z.options.start=Date.now());M.async=
"undefined"===typeof M.async?!0:M.async;M.allowTaint="undefined"===typeof M.allowTaint?!1:M.allowTaint;M.removeContainer="undefined"===typeof M.removeContainer?!0:M.removeContainer;M.javascriptEnabled="undefined"===typeof M.javascriptEnabled?!1:M.javascriptEnabled;M.imageTimeout="undefined"===typeof M.imageTimeout?1E4:M.imageTimeout;M.renderer="function"===typeof M.renderer?M.renderer:y;M.strict=!!M.strict;if("string"===typeof O){if("string"!==typeof M.proxy)return Promise.reject("Proxy must be used when rendering url");
var B=null!=M.width?M.width:window.innerWidth,P=null!=M.height?M.height:window.innerHeight;return G(c(O),M.proxy,document,B,P,M).then(function(V){return d(V.contentWindow.document.documentElement,V,M,B,P)})}O=(void 0===O?[document.documentElement]:O.length?O:[O])[0];O.setAttribute("data-html2canvas-node"+E,E);return h(O.ownerDocument,M,O.ownerDocument.defaultView.innerWidth,O.ownerDocument.defaultView.innerHeight,E).then(function(V){"function"===typeof M.onrendered&&(z("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),
M.onrendered(V));return V})}function h(O,M,E,B,P){return w(O,O,E,B,M,O.defaultView.pageXOffset,O.defaultView.pageYOffset).then(function(V){z("Document cloned");var W="data-html2canvas-node"+P,Y="["+W+"\x3d'"+P+"']";O.querySelector(Y).removeAttribute(W);W=V.contentWindow;var ma=W.document.querySelector(Y);return("function"===typeof M.onclone?Promise.resolve(M.onclone(W.document)):Promise.resolve(!0)).then(function(){return d(ma,V,M,E,B)})})}function d(O,M,E,B,P){var V=M.contentWindow,W=new n(V.document),
Y=new u(E,W),ma=Q(O);B="view"===E.type?B:l(V.document);P="view"===E.type?P:p(V.document);var da=new E.renderer(B,P,Y,E,document);return(new D(O,da,W,Y,E)).ready.then(function(){z("Finished rendering");var Aa="view"===E.type?f(da.canvas,{width:da.canvas.width,height:da.canvas.height,top:0,left:0,x:0,y:0}):O===V.document.body||O===V.document.documentElement||null!=E.canvas?da.canvas:f(da.canvas,{width:null!=E.width?E.width:ma.width,height:null!=E.height?E.height:ma.height,top:ma.top,left:ma.left,x:0,
y:0});E.removeContainer&&(M.parentNode.removeChild(M),z("Cleaned up container"));return Aa})}function f(O,M){var E=document.createElement("canvas"),B=Math.min(O.width-1,Math.max(0,M.left)),P=Math.min(O.width,Math.max(1,M.left+M.width)),V=Math.min(O.height-1,Math.max(0,M.top)),W=Math.min(O.height,Math.max(1,M.top+M.height));E.width=M.width;E.height=M.height;P-=B;W-=V;z("Cropping canvas at:","left:",M.left,"top:",M.top,"width:",P,"height:",W);z("Resulting crop with width",M.width,"and height",M.height,
"with x",B,"and y",V);E.getContext("2d").drawImage(O,B,V,P,W,M.x,M.y,P,W);return E}function l(O){return Math.max(Math.max(O.body.scrollWidth,O.documentElement.scrollWidth),Math.max(O.body.offsetWidth,O.documentElement.offsetWidth),Math.max(O.body.clientWidth,O.documentElement.clientWidth))}function p(O){return Math.max(Math.max(O.body.scrollHeight,O.documentElement.scrollHeight),Math.max(O.body.offsetHeight,O.documentElement.offsetHeight),Math.max(O.body.clientHeight,O.documentElement.clientHeight))}
function c(O){var M=document.createElement("a");M.href=O;M.href=M.href;return M}var n=m("./support"),y=m("./renderers/canvas"),u=m("./imageloader"),D=m("./nodeparser");e=m("./nodecontainer");var z=m("./log"),x=m("./utils"),w=m("./clone"),G=m("./proxy").loadUrlDocument,Q=x.getBounds,S=0;a.CanvasRenderer=y;a.NodeContainer=e;a.log=z;a.utils=x;m="undefined"===typeof document||"function"!==typeof Object.create||"function"!==typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:
a;q.exports=m},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(m,q,e){function a(f){this.src=f;h("DummyImageContainer for",f);if(!this.promise||!this.image){h("Initiating DummyImageContainer");a.prototype.image=new Image;var l=this.image;a.prototype.promise=new Promise(function(p,c){l.onload=p;l.onerror=c;l.src=d();!0===l.complete&&p(l)})}}var h=m("./log"),d=m("./utils").smallImage;q.exports=
a},{"./log":13,"./utils":26}],6:[function(m,q,e){var a=m("./utils").smallImage;q.exports=function(h,d){var f=document.createElement("div"),l=document.createElement("img"),p=document.createElement("span");f.style.visibility="hidden";f.style.fontFamily=h;f.style.fontSize=d;f.style.margin=0;f.style.padding=0;document.body.appendChild(f);l.src=a();l.width=1;l.height=1;l.style.margin=0;l.style.padding=0;l.style.verticalAlign="baseline";p.style.fontFamily=h;p.style.fontSize=d;p.style.margin=0;p.style.padding=
0;p.appendChild(document.createTextNode("Hidden Text"));f.appendChild(p);f.appendChild(l);h=l.offsetTop-p.offsetTop+1;f.removeChild(p);f.appendChild(document.createTextNode("Hidden Text"));f.style.lineHeight="normal";l.style.verticalAlign="super";l=l.offsetTop-f.offsetTop+1;document.body.removeChild(f);this.baseline=h;this.lineWidth=1;this.middle=l}},{"./utils":26}],7:[function(m,q,e){function a(){this.data={}}var h=m("./font");a.prototype.getMetrics=function(d,f){void 0===this.data[d+"-"+f]&&(this.data[d+
"-"+f]=new h(d,f));return this.data[d+"-"+f]};q.exports=a},{"./font":6}],8:[function(m,q,e){function a(f,l,p){this.image=null;this.src=f;var c=this,n=h(f);this.promise=(l?new Promise(function(y){"about:blank"===f.contentWindow.document.URL||null==f.contentWindow.document.documentElement?f.contentWindow.onload=f.onload=function(){y(f)}:y(f)}):this.proxyLoad(p.proxy,n,p)).then(function(y){return m("./core")(y.contentWindow.document.documentElement,{type:"view",width:y.width,height:y.height,proxy:p.proxy,
javascriptEnabled:p.javascriptEnabled,removeContainer:p.removeContainer,allowTaint:p.allowTaint,imageTimeout:p.imageTimeout/2})}).then(function(y){return c.image=y})}var h=m("./utils").getBounds,d=m("./proxy").loadUrlDocument;a.prototype.proxyLoad=function(f,l,p){var c=this.src;return d(c.src,f,c.ownerDocument,l.width,l.height,p)};q.exports=a},{"./core":4,"./proxy":16,"./utils":26}],9:[function(m,q,e){function a(h){this.src=h.value;this.colorStops=[];this.type=null;this.y1=this.x1=this.y0=this.x0=
.5;this.promise=Promise.resolve(!0)}a.TYPES={LINEAR:1,RADIAL:2};a.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i;q.exports=a},{}],10:[function(m,q,e){q.exports=function(a,h){this.src=a;this.image=new Image;var d=this;this.tainted=null;this.promise=new Promise(function(f,l){d.image.onload=f;d.image.onerror=l;h&&(d.image.crossOrigin="anonymous");d.image.src=a;!0===d.image.complete&&f(d.image)})}},
{}],11:[function(m,q,e){function a(z,x){this.link=null;this.options=z;this.support=x;this.origin=this.getOrigin(window.location.href)}var h=m("./log"),d=m("./imagecontainer"),f=m("./dummyimagecontainer"),l=m("./proxyimagecontainer"),p=m("./framecontainer"),c=m("./svgcontainer"),n=m("./svgnodecontainer"),y=m("./lineargradientcontainer"),u=m("./webkitgradientcontainer"),D=m("./utils").bind;a.prototype.findImages=function(z){var x=[];z.reduce(function(w,G){switch(G.node.nodeName){case "IMG":return w.concat([{args:[G.node.src],
method:"url"}]);case "svg":case "IFRAME":return w.concat([{args:[G.node],method:G.node.nodeName}])}return w},[]).forEach(this.addImage(x,this.loadImage),this);return x};a.prototype.findBackgroundImage=function(z,x){x.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(z,this.loadImage),this);return z};a.prototype.addImage=function(z,x){return function(w){w.args.forEach(function(G){this.imageExists(z,G)||(z.splice(0,0,x.call(this,w)),h("Added image #"+z.length,"string"===
typeof G?G.substring(0,100):G))},this)}};a.prototype.hasImageBackground=function(z){return"none"!==z.method};a.prototype.loadImage=function(z){return"url"===z.method?(z=z.args[0],!this.isSVG(z)||this.support.svg||this.options.allowTaint?z.match(/data:image\/.*;base64,/i)?new d(z.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,""),!1):this.isSameOrigin(z)||!0===this.options.allowTaint||this.isSVG(z)?new d(z,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new d(z,!0):this.options.proxy?
new l(z,this.options.proxy):new f(z):new c(z)):"linear-gradient"===z.method?new y(z):"gradient"===z.method?new u(z):"svg"===z.method?new n(z.args[0],this.support.svg):"IFRAME"===z.method?new p(z.args[0],this.isSameOrigin(z.args[0].src),this.options):new f(z)};a.prototype.isSVG=function(z){return"svg"===z.substring(z.length-3).toLowerCase()||c.prototype.isInline(z)};a.prototype.imageExists=function(z,x){return z.some(function(w){return w.src===x})};a.prototype.isSameOrigin=function(z){return this.getOrigin(z)===
this.origin};a.prototype.getOrigin=function(z){var x=this.link||(this.link=document.createElement("a"));x.href=z;x.href=x.href;return x.protocol+x.hostname+x.port};a.prototype.getPromise=function(z){return this.timeout(z,this.options.imageTimeout)["catch"](function(){return(new f(z.src)).promise.then(function(x){z.image=x})})};a.prototype.get=function(z){var x=null;return this.images.some(function(w){return(x=w).src===z})?x:null};a.prototype.fetch=function(z){this.images=z.reduce(D(this.findBackgroundImage,
this),this.findImages(z));this.images.forEach(function(x,w){x.promise.then(function(){h("Succesfully loaded image #"+(w+1),x)},function(G){h("Failed loading image #"+(w+1),x,G)})});this.ready=Promise.all(this.images.map(this.getPromise,this));h("Finished searching images");return this};a.prototype.timeout=function(z,x){var w,G=Promise.race([z.promise,new Promise(function(Q,S){w=setTimeout(function(){h("Timed out loading image",z);S(z)},x)})]).then(function(Q){clearTimeout(w);return Q});G["catch"](function(){clearTimeout(w)});
return G};q.exports=a},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(m,q,e){function a(f){h.apply(this,arguments);this.type=h.TYPES.LINEAR;var l=a.REGEXP_DIRECTION.test(f.args[0])||!h.REGEXP_COLORSTOP.test(f.args[0]);l?f.args[0].split(/\s+/).reverse().forEach(function(p,c){switch(p){case "left":this.x0=0;
this.x1=1;break;case "top":this.y0=0;this.y1=1;break;case "right":this.x0=1;this.x1=0;break;case "bottom":this.y0=1;this.y1=0;break;case "to":c=this.y0;p=this.x0;this.y0=this.y1;this.x0=this.x1;this.x1=p;this.y1=c;break;case "center":break;default:p=.01*parseFloat(p,10),isNaN(p)||(0===c?(this.y0=p,this.y1=1-this.y0):(this.x0=p,this.x1=1-this.x0))}},this):(this.y0=0,this.y1=1);this.colorStops=f.args.slice(l?1:0).map(function(p){p=p.match(h.REGEXP_COLORSTOP);var c=+p[2],n=0===c?"%":p[3];return{color:new d(p[1]),
stop:"%"===n?c/100:null}});null===this.colorStops[0].stop&&(this.colorStops[0].stop=0);null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1);this.colorStops.forEach(function(p,c){null===p.stop&&this.colorStops.slice(c).some(function(n,y){return null!==n.stop?(p.stop=(n.stop-this.colorStops[c-1].stop)/(y+1)+this.colorStops[c-1].stop,!0):!1},this)},this)}var h=m("./gradientcontainer"),d=m("./color");a.prototype=Object.create(h.prototype);a.REGEXP_DIRECTION=
/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i;q.exports=a},{"./color":3,"./gradientcontainer":9}],13:[function(m,q,e){var a=function(){a.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-a.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};a.options={logging:!1};q.exports=a},{}],14:[function(m,q,e){function a(u,D){this.node=u;this.parent=D;this.borders=
this.bounds=this.stack=null;this.clip=[];this.backgroundClip=[];this.computedStyles=this.visible=this.offsetBounds=null;this.colors={};this.styles={};this.transformMatrix=this.transformData=this.backgroundImages=null;this.isPseudoElement=!1;this.opacity=null}function h(u){if(u&&"matrix"===u[1])return u[2].split(",").map(function(D){return parseFloat(D.trim())});if(u&&"matrix3d"===u[1])return u=u[2].split(",").map(function(D){return parseFloat(D.trim())}),[u[0],u[1],u[4],u[5],u[12],u[13]]}function d(u){return-1!==
u.toString().indexOf("%")}function f(u){return u.replace("px","")}function l(u){return parseFloat(u)}var p=m("./color");m=m("./utils");var c=m.getBounds,n=m.parseBackgrounds,y=m.offsetBounds;a.prototype.cloneTo=function(u){u.visible=this.visible;u.borders=this.borders;u.bounds=this.bounds;u.clip=this.clip;u.backgroundClip=this.backgroundClip;u.computedStyles=this.computedStyles;u.styles=this.styles;u.backgroundImages=this.backgroundImages;u.opacity=this.opacity};a.prototype.getOpacity=function(){return null===
this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity};a.prototype.assignStack=function(u){this.stack=u;u.children.push(this)};a.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))};a.prototype.css=function(u){this.computedStyles||(this.computedStyles=
this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null));return this.styles[u]||(this.styles[u]=this.computedStyles[u])};a.prototype.prefixedCss=function(u){var D=["webkit","moz","ms","o"],z=this.css(u);void 0===z&&D.some(function(x){z=this.css(x+u.substr(0,1).toUpperCase()+u.substr(1));return void 0!==z},this);return void 0===z?null:z};a.prototype.computedStyle=function(u){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,u)};a.prototype.cssInt=
function(u){u=parseInt(this.css(u),10);return isNaN(u)?0:u};a.prototype.color=function(u){return this.colors[u]||(this.colors[u]=new p(this.css(u)))};a.prototype.cssFloat=function(u){u=parseFloat(this.css(u));return isNaN(u)?0:u};a.prototype.fontWeight=function(){var u=this.css("fontWeight");switch(parseInt(u,10)){case 401:u="bold";break;case 400:u="normal"}return u};a.prototype.parseClip=function(){var u=this.css("clip").match(this.CLIP);return u?{top:parseInt(u[1],10),right:parseInt(u[2],10),bottom:parseInt(u[3],
10),left:parseInt(u[4],10)}:null};a.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=n(this.css("backgroundImage")))};a.prototype.cssList=function(u,D){u=(this.css(u)||"").split(",");u=u[D||0]||u[0]||"auto";u=u.trim().split(" ");1===u.length&&(u=[u[0],d(u[0])?"auto":u[0]]);return u};a.prototype.parseBackgroundSize=function(u,D,z){z=this.cssList("backgroundSize",z);if(d(z[0]))var x=u.width*parseFloat(z[0])/100;else{if(/contain|cover/.test(z[0]))return D=
D.width/D.height,u.width/u.height<D^"contain"===z[0]?{width:u.height*D,height:u.height}:{width:u.width,height:u.width/D};x=parseInt(z[0],10)}u="auto"===z[0]&&"auto"===z[1]?D.height:"auto"===z[1]?x/D.width*D.height:d(z[1])?u.height*parseFloat(z[1])/100:parseInt(z[1],10);"auto"===z[0]&&(x=u/D.height*D.width);return{width:x,height:u}};a.prototype.parseBackgroundPosition=function(u,D,z,x){z=this.cssList("backgroundPosition",z);var w=d(z[0])?(u.width-(x||D).width)*(parseFloat(z[0])/100):parseInt(z[0],
10);u="auto"===z[1]?w/D.width*D.height:d(z[1])?(u.height-(x||D).height)*parseFloat(z[1])/100:parseInt(z[1],10);"auto"===z[0]&&(w=u/D.height*D.width);return{left:w,top:u}};a.prototype.parseBackgroundRepeat=function(u){return this.cssList("backgroundRepeat",u)[0]};a.prototype.parseTextShadows=function(){var u=this.css("textShadow"),D=[];if(u&&"none"!==u){u=u.match(this.TEXT_SHADOW_PROPERTY);for(var z=0;u&&z<u.length;z++){var x=u[z].match(this.TEXT_SHADOW_VALUES);D.push({color:new p(x[0]),offsetX:x[1]?
parseFloat(x[1].replace("px","")):0,offsetY:x[2]?parseFloat(x[2].replace("px","")):0,blur:x[3]?x[3].replace("px",""):0})}}return D};a.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var u=this.parseBounds(),D=this.prefixedCss("transformOrigin").split(" ").map(f).map(l);D[0]+=u.left;D[1]+=u.top;this.transformData={origin:D,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData};a.prototype.parseTransformMatrix=
function(){if(!this.transformMatrix){var u=this.prefixedCss("transform");this.transformMatrix=(u=u?h(u.match(this.MATRIX_PROPERTY)):null)?u:[1,0,0,1,0,0]}return this.transformMatrix};a.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?y(this.node):c(this.node))};a.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()};a.prototype.getValue=function(){var u=this.node.value||"";"SELECT"===
this.node.tagName?(u=this.node,u=(u=u.options[u.selectedIndex||0])?u.text||"":""):"password"===this.node.type&&(u=Array(u.length+1).join("\u2022"));return 0===u.length?this.node.placeholder||"":u};a.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/;a.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g;a.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;a.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/;q.exports=a},{"./color":3,"./utils":26}],
15:[function(m,q,e){function a(A,K,L,ba,ea){da("Starting NodeParser");this.renderer=K;this.options=ea;this.range=null;this.support=L;this.renderQueue=[];this.stack=new C(!0,1,A.ownerDocument,null);L=new qa(A,null);ea.background&&K.rectangle(0,0,K.width,K.height,new H(ea.background));if(A===A.ownerDocument.documentElement){var Z=new qa(L.color("backgroundColor").isTransparent()?A.ownerDocument.body:A.ownerDocument.documentElement,null);K.rectangle(0,0,K.width,K.height,Z.color("backgroundColor"))}L.visibile=
L.isElementVisible();this.createPseudoHideStyles(A.ownerDocument);this.disableAnimations(A.ownerDocument);this.nodes=[].concat.apply([],[L].concat(this.getChildren(L)).filter(function(wa){return wa.visible=wa.isElementVisible()}).map(this.getPseudoElements,this));this.fontMetrics=new v;da("Fetched nodes, total:",this.nodes.length);da("Calculate overflow clips");this.calculateOverflowClips();da("Start fetching images");this.images=ba.fetch(this.nodes.filter(E));this.ready=this.images.ready.then(J(function(){da("Images loaded, starting parsing");
da("Creating stacking contexts");this.createStackingContexts();da("Sorting stacking contexts");this.sortStackingContexts(this.stack);this.parse(this.stack);da("Render queue created with "+this.renderQueue.length+" items");return new Promise(J(function(wa){ea.async?"function"===typeof ea.async?ea.async.call(this,this.renderQueue,wa):0<this.renderQueue.length?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,wa)):wa():(this.renderQueue.forEach(this.paint,this),wa())},this))},this))}function h(A){return A.replace(/(\-[a-z])/g,
function(K){return K.toUpperCase().replace("-","")})}function d(){}function f(A,K,L,ba){return A.map(function(ea,Z){if(0<ea.width){var wa=K.left,na=K.top,Ea=K.width,La=K.height-A[2].width;switch(Z){case 0:La=A[0].width;ea.args=n({c1:[wa,na],c2:[wa+Ea,na],c3:[wa+Ea-A[1].width,na+La],c4:[wa+A[3].width,na+La]},ba[0],ba[1],L.topLeftOuter,L.topLeftInner,L.topRightOuter,L.topRightInner);break;case 1:wa=K.left+K.width-A[1].width;Ea=A[1].width;ea.args=n({c1:[wa+Ea,na],c2:[wa+Ea,na+La+A[2].width],c3:[wa,na+
La],c4:[wa,na+A[0].width]},ba[1],ba[2],L.topRightOuter,L.topRightInner,L.bottomRightOuter,L.bottomRightInner);break;case 2:na=na+K.height-A[2].width;La=A[2].width;ea.args=n({c1:[wa+Ea,na+La],c2:[wa,na+La],c3:[wa+A[3].width,na],c4:[wa+Ea-A[3].width,na]},ba[2],ba[3],L.bottomRightOuter,L.bottomRightInner,L.bottomLeftOuter,L.bottomLeftInner);break;case 3:Ea=A[3].width,ea.args=n({c1:[wa,na+La+A[2].width],c2:[wa,na],c3:[wa+Ea,na+A[0].width],c4:[wa+Ea,na+La]},ba[3],ba[0],L.bottomLeftOuter,L.bottomLeftInner,
L.topLeftOuter,L.topLeftInner)}}return ea})}function l(A,K,L,ba){var ea=(Math.sqrt(2)-1)/3*4,Z=L*ea;ea*=ba;L=A+L;ba=K+ba;return{topLeft:c({x:A,y:ba},{x:A,y:ba-ea},{x:L-Z,y:K},{x:L,y:K}),topRight:c({x:A,y:K},{x:A+Z,y:K},{x:L,y:ba-ea},{x:L,y:ba}),bottomRight:c({x:L,y:K},{x:L,y:K+ea},{x:A+Z,y:ba},{x:A,y:ba}),bottomLeft:c({x:L,y:ba},{x:L-Z,y:ba},{x:A,y:K+ea},{x:A,y:K})}}function p(A,K,L){var ba=A.left,ea=A.top,Z=A.width;A=A.height;var wa=K[0][0]<Z/2?K[0][0]:Z/2,na=K[0][1]<A/2?K[0][1]:A/2,Ea=K[1][0]<Z/
2?K[1][0]:Z/2,La=K[1][1]<A/2?K[1][1]:A/2,Ta=K[2][0]<Z/2?K[2][0]:Z/2,Ia=K[2][1]<A/2?K[2][1]:A/2,Ma=K[3][0]<Z/2?K[3][0]:Z/2;K=K[3][1]<A/2?K[3][1]:A/2;var ya=Z-Ea,Ua=A-Ia,Na=Z-Ta,I=A-K;return{topLeftOuter:l(ba,ea,wa,na).topLeft.subdivide(.5),topLeftInner:l(ba+L[3].width,ea+L[0].width,Math.max(0,wa-L[3].width),Math.max(0,na-L[0].width)).topLeft.subdivide(.5),topRightOuter:l(ba+ya,ea,Ea,La).topRight.subdivide(.5),topRightInner:l(ba+Math.min(ya,Z+L[3].width),ea+L[0].width,ya>Z+L[3].width?0:Ea-L[3].width,
La-L[0].width).topRight.subdivide(.5),bottomRightOuter:l(ba+Na,ea+Ua,Ta,Ia).bottomRight.subdivide(.5),bottomRightInner:l(ba+Math.min(Na,Z-L[3].width),ea+Math.min(Ua,A+L[0].width),Math.max(0,Ta-L[1].width),Ia-L[2].width).bottomRight.subdivide(.5),bottomLeftOuter:l(ba,ea+I,Ma,K).bottomLeft.subdivide(.5),bottomLeftInner:l(ba+L[3].width,ea+I,Math.max(0,Ma-L[3].width),K-L[2].width).bottomLeft.subdivide(.5)}}function c(A,K,L,ba){var ea=function(Z,wa,na){return{x:Z.x+(wa.x-Z.x)*na,y:Z.y+(wa.y-Z.y)*na}};
return{start:A,startControl:K,endControl:L,end:ba,subdivide:function(Z){var wa=ea(A,K,Z),na=ea(K,L,Z),Ea=ea(L,ba,Z),La=ea(wa,na,Z);na=ea(na,Ea,Z);Z=ea(La,na,Z);return[c(A,wa,La,Z),c(Z,na,Ea,ba)]},curveTo:function(Z){Z.push(["bezierCurve",K.x,K.y,L.x,L.y,ba.x,ba.y])},curveToReversed:function(Z){Z.push(["bezierCurve",L.x,L.y,K.x,K.y,A.x,A.y])}}}function n(A,K,L,ba,ea,Z,wa){var na=[];0<K[0]||0<K[1]?(na.push(["line",ba[1].start.x,ba[1].start.y]),ba[1].curveTo(na)):na.push(["line",A.c1[0],A.c1[1]]);0<
L[0]||0<L[1]?(na.push(["line",Z[0].start.x,Z[0].start.y]),Z[0].curveTo(na),na.push(["line",wa[0].end.x,wa[0].end.y]),wa[0].curveToReversed(na)):(na.push(["line",A.c2[0],A.c2[1]]),na.push(["line",A.c3[0],A.c3[1]]));0<K[0]||0<K[1]?(na.push(["line",ea[1].end.x,ea[1].end.y]),ea[1].curveToReversed(na)):na.push(["line",A.c4[0],A.c4[1]]);return na}function y(A,K,L,ba,ea,Z,wa){0<K[0]||0<K[1]?(A.push(["line",ba[0].start.x,ba[0].start.y]),ba[0].curveTo(A),ba[1].curveTo(A)):A.push(["line",Z,wa]);(0<L[0]||0<
L[1])&&A.push(["line",ea[0].start.x,ea[0].start.y])}function u(A){return 0>A.cssInt("zIndex")}function D(A){return 0<A.cssInt("zIndex")}function z(A){return 0===A.cssInt("zIndex")}function x(A){return-1!==["inline","inline-block","inline-table"].indexOf(A.css("display"))}function w(A){return 0<A.node.data.trim().length}function G(A){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(K){K=A.css("border"+K+"Radius").split(" ");1>=K.length&&(K[1]=K[0]);return K.map(V)})}function Q(A){return A.nodeType===
Node.TEXT_NODE||A.nodeType===Node.ELEMENT_NODE}function S(A){return"static"!==A.css("position")}function O(A){return"none"!==A.css("float")}function M(A){var K=this;return function(){return!A.apply(K,arguments)}}function E(A){return A.node.nodeType===Node.ELEMENT_NODE}function B(A){return A.node.nodeType===Node.TEXT_NODE}function P(A){return function(K,L){return K.cssInt("zIndex")+A.indexOf(K)/A.length-(L.cssInt("zIndex")+A.indexOf(L)/A.length)}}function V(A){return parseInt(A,10)}function W(A){return A.width}
function Y(A){return A.node.nodeType!==Node.ELEMENT_NODE||-1==="SCRIPT HEAD TITLE OBJECT BR OPTION".split(" ").indexOf(A.node.nodeName)}function ma(A){for(var K=[],L=0,ba=!1,ea;A.length;)-1!==[32,13,10,9,45].indexOf(A[L])===ba?(ea=A.splice(0,L),ea.length&&K.push(Aa.ucs2.encode(ea)),ba=!ba,L=0):L++,L>=A.length&&(ea=A.splice(0,L),ea.length&&K.push(Aa.ucs2.encode(ea)));return K}var da=m("./log"),Aa=m("punycode"),qa=m("./nodecontainer"),Ca=m("./textcontainer"),t=m("./pseudoelementcontainer"),v=m("./fontmetrics"),
H=m("./color"),C=m("./stackingcontext");m=m("./utils");var J=m.bind,R=m.getBounds,oa=m.parseBackgrounds,aa=m.offsetBounds;a.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(A){if(E(A)){!0===A.isPseudoElement&&A.appendToDOM();A.borders=this.parseBorders(A);var K="hidden"===A.css("overflow")?[A.borders.clip]:[],L=A.parseClip();L&&-1!==["absolute","fixed"].indexOf(A.css("position"))&&K.push([["rect",A.bounds.left+L.left,A.bounds.top+L.top,L.right-L.left,L.bottom-L.top]]);A.clip=
A.parent&&A.parent.clip.length?A.parent.clip.concat(K):K;A.backgroundClip="hidden"!==A.css("overflow")?A.clip.concat([A.borders.clip]):A.clip;!0===A.isPseudoElement&&A.cleanDOM()}else B(A)&&(A.clip=A.parent&&A.parent.clip.length?A.parent.clip:[]);!0!==A.isPseudoElement&&(A.bounds=null)},this)};a.prototype.asyncRenderer=function(A,K,L){L=L||Date.now();this.paint(A[this.renderIndex++]);A.length===this.renderIndex?K():L+20>Date.now()?this.asyncRenderer(A,K,L):setTimeout(J(function(){this.asyncRenderer(A,
K)},this),0)};a.prototype.createPseudoHideStyles=function(A){this.createStyles(A,"."+t.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+t.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')};a.prototype.disableAnimations=function(A){this.createStyles(A,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")};
a.prototype.createStyles=function(A,K){var L=A.createElement("style");L.innerHTML=K;A.body.appendChild(L)};a.prototype.getPseudoElements=function(A){var K=[[A]];if(A.node.nodeType===Node.ELEMENT_NODE){var L=this.getPseudoElement(A,":before");A=this.getPseudoElement(A,":after");L&&K.push(L);A&&K.push(A)}return[].concat.apply([],K)};a.prototype.getPseudoElement=function(A,K){var L=A.computedStyle(K);if(!L||!L.content||"none"===L.content||"-moz-alt-content"===L.content||"none"===L.display)return null;
var ba=L.content;var ea=ba.substr(0,1);ea=ea===ba.substr(ba.length-1)&&ea.match(/'|"/)?ba.substr(1,ba.length-2):ba;var Z="url"===ea.substr(0,3);ba=document.createElement(Z?"img":"html2canvaspseudoelement");A=new t(ba,A,K);for(K=L.length-1;0<=K;K--){var wa=h(L.item(K));ba.style[wa]=L[wa]}ba.className=t.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+t.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER;if(Z)return ba.src=oa(ea)[0].args[0],[A];L=document.createTextNode(ea);ba.appendChild(L);return[A,new Ca(L,
A)]};a.prototype.getChildren=function(A){return[].concat.apply([],[].filter.call(A.node.childNodes,Q).map(function(K){var L=[K.nodeType===Node.TEXT_NODE?new Ca(K,A):new qa(K,A)].filter(Y);return K.nodeType===Node.ELEMENT_NODE&&L.length&&"TEXTAREA"!==K.tagName?L[0].isElementVisible()?L.concat(this.getChildren(L[0])):[]:L},this))};a.prototype.newStackingContext=function(A,K){var L=new C(K,A.getOpacity(),A.node,A.parent);A.cloneTo(L);(K?L.getParentStack(this):L.parent.stack).contexts.push(L);A.stack=
L};a.prototype.createStackingContexts=function(){this.nodes.forEach(function(A){var K;if(K=E(A))(K=this.isRootElement(A)||1>A.getOpacity())||(K=A.css("position"),K="auto"!==(-1!==["absolute","relative","fixed"].indexOf(K)?A.css("zIndex"):"auto")),K=K||this.isBodyWithTransparentRoot(A)||A.hasTransform();K?this.newStackingContext(A,!0):E(A)&&(S(A)&&z(A)||-1!==["inline-block","inline-table"].indexOf(A.css("display"))||O(A))?this.newStackingContext(A,!1):A.assignStack(A.parent.stack)},this)};a.prototype.isBodyWithTransparentRoot=
function(A){return"BODY"===A.node.nodeName&&A.parent.color("backgroundColor").isTransparent()};a.prototype.isRootElement=function(A){return null===A.parent};a.prototype.sortStackingContexts=function(A){A.contexts.sort(P(A.contexts.slice(0)));A.contexts.forEach(this.sortStackingContexts,this)};a.prototype.parseTextBounds=function(A){return function(K,L,ba){if("none"!==A.parent.css("textDecoration").substr(0,4)||0!==K.trim().length){if(this.support.rangeBounds&&!A.parent.hasTransform())return L=ba.slice(0,
L).join("").length,this.getRangeBounds(A.node,L,K.length);if(A.node&&"string"===typeof A.node.data)return K=A.node.splitText(K.length),L=this.getWrapperBounds(A.node,A.parent.hasTransform()),A.node=K,L}else if(!this.support.rangeBounds||A.parent.hasTransform())A.node=A.node.splitText(K.length);return{}}};a.prototype.getWrapperBounds=function(A,K){var L=A.ownerDocument.createElement("html2canvaswrapper"),ba=A.parentNode,ea=A.cloneNode(!0);L.appendChild(A.cloneNode(!0));ba.replaceChild(L,A);A=K?aa(L):
R(L);ba.replaceChild(ea,L);return A};a.prototype.getRangeBounds=function(A,K,L){var ba=this.range||(this.range=A.ownerDocument.createRange());ba.setStart(A,K);ba.setEnd(A,K+L);return ba.getBoundingClientRect()};a.prototype.parse=function(A){var K=A.contexts.filter(u),L=A.children.filter(E),ba=L.filter(M(O)),ea=ba.filter(M(S)).filter(M(x));L=L.filter(M(S)).filter(O);var Z=ba.filter(M(S)).filter(x);ba=A.contexts.concat(ba.filter(S)).filter(z);var wa=A.children.filter(B).filter(w);A=A.contexts.filter(D);
K.concat(ea).concat(L).concat(Z).concat(ba).concat(wa).concat(A).forEach(function(na){this.renderQueue.push(na);na instanceof C&&(this.parse(na),this.renderQueue.push(new d))},this)};a.prototype.paint=function(A){try{A instanceof d?this.renderer.ctx.restore():B(A)?(!0===A.parent.isPseudoElement&&A.parent.appendToDOM(),this.paintText(A),!0===A.parent.isPseudoElement&&A.parent.cleanDOM()):this.paintNode(A)}catch(K){if(da(K),this.options.strict)throw K;}};a.prototype.paintNode=function(A){A instanceof
C&&(this.renderer.setOpacity(A.opacity),this.renderer.ctx.save(),A.hasTransform()&&this.renderer.setTransform(A.parseTransform()));"INPUT"===A.node.nodeName&&"checkbox"===A.node.type?this.paintCheckbox(A):"INPUT"===A.node.nodeName&&"radio"===A.node.type?this.paintRadio(A):this.paintElement(A)};a.prototype.paintElement=function(A){var K=A.parseBounds();this.renderer.clip(A.backgroundClip,function(){this.renderer.renderBackground(A,K,A.borders.borders.map(W))},this);this.renderer.clip(A.clip,function(){this.renderer.renderBorders(A.borders.borders)},
this);this.renderer.clip(A.backgroundClip,function(){switch(A.node.nodeName){case "svg":case "IFRAME":var L=this.images.get(A.node);L?this.renderer.renderImage(A,K,A.borders,L):da("Error loading \x3c"+A.node.nodeName+"\x3e",A.node);break;case "IMG":(L=this.images.get(A.node.src))?this.renderer.renderImage(A,K,A.borders,L):da("Error loading \x3cimg\x3e",A.node.src);break;case "CANVAS":this.renderer.renderImage(A,K,A.borders,{image:A.node});break;case "SELECT":case "INPUT":case "TEXTAREA":this.paintFormValue(A)}},
this)};a.prototype.paintCheckbox=function(A){var K=A.parseBounds(),L=Math.min(K.width,K.height),ba={width:L-1,height:L-1,top:K.top,left:K.left};K=[3,3];var ea=[K,K,K,K],Z=[1,1,1,1].map(function(na){return{color:new H("#A5A5A5"),width:na}}),wa=p(ba,ea,Z);this.renderer.clip(A.backgroundClip,function(){this.renderer.rectangle(ba.left+1,ba.top+1,ba.width-2,ba.height-2,new H("#DEDEDE"));this.renderer.renderBorders(f(Z,ba,wa,ea));A.node.checked&&(this.renderer.font(new H("#424242"),"normal","normal","bold",
L-3+"px","arial"),this.renderer.text("\u2714",ba.left+L/6,ba.top+L-1))},this)};a.prototype.paintRadio=function(A){var K=A.parseBounds(),L=Math.min(K.width,K.height)-2;this.renderer.clip(A.backgroundClip,function(){this.renderer.circleStroke(K.left+1,K.top+1,L,new H("#DEDEDE"),1,new H("#A5A5A5"));A.node.checked&&this.renderer.circle(Math.ceil(K.left+L/4)+1,Math.ceil(K.top+L/4)+1,Math.floor(L/2),new H("#424242"))},this)};a.prototype.paintFormValue=function(A){var K=A.getValue();if(0<K.length){var L=
A.node.ownerDocument,ba=L.createElement("html2canvaswrapper");"lineHeight textAlign fontFamily fontWeight fontSize color paddingLeft paddingTop paddingRight paddingBottom width height borderLeftStyle borderTopStyle borderLeftWidth borderTopWidth boxSizing whiteSpace wordWrap".split(" ").forEach(function(Z){try{ba.style[Z]=A.css(Z)}catch(wa){da("html2canvas: Parse: Exception caught in renderFormValue: "+wa.message)}});var ea=A.parseBounds();ba.style.position="fixed";ba.style.left=ea.left+"px";ba.style.top=
ea.top+"px";ba.textContent=K;L.body.appendChild(ba);this.paintText(new Ca(ba.firstChild,A));L.body.removeChild(ba)}};a.prototype.paintText=function(A){A.applyTextTransform();var K=Aa.ucs2.decode(A.node.data),L=this.options.letterRendering&&!/^(normal|none|0px)$/.test(A.parent.css("letterSpacing"))||/[^\u0000-\u00ff]/.test(A.node.data)?K.map(function(wa){return Aa.ucs2.encode([wa])}):ma(K);K=A.parent.fontWeight();var ba=A.parent.css("fontSize"),ea=A.parent.css("fontFamily"),Z=A.parent.parseTextShadows();
this.renderer.font(A.parent.color("color"),A.parent.css("fontStyle"),A.parent.css("fontVariant"),K,ba,ea);Z.length?this.renderer.fontShadow(Z[0].color,Z[0].offsetX,Z[0].offsetY,Z[0].blur):this.renderer.clearShadow();this.renderer.clip(A.parent.clip,function(){L.map(this.parseTextBounds(A),this).forEach(function(wa,na){wa&&(this.renderer.text(L[na],wa.left,wa.bottom),this.renderTextDecoration(A.parent,wa,this.fontMetrics.getMetrics(ea,ba)))},this)},this)};a.prototype.renderTextDecoration=function(A,
K,L){switch(A.css("textDecoration").split(" ")[0]){case "underline":this.renderer.rectangle(K.left,Math.round(K.top+L.baseline+L.lineWidth),K.width,1,A.color("color"));break;case "overline":this.renderer.rectangle(K.left,Math.round(K.top),K.width,1,A.color("color"));break;case "line-through":this.renderer.rectangle(K.left,Math.ceil(K.top+L.middle+L.lineWidth),K.width,1,A.color("color"))}};var ua={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};a.prototype.parseBorders=function(A){var K=
A.parseBounds(),L=G(A),ba=["Top","Right","Bottom","Left"].map(function(Z,wa){var na=A.css("border"+Z+"Style"),Ea=A.color("border"+Z+"Color");"inset"===na&&Ea.isBlack()&&(Ea=new H([255,255,255,Ea.a]));wa=ua[na]?ua[na][wa]:null;return{width:A.cssInt("border"+Z+"Width"),color:wa?Ea[wa[0]](wa[1]):Ea,args:null}}),ea=p(K,L,ba);return{clip:this.parseBackgroundClip(A,ea,ba,L,K),borders:f(ba,K,ea,L)}};a.prototype.parseBackgroundClip=function(A,K,L,ba,ea){var Z=[];switch(A.css("backgroundClip")){case "content-box":case "padding-box":y(Z,
ba[0],ba[1],K.topLeftInner,K.topRightInner,ea.left+L[3].width,ea.top+L[0].width);y(Z,ba[1],ba[2],K.topRightInner,K.bottomRightInner,ea.left+ea.width-L[1].width,ea.top+L[0].width);y(Z,ba[2],ba[3],K.bottomRightInner,K.bottomLeftInner,ea.left+ea.width-L[1].width,ea.top+ea.height-L[2].width);y(Z,ba[3],ba[0],K.bottomLeftInner,K.topLeftInner,ea.left+L[3].width,ea.top+ea.height-L[2].width);break;default:y(Z,ba[0],ba[1],K.topLeftOuter,K.topRightOuter,ea.left,ea.top),y(Z,ba[1],ba[2],K.topRightOuter,K.bottomRightOuter,
ea.left+ea.width,ea.top),y(Z,ba[2],ba[3],K.bottomRightOuter,K.bottomLeftOuter,ea.left+ea.width,ea.top+ea.height),y(Z,ba[3],ba[0],K.bottomLeftOuter,K.topLeftOuter,ea.left,ea.top+ea.height)}return Z};q.exports=a},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(m,q,e){function a(D,z,x){var w="withCredentials"in new XMLHttpRequest;if(!z)return Promise.reject("No proxy configured");
var G=d(w);D=f(z,D,G);return w?p(D):h(x,D,G).then(function(Q){return y(Q.content)})}function h(D,z,x){return new Promise(function(w,G){var Q=D.createElement("script"),S=function(){delete window.html2canvas.proxy[x];D.body.removeChild(Q)};window.html2canvas.proxy[x]=function(O){S();w(O)};Q.src=z;Q.onerror=function(O){S();G(O)};D.body.appendChild(Q)})}function d(D){return D?"":"html2canvas_"+Date.now()+"_"+ ++u+"_"+Math.round(1E5*Math.random())}function f(D,z,x){return D+"?url\x3d"+encodeURIComponent(z)+
(x.length?"\x26callback\x3dhtml2canvas.proxy."+x:"")}function l(D){return function(z){var x=new DOMParser;try{var w=x.parseFromString(z,"text/html")}catch(G){c("DOMParser not supported, falling back to createHTMLDocument");w=document.implementation.createHTMLDocument("");try{w.open(),w.write(z),w.close()}catch(Q){c("createHTMLDocument write not supported, falling back to document.body.innerHTML"),w.body.innerHTML=z}}z=w.querySelector("base");z&&z.href.host||(z=w.createElement("base"),z.href=D,w.head.insertBefore(z,
w.head.firstChild));return w}}var p=m("./xhr");q=m("./utils");var c=m("./log"),n=m("./clone"),y=q.decode64,u=0;e.Proxy=a;e.ProxyURL=function(D,z,x){var w="crossOrigin"in new Image,G=d(w);D=f(z,D,G);return w?Promise.resolve(D):h(x,D,G).then(function(Q){return"data:"+Q.type+";base64,"+Q.content})};e.loadUrlDocument=function(D,z,x,w,G,Q){return(new a(D,z,window.document)).then(l(D)).then(function(S){return n(S,x,w,G,Q,0,0)})}},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(m,q,e){var a=
m("./proxy").ProxyURL;q.exports=function(h,d){var f=document.createElement("a");f.href=h;this.src=h=f.href;this.image=new Image;var l=this;this.promise=new Promise(function(p,c){l.image.crossOrigin="Anonymous";l.image.onload=p;l.image.onerror=c;(new a(h,d,document)).then(function(n){l.image.src=n})["catch"](c)})}},{"./proxy":16}],18:[function(m,q,e){function a(d,f,l){h.call(this,d,f);this.isPseudoElement=!0;this.before=":before"===l}var h=m("./nodecontainer");a.prototype.cloneTo=function(d){a.prototype.cloneTo.call(this,
d);d.isPseudoElement=!0;d.before=this.before};a.prototype=Object.create(h.prototype);a.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node);this.parent.node.className+=" "+this.getHideClass()};a.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node);this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")};a.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+
(this.before?"BEFORE":"AFTER")]};a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before";a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after";q.exports=a},{"./nodecontainer":14}],19:[function(m,q,e){function a(d,f,l,p,c){this.width=d;this.height=f;this.images=l;this.options=p;this.document=c}var h=m("./log");a.prototype.renderImage=function(d,f,l,p){var c=d.cssInt("paddingLeft"),n=d.cssInt("paddingTop"),y=d.cssInt("paddingRight");d=d.cssInt("paddingBottom");
l=l.borders;y=f.width-(l[1].width+l[3].width+c+y);d=f.height-(l[0].width+l[2].width+n+d);this.drawImage(p,0,0,p.image.width||y,p.image.height||d,f.left+c+l[3].width,f.top+n+l[0].width,y,d)};a.prototype.renderBackground=function(d,f,l){0<f.height&&0<f.width&&(this.renderBackgroundColor(d,f),this.renderBackgroundImage(d,f,l))};a.prototype.renderBackgroundColor=function(d,f){d=d.color("backgroundColor");d.isTransparent()||this.rectangle(f.left,f.top,f.width,f.height,d)};a.prototype.renderBorders=function(d){d.forEach(this.renderBorder,
this)};a.prototype.renderBorder=function(d){d.color.isTransparent()||null===d.args||this.drawShape(d.args,d.color)};a.prototype.renderBackgroundImage=function(d,f,l){d.parseBackgroundImages().reverse().forEach(function(p,c,n){switch(p.method){case "url":var y=this.images.get(p.args[0]);y?this.renderBackgroundRepeating(d,f,y,n.length-(c+1),l):h("Error loading background-image",p.args[0]);break;case "linear-gradient":case "gradient":(c=this.images.get(p.value))?this.renderBackgroundGradient(c,f,l):
h("Error loading background-image",p.args[0]);break;case "none":break;default:h("Unknown background-image type",p.args[0])}},this)};a.prototype.renderBackgroundRepeating=function(d,f,l,p,c){var n=d.parseBackgroundSize(f,l.image,p),y=d.parseBackgroundPosition(f,l.image,p,n);switch(d.parseBackgroundRepeat(p)){case "repeat-x":case "repeat no-repeat":this.backgroundRepeatShape(l,y,n,f,f.left+c[3],f.top+y.top+c[0],99999,n.height,c);break;case "repeat-y":case "no-repeat repeat":this.backgroundRepeatShape(l,
y,n,f,f.left+y.left+c[3],f.top+c[0],n.width,99999,c);break;case "no-repeat":this.backgroundRepeatShape(l,y,n,f,f.left+y.left+c[3],f.top+y.top+c[0],n.width,n.height,c);break;default:this.renderBackgroundRepeat(l,y,n,{top:f.top,left:f.left},c[3],c[0])}};q.exports=a},{"./log":13}],20:[function(m,q,e){function a(p,c){d.apply(this,arguments);this.canvas=this.options.canvas||this.document.createElement("canvas");this.options.canvas||(this.canvas.width=p,this.canvas.height=c);this.ctx=this.canvas.getContext("2d");
this.taintCtx=this.document.createElement("canvas").getContext("2d");this.ctx.textBaseline="bottom";this.variables={};l("Initialized CanvasRenderer with size",p,"x",c)}function h(p){return 0<p.length}var d=m("../renderer"),f=m("../lineargradientcontainer"),l=m("../log");a.prototype=Object.create(d.prototype);a.prototype.setFillStyle=function(p){this.ctx.fillStyle="object"===typeof p&&p.isColor?p.toString():p;return this.ctx};a.prototype.rectangle=function(p,c,n,y,u){this.setFillStyle(u).fillRect(p,
c,n,y)};a.prototype.circle=function(p,c,n,y){this.setFillStyle(y);this.ctx.beginPath();this.ctx.arc(p+n/2,c+n/2,n/2,0,2*Math.PI,!0);this.ctx.closePath();this.ctx.fill()};a.prototype.circleStroke=function(p,c,n,y,u,D){this.circle(p,c,n,y);this.ctx.strokeStyle=D.toString();this.ctx.stroke()};a.prototype.drawShape=function(p,c){this.shape(p);this.setFillStyle(c).fill()};a.prototype.taints=function(p){if(null===p.tainted){this.taintCtx.drawImage(p.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),p.tainted=
!1}catch(c){this.taintCtx=document.createElement("canvas").getContext("2d"),p.tainted=!0}}return p.tainted};a.prototype.drawImage=function(p,c,n,y,u,D,z,x,w){this.taints(p)&&!this.options.allowTaint||this.ctx.drawImage(p.image,c,n,y,u,D,z,x,w)};a.prototype.clip=function(p,c,n){this.ctx.save();p.filter(h).forEach(function(y){this.shape(y).clip()},this);c.call(n);this.ctx.restore()};a.prototype.shape=function(p){this.ctx.beginPath();p.forEach(function(c,n){"rect"===c[0]?this.ctx.rect.apply(this.ctx,
c.slice(1)):this.ctx[0===n?"moveTo":c[0]+"To"].apply(this.ctx,c.slice(1))},this);this.ctx.closePath();return this.ctx};a.prototype.font=function(p,c,n,y,u,D){this.setFillStyle(p).font=[c,n,y,u,D].join(" ").split(",")[0]};a.prototype.fontShadow=function(p,c,n,y){this.setVariable("shadowColor",p.toString()).setVariable("shadowOffsetY",c).setVariable("shadowOffsetX",n).setVariable("shadowBlur",y)};a.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")};a.prototype.setOpacity=
function(p){this.ctx.globalAlpha=p};a.prototype.setTransform=function(p){this.ctx.translate(p.origin[0],p.origin[1]);this.ctx.transform.apply(this.ctx,p.matrix);this.ctx.translate(-p.origin[0],-p.origin[1])};a.prototype.setVariable=function(p,c){this.variables[p]!==c&&(this.variables[p]=this.ctx[p]=c);return this};a.prototype.text=function(p,c,n){this.ctx.fillText(p,c,n)};a.prototype.backgroundRepeatShape=function(p,c,n,y,u,D,z,x,w){this.clip([[["line",Math.round(u),Math.round(D)],["line",Math.round(u+
z),Math.round(D)],["line",Math.round(u+z),Math.round(x+D)],["line",Math.round(u),Math.round(x+D)]]],function(){this.renderBackgroundRepeat(p,c,n,y,w[3],w[0])},this)};a.prototype.renderBackgroundRepeat=function(p,c,n,y,u,D){u=Math.round(y.left+c.left+u);c=Math.round(y.top+c.top+D);this.setFillStyle(this.ctx.createPattern(this.resizeImage(p,n),"repeat"));this.ctx.translate(u,c);this.ctx.fill();this.ctx.translate(-u,-c)};a.prototype.renderBackgroundGradient=function(p,c){if(p instanceof f){var n=this.ctx.createLinearGradient(c.left+
c.width*p.x0,c.top+c.height*p.y0,c.left+c.width*p.x1,c.top+c.height*p.y1);p.colorStops.forEach(function(y){n.addColorStop(y.stop,y.color.toString())});this.rectangle(c.left,c.top,c.width,c.height,n)}};a.prototype.resizeImage=function(p,c){p=p.image;if(p.width===c.width&&p.height===c.height)return p;var n=document.createElement("canvas");n.width=c.width;n.height=c.height;n.getContext("2d").drawImage(p,0,0,p.width,p.height,0,0,c.width,c.height);return n};q.exports=a},{"../lineargradientcontainer":12,
"../log":13,"../renderer":19}],21:[function(m,q,e){function a(d,f,l,p){h.call(this,l,p);this.ownStacking=d;this.contexts=[];this.children=[];this.opacity=(this.parent?this.parent.stack.opacity:1)*f}var h=m("./nodecontainer");a.prototype=Object.create(h.prototype);a.prototype.getParentStack=function(d){var f=this.parent?this.parent.stack:null;return f?f.ownStacking?f:f.getParentStack(d):d.stack};q.exports=a},{"./nodecontainer":14}],22:[function(m,q,e){function a(h){this.rangeBounds=this.testRangeBounds(h);
this.cors=this.testCORS();this.svg=this.testSVG()}a.prototype.testRangeBounds=function(h){var d=!1;if(h.createRange){var f=h.createRange();if(f.getBoundingClientRect){var l=h.createElement("boundtest");l.style.height="123px";l.style.display="block";h.body.appendChild(l);f.selectNode(l);f=f.getBoundingClientRect();f=f.height;123===f&&(d=!0);h.body.removeChild(l)}}return d};a.prototype.testCORS=function(){return"undefined"!==typeof(new Image).crossOrigin};a.prototype.testSVG=function(){var h=new Image,
d=document.createElement("canvas"),f=d.getContext("2d");h.src="data:image/svg+xml,\x3csvg xmlns\x3d'http://www.w3.org/2000/svg'\x3e\x3c/svg\x3e";try{f.drawImage(h,0,0),d.toDataURL()}catch(l){return!1}return!0};q.exports=a},{}],23:[function(m,q,e){function a(f){this.src=f;this.image=null;var l=this;this.promise=this.hasFabric().then(function(){return l.isInline(f)?Promise.resolve(l.inlineFormatting(f)):h(f)}).then(function(p){return new Promise(function(c){window.html2canvas.svg.fabric.loadSVGFromString(p,
l.createCanvas.call(l,c))})})}var h=m("./xhr"),d=m("./utils").decode64;a.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(Error("html2canvas.svg.js is not loaded, cannot render svg"))};a.prototype.inlineFormatting=function(f){return/^data:image\/svg\+xml;base64,/.test(f)?this.decode64(this.removeContentType(f)):this.removeContentType(f)};a.prototype.removeContentType=function(f){return f.replace(/^data:image\/svg\+xml(;base64)?,/,
"")};a.prototype.isInline=function(f){return/^data:image\/svg\+xml/i.test(f)};a.prototype.createCanvas=function(f){var l=this;return function(p,c){var n=new window.html2canvas.svg.fabric.StaticCanvas("c");l.image=n.lowerCanvasEl;n.setWidth(c.width).setHeight(c.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(p,c)).renderAll();f(n.lowerCanvasEl)}};a.prototype.decode64=function(f){return"function"===typeof window.atob?window.atob(f):d(f)};q.exports=a},{"./utils":26,"./xhr":28}],24:[function(m,
q,e){function a(h,d){this.src=h;this.image=null;var f=this;this.promise=d?new Promise(function(l,p){f.image=new Image;f.image.onload=l;f.image.onerror=p;f.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(h);!0===f.image.complete&&l(f.image)}):this.hasFabric().then(function(){return new Promise(function(l){window.html2canvas.svg.fabric.parseSVGDocument(h,f.createCanvas.call(f,l))})})}m=m("./svgcontainer");a.prototype=Object.create(m.prototype);q.exports=a},{"./svgcontainer":23}],
25:[function(m,q,e){function a(f,l){d.call(this,f,l)}function h(f,l,p){if(0<f.length)return l+p.toUpperCase()}var d=m("./nodecontainer");a.prototype=Object.create(d.prototype);a.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))};a.prototype.transform=function(f){var l=this.node.data;switch(f){case "lowercase":return l.toLowerCase();case "capitalize":return l.replace(/(^|\s|:|-|\(|\))([a-z])/g,h);case "uppercase":return l.toUpperCase();default:return l}};
q.exports=a},{"./nodecontainer":14}],26:[function(m,q,e){e.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"};e.bind=function(a,h){return function(){return a.apply(h,arguments)}};e.decode64=function(a){var h=a.length,d,f="";for(d=0;d<h;d+=4){var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[d]);var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[d+1]);var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[d+
2]);var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[d+3]);l=l<<2|p>>4;p=(p&15)<<4|c>>2;var y=(c&3)<<6|n;f=64===c?f+String.fromCharCode(l):64===n||-1===n?f+String.fromCharCode(l,p):f+String.fromCharCode(l,p,y)}return f};e.getBounds=function(a){if(a.getBoundingClientRect){var h=a.getBoundingClientRect(),d=null==a.offsetWidth?h.width:a.offsetWidth;return{top:h.top,bottom:h.bottom||h.top+h.height,right:h.left+d,left:h.left,width:d,height:null==a.offsetHeight?h.height:
a.offsetHeight}}return{}};e.offsetBounds=function(a){var h=a.offsetParent?e.offsetBounds(a.offsetParent):{top:0,left:0};return{top:a.offsetTop+h.top,bottom:a.offsetTop+a.offsetHeight+h.top,right:a.offsetLeft+h.left+a.offsetWidth,left:a.offsetLeft+h.left,width:a.offsetWidth,height:a.offsetHeight}};e.parseBackgrounds=function(a){var h,d,f,l,p=[],c=0,n=0,y,u=function(){z&&('"'===h.substr(0,1)&&(h=h.substr(1,h.length-2)),h&&D.push(h),"-"===z.substr(0,1)&&0<(f=z.indexOf("-",1)+1)&&(d=z.substr(0,f),z=z.substr(f)),
p.push({prefix:d,method:z.toLowerCase(),value:l,args:D,image:null}));D=[];z=d=h=l=""};var D=[];var z=d=h=l="";a.split("").forEach(function(x){if(!(0===c&&-1<" \r\n\t".indexOf(x))){switch(x){case '"':y?y===x&&(y=null):y=x;break;case "(":if(!y){if(0===c){c=1;l+=x;return}n++}break;case ")":if(!y&&1===c){if(0===n){c=0;l+=x;u();return}n--}break;case ",":if(!y){if(0===c){u();return}if(1===c&&0===n&&!z.match(/^url$/i)){D.push(h);h="";l+=x;return}}}l+=x;0===c?z+=x:h+=x}});u();return p}},{}],27:[function(m,
q,e){function a(d){h.apply(this,arguments);this.type="linear"===d.args[0]?h.TYPES.LINEAR:h.TYPES.RADIAL}var h=m("./gradientcontainer");a.prototype=Object.create(h.prototype);q.exports=a},{"./gradientcontainer":9}],28:[function(m,q,e){q.exports=function(a){return new Promise(function(h,d){var f=new XMLHttpRequest;f.open("GET",a);f.onload=function(){200===f.status?h(f.responseText):d(Error(f.statusText))};f.onerror=function(){d(Error("Network Error"))};f.send()})}},{}]},{},[4])(4)}();!0;(function(k){var m=
function(){function q(d){var f,l;this.data=d;this.pos=8;this.palette=[];this.imgData=[];this.transparency={};this.animation=null;this.text={};for(l=null;;){var p=this.readUInt32();var c=d=void 0;d=[];for(c=0;4>c;++c)d.push(String.fromCharCode(this.data[this.pos++]));d=d.join("");switch(d){case "IHDR":this.width=this.readUInt32();this.height=this.readUInt32();this.bits=this.data[this.pos++];this.colorType=this.data[this.pos++];this.compressionMethod=this.data[this.pos++];this.filterMethod=this.data[this.pos++];
this.interlaceMethod=this.data[this.pos++];break;case "acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||Infinity,frames:[]};break;case "PLTE":this.palette=this.read(p);break;case "fcTL":l&&this.animation.frames.push(l);this.pos+=4;l={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()};d=this.readUInt16();p=this.readUInt16()||100;l.delay=1E3*d/p;l.disposeOp=this.data[this.pos++];l.blendOp=this.data[this.pos++];l.data=[];
break;case "IDAT":case "fdAT":"fdAT"===d&&(this.pos+=4,p-=4);d=(null!=l?l.data:void 0)||this.imgData;for(c=0;0<=p?c<p:c>p;0<=p?++c:--c)d.push(this.data[this.pos++]);break;case "tRNS":this.transparency={};switch(this.colorType){case 3:d=this.palette.length/3;this.transparency.indexed=this.read(p);if(this.transparency.indexed.length>d)throw Error("More transparent colors than palette size");p=d-this.transparency.indexed.length;if(0<p)for(d=0;0<=p?d<p:d>p;0<=p?++d:--d)this.transparency.indexed.push(255);
break;case 0:this.transparency.grayscale=this.read(p)[0];break;case 2:this.transparency.rgb=this.read(p)}break;case "tEXt":c=this.read(p);p=c.indexOf(0);d=String.fromCharCode.apply(String,c.slice(0,p));this.text[d]=String.fromCharCode.apply(String,c.slice(p+1));break;case "IEND":l&&this.animation.frames.push(l);a:{switch(this.colorType){case 0:case 3:case 4:l=1;break a;case 2:case 6:l=3;break a}l=void 0}this.colors=l;this.hasAlphaChannel=4===(f=this.colorType)||6===f;f=this.colors+(this.hasAlphaChannel?
1:0);this.pixelBitlength=this.bits*f;a:{switch(this.colors){case 1:f="DeviceGray";break a;case 3:f="DeviceRGB";break a}f=void 0}this.colorSpace=f;this.imgData=new Uint8Array(this.imgData);return;default:this.pos+=p}this.pos+=4;if(this.pos>this.data.length)throw Error("Incomplete or corrupt PNG file");}}q.load=function(d,f,l){"function"===typeof f&&(l=f);var p=new XMLHttpRequest;p.open("GET",d,!0);p.responseType="arraybuffer";p.onload=function(){var c=new Uint8Array(p.response||p.mozResponseArrayBuffer);
c=new q(c);"function"===typeof(null!=f?f.getContext:void 0)&&c.render(f);return"function"===typeof l?l(c):void 0};return p.send(null)};q.prototype.read=function(d){var f;var l=[];for(f=0;0<=d?f<d:f>d;0<=d?++f:--f)l.push(this.data[this.pos++]);return l};q.prototype.readUInt32=function(){var d=this.data[this.pos++]<<24;var f=this.data[this.pos++]<<16;var l=this.data[this.pos++]<<8;var p=this.data[this.pos++];return d|f|l|p};q.prototype.readUInt16=function(){var d=this.data[this.pos++]<<8;var f=this.data[this.pos++];
return d|f};q.prototype.decodePixels=function(d){var f,l,p,c,n,y,u,D;null==d&&(d=this.imgData);if(0===d.length)return new Uint8Array(0);d=new T(d);d=d.getBytes();var z=this.pixelBitlength/8;var x=z*this.width;var w=new Uint8Array(x*this.height);var G=d.length;for(l=c=n=0;c<G;){switch(d[c++]){case 0:for(p=f=0;f<x;p=f+=1)w[l++]=d[c++];break;case 1:for(p=y=0;y<x;p=y+=1){f=d[c++];var Q=p<z?0:w[l-z];w[l++]=(f+Q)%256}break;case 2:for(p=Q=0;Q<x;p=Q+=1){f=d[c++];var S=(p-p%z)/z;y=n&&w[(n-1)*x+S*z+p%z];w[l++]=
(y+f)%256}break;case 3:for(p=D=0;D<x;p=D+=1)f=d[c++],S=(p-p%z)/z,Q=p<z?0:w[l-z],y=n&&w[(n-1)*x+S*z+p%z],w[l++]=(f+Math.floor((Q+y)/2))%256;break;case 4:for(p=D=0;D<x;p=D+=1){f=d[c++];S=(p-p%z)/z;Q=p<z?0:w[l-z];0===n?y=u=0:(y=w[(n-1)*x+S*z+p%z],u=S&&w[(n-1)*x+(S-1)*z+p%z]);var O=Q+y-u;p=Math.abs(O-Q);S=Math.abs(O-y);O=Math.abs(O-u);Q=p<=S&&p<=O?Q:S<=O?y:u;w[l++]=(f+Q)%256}break;default:throw Error("Invalid filter algorithm: "+d[c-1]);}n++}return w};q.prototype.decodePalette=function(){var d,f,l,p,
c;var n=this.palette;var y=this.transparency.indexed||[];var u=new Uint8Array((y.length||0)+n.length);var D=l=d=f=0;for(p=n.length;l<p;D=l+=3)u[f++]=n[D],u[f++]=n[D+1],u[f++]=n[D+2],u[f++]=null!=(c=y[d++])?c:255;return u};q.prototype.copyToImageData=function(d,f){var l,p;var c=this.colors;var n=null;var y=this.hasAlphaChannel;this.palette.length&&(n=null!=(l=this._decodedPalette)?l:this._decodedPalette=this.decodePalette(),c=4,y=!0);d=d.data||d;var u=d.length;var D=n||f;l=p=0;if(1===c)for(;l<u;)c=
n?4*f[l/4]:p,p=D[c++],d[l++]=p,d[l++]=p,d[l++]=p,d[l++]=y?D[c++]:255,p=c;else for(;l<u;)c=n?4*f[l/4]:p,d[l++]=D[c++],d[l++]=D[c++],d[l++]=D[c++],d[l++]=y?D[c++]:255,p=c};q.prototype.decode=function(){var d=new Uint8Array(this.width*this.height*4);this.copyToImageData(d,this.decodePixels());return d};try{var e=k.document.createElement("canvas");var a=e.getContext("2d")}catch(d){return-1}var h=function(d){a.width=d.width;a.height=d.height;a.clearRect(0,0,d.width,d.height);a.putImageData(d,0,0);d=new Image;
d.src=e.toDataURL();return d};q.prototype.decodeFrames=function(d){var f,l;if(this.animation){var p=this.animation.frames;var c=[];var n=f=0;for(l=p.length;f<l;n=++f){n=p[n];var y=d.createImageData(n.width,n.height);var u=this.decodePixels(new Uint8Array(n.data));this.copyToImageData(y,u);n.imageData=y;c.push(n.image=h(y))}return c}};q.prototype.renderFrame=function(d,f){var l=this.animation.frames;var p=l[f];l=l[f-1];0===f&&d.clearRect(0,0,this.width,this.height);1===(null!=l?l.disposeOp:void 0)?
d.clearRect(l.xOffset,l.yOffset,l.width,l.height):2===(null!=l?l.disposeOp:void 0)&&d.putImageData(l.imageData,l.xOffset,l.yOffset);0===p.blendOp&&d.clearRect(p.xOffset,p.yOffset,p.width,p.height);return d.drawImage(p.image,p.xOffset,p.yOffset)};q.prototype.animate=function(d){var f,l=this;var p=0;var c=this.animation;var n=c.numFrames;var y=c.frames;var u=c.numPlays;return(f=function(){var D=p++%n;var z=y[D];l.renderFrame(d,D);if(1<n&&p/n<u)return l.animation._timeout=setTimeout(f,z.delay)})()};
q.prototype.stopAnimation=function(){var d;return clearTimeout(null!=(d=this.animation)?d._timeout:void 0)};q.prototype.render=function(d){d._png&&d._png.stopAnimation();d._png=this;d.width=this.width;d.height=this.height;d=d.getContext("2d");if(this.animation)return this.decodeFrames(d),this.animate(d);var f=d.createImageData(this.width,this.height);this.copyToImageData(f,this.decodePixels());return d.putImageData(f,0,0)};return q}();k.AcroForm.PNG=m})("undefined"!==typeof window&&window||void 0);
var la=function(){function k(){this.bufferLength=this.pos=0;this.eof=!1;this.buffer=null}k.prototype={ensureBuffer:function(m){var q=this.buffer,e=q?q.byteLength:0;if(m<e)return q;for(var a=512;a<m;)a<<=1;m=new Uint8Array(a);for(a=0;a<e;++a)m[a]=q[a];return this.buffer=m},getByte:function(){for(var m=this.pos;this.bufferLength<=m;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(m){var q=this.pos;if(m){this.ensureBuffer(q+m);for(m=q+m;!this.eof&&this.bufferLength<
m;)this.readBlock();var e=this.bufferLength;m>e&&(m=e)}else{for(;!this.eof;)this.readBlock();m=this.bufferLength}this.pos=m;return this.buffer.subarray(q,m)},lookChar:function(){for(var m=this.pos;this.bufferLength<=m;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var m=this.pos;this.bufferLength<=m;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(m,q,e){for(var a=
m+q;this.bufferLength<=a&&!this.eof;)this.readBlock();return new Stream(this.buffer,m,q,e)},skip:function(m){m||(m=1);this.pos+=m},reset:function(){this.pos=0}};return k}(),T=function(){function k(f){throw Error(f);}function m(f){var l=0,p=f[l++],c=f[l++];-1!=p&&-1!=c||k("Invalid header in flate stream");8!=(p&15)&&k("Unknown compression method in flate stream");0!=((p<<8)+c)%31&&k("Bad FCHECK in flate stream");c&32&&k("FDICT bit set in flate stream");this.bytes=f;this.bytesPos=l;this.codeBuf=this.codeSize=
0;la.call(this)}if("undefined"!==typeof Uint32Array){var q=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),a=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,
868353,876545]),h=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59E4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,
524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,
589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,
589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,
590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,
524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,
589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,
589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],d=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];m.prototype=Object.create(la.prototype);m.prototype.getBits=function(f){for(var l=this.codeSize,p=this.codeBuf,c=this.bytes,n=this.bytesPos,y;l<f;)"undefined"==typeof(y=
c[n++])&&k("Bad encoding in flate stream"),p|=y<<l,l+=8;this.codeBuf=p>>f;this.codeSize=l-=f;this.bytesPos=n;return p&(1<<f)-1};m.prototype.getCode=function(f){var l=f[0],p=f[1];f=this.codeSize;for(var c=this.codeBuf,n=this.bytes,y=this.bytesPos;f<p;){var u;"undefined"==typeof(u=n[y++])&&k("Bad encoding in flate stream");c|=u<<f;f+=8}p=l[c&(1<<p)-1];l=p>>16;p&=65535;(0==f||f<l||0==l)&&k("Bad encoding in flate stream");this.codeBuf=c>>l;this.codeSize=f-l;this.bytesPos=y;return p};m.prototype.generateHuffmanTable=
function(f){for(var l=f.length,p=0,c=0;c<l;++c)f[c]>p&&(p=f[c]);for(var n=1<<p,y=new Uint32Array(n),u=1,D=0,z=2;u<=p;++u,D<<=1,z<<=1)for(var x=0;x<l;++x)if(f[x]==u){var w=0,G=D;for(c=0;c<u;++c)w=w<<1|G&1,G>>=1;for(c=w;c<n;c+=z)y[c]=u<<16|x;++D}return[y,p]};m.prototype.readBlock=function(){function f(w,G,Q,S,O){for(w=w.getBits(Q)+S;0<w--;)G[D++]=O}var l=this.getBits(3);l&1&&(this.eof=!0);l>>=1;if(0==l){var p=this.bytes,c=this.bytesPos,n;"undefined"==typeof(n=p[c++])&&k("Bad block header in flate stream");
var y=n;"undefined"==typeof(n=p[c++])&&k("Bad block header in flate stream");y|=n<<8;"undefined"==typeof(n=p[c++])&&k("Bad block header in flate stream");l=n;"undefined"==typeof(n=p[c++])&&k("Bad block header in flate stream");(l|n<<8)!=(~y&65535)&&k("Bad uncompressed block length in flate stream");this.codeSize=this.codeBuf=0;n=this.bufferLength;l=this.ensureBuffer(n+y);this.bufferLength=y=n+y;for(var u=n;u<y;++u){if("undefined"==typeof(n=p[c++])){this.eof=!0;break}l[u]=n}this.bytesPos=c}else{if(1==
l)c=h,n=d;else if(2==l){l=this.getBits(5)+257;n=this.getBits(5)+1;p=this.getBits(4)+4;c=Array(q.length);for(var D=0;D<p;)c[q[D++]]=this.getBits(3);c=this.generateHuffmanTable(c);D=p=0;n=l+n;for(y=Array(n);D<n;)u=this.getCode(c),16==u?f(this,y,2,3,p):17==u?f(this,y,3,3,p=0):18==u?f(this,y,7,11,p=0):y[D++]=p=u;c=this.generateHuffmanTable(y.slice(0,l));n=this.generateHuffmanTable(y.slice(l,n))}else k("Unknown block type in flate stream");y=(l=this.buffer)?l.length:0;for(u=this.bufferLength;;){var z=
this.getCode(c);if(256>z)u+1>=y&&(l=this.ensureBuffer(u+1),y=l.length),l[u++]=z;else{if(256==z){this.bufferLength=u;break}z-=257;z=e[z];var x=z>>16;0<x&&(x=this.getBits(x));p=(z&65535)+x;z=this.getCode(n);z=a[z];x=z>>16;0<x&&(x=this.getBits(x));z=(z&65535)+x;u+p>=y&&(l=this.ensureBuffer(u+p),y=l.length);for(x=0;x<p;++x,++u)l[u]=l[u-z]}}}};return m}}();String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/,"")});String.prototype.trimRight||(String.prototype.trimRight=
function(){return this.replace(/\s\s*$/,"")});return N}})})},"widgets/PublicNotification/Download_CSV":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/Deferred"],function(xa,sa,ha){return sa(null,{save:function(ia,U){var N=new ha;ia=xa.map(ia,function(F){return'"'+F.join('","')+'"\n'});U=this._createAndSaveCSV(ia,U);N.resolve(U);return N},_createAndSaveCSV:function(ia,U){ia=new Blob(ia,{type:"text/csv"});if(U)if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(ia,U+".csv");
else{var N=window.document.createElement("a");N.href=window.URL.createObjectURL(ia);N.download=U+".csv";document.body.appendChild(N);N.click();document.body.removeChild(N);window.URL.revokeObjectURL(ia)}return ia}})})},"widgets/PublicNotification/Highlighter":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/Deferred esri/graphic esri/symbols/SimpleFillSymbol esri/symbols/SimpleLineSymbol esri/symbols/SimpleMarkerSymbol".split(" "),function(xa,sa,ha,ia,U,N,F,ja){return sa([],
{constructor:function(ca){this._drawingChunkSize="number"===typeof ca?ca:100},createGraphic:function(ca,la){function T(a,h){var d;a.getLayer&&(d=a.getLayer())&&(a=a.getLayer()._getSymbol(a),!a||isNaN(a.width)||isNaN(a.height)||(h=1+Math.max(a.width,a.height)));return h}var k=null,m=10;if(ca)if(ca.geometry){var q=ca.geometry;var e=q.type}else if(q=ca,q.hasOwnProperty("x")&&q.hasOwnProperty("y"))e="point";else if(q.hasOwnProperty("paths"))e="polyline";else if(q.hasOwnProperty("rings"))e="polygon";else if(q.hasOwnProperty("points"))e=
"multipoint";else return null;else return null;switch(e){case "point":if(isNaN(q.x)||isNaN(q.y))return null;m=T(ca,m);k=new U(q,new ja(ja.STYLE_SQUARE,m,new F(F.STYLE_SOLID,la.point.lineColor,la.point.lineWidth),la.point.fillColor));break;case "polyline":k=new U(q,new F(F.STYLE_SOLID,la.line.lineColor,la.line.lineWidth));break;case "polygon":k=new U(q,new N(N.STYLE_SOLID,new F(F.STYLE_SOLID,la.polygon.lineColor,la.polygon.lineWidth),la.polygon.fillColor));break;case "multipoint":m=T(ca,m),k=new U(q,
new ja(ja.STYLE_SQUARE,m,new F(F.STYLE_SOLID,la.point.lineColor,la.point.lineWidth),la.point.fillColor))}return k},highlightFeatures:function(ca,la,T,k,m){var q=new ia;if(0<ca.length)if(ca.length<=this._drawingChunkSize)this._highlightFeatures(ca,la,T,k).then(function(){q.resolve(!0)});else{m(0);var e=Math.ceil(ca.length/this._drawingChunkSize);setTimeout(ha.hitch(this,function(){this._highlightFeaturesContinuation(ca,la,T,k,m,this._drawingChunkSize,e,0,0).then(function(){q.resolve(!0)})}),50)}else q.resolve(!0);
return q},_highlightFeaturesContinuation:function(ca,la,T,k,m,q,e,a,h){var d=new ia;if(h>=ca.length)return d.resolve(!0),d;var f=Math.min(h+q,ca.length);this._highlightFeatures(ca.slice(h,f),la,T,k).then(ha.hitch(this,function(){++a;m(100*a/e);setTimeout(ha.hitch(this,function(){this._highlightFeaturesContinuation(ca,la,T,k,m,this._drawingChunkSize,e,a,f).then(function(){d.resolve(!0)})}),10)}));return d},_highlightFeatures:function(ca,la,T,k){var m=new ia;xa.forEach(ca,function(q){la(q,T,k)},this);
m.resolve(!0);return m}})})},"widgets/PublicNotification/labelFormatUtils":function(){define("dojo/_base/array dojo/_base/kernel dojo/_base/lang dojo/Deferred dojo/promise/all esri/arcade/arcade esri/arcade/Feature esri/support/expressionUtils esri/arcadeProfiles/utils esri/graphic ./generalUtils".split(" "),function(xa,sa,ha,ia,U,N,F,ja,ca,la,T){var k={convertPopupToLabelSpec:function(m){var q=[];var e=m.description;var a=m.fieldInfos;var h=m.expressionInfos;m=T.sanitizeNoTags(k.convertBreaksToEOLs(k.convertEndParasToEOLs(e))).trim();
m=m.replace(/\{/gi,"${");m=m.replace(/\u00a0/gi," ");m=m.split("\n");m=xa.map(m,function(d){var f="";d=d.replace(/\{([^}]+)\}/g,function(l,p){var c;xa.some(a,function(n){if(n.fieldName.toLowerCase()===p.toLowerCase()){c=n.fieldName;var y=n.label||n.fieldName;if(!n.hasOwnProperty("label")&&h)for(n=0;n<h.length;n++)y==="expression/"+h[n].name&&(y=h[n].title);f=""===f?y:f+" "+y;return!0}});return c?p?"{"+c+"}":l:p?"{"+p+"}":l});q.push(f);return d.trim()});m.csvHeaderRow=q;return m},createLabelsFromFeatures:function(m,
q,e,a){var h=new ia,d=[],f=[],l=0;k.layer=e;k.map=a;k.expressionInfos=q.expressionInfos;if(q.relationships)xa.forEach(m,function(c){k.objEach(q.relationships,function(n,y){var u=new ia,D=n.relatedQuery;f.push(u);var z=c.attributes[n.operLayer.layerObject.objectIdField];D.objectIds=[z];n.operLayer.layerObject.queryRelatedFeatures(D,function(x){var w=[];x[z]&&x[z].features&&(x=x[z].features,xa.forEach(x,function(G){var Q;var S=c.attributes;var O="relationships/"+y+"/";k.objEach(G.attributes,function(M,
E){Q=O+E;S[Q]=M});G=new la(c.geometry,null,S);w.push(k.populateLabelLines(G,q))}));U(w).then(function(G){u.resolve(G)})})})}),U(f).then(function(c){xa.forEach(c,function(n){xa.forEach(n,function(y){++l;d.push(y)})});console.log(l+" related address features found");h.resolve(d)});else{var p=[];xa.forEach(m,function(c){p.push(k.populateLabelLines(c,q))});U(p).then(function(c){h.resolve(c)})}return h},populateLabelLines:function(m,q){var e=new ia,a=[];k.combineFeatureAttributesAndExpressionResolutions(m,
q.parsedExpressions).then(function(h){xa.forEach(q,function(d){a.push(k.substitute(d,h,k.useEmptyStringForNull))});e.resolve(a)});return e.promise},substitute:function(m,q,e){var a=sa.global;e=e?ha.hitch(a,e):function(h){return h};return m.replace(/\$\{([^\s:\}]*)(?::([^\s:\}]+))?\}/g,function(h,d){if(""===d)return"$";h=e(q[d],d);if("undefined"===typeof h)throw Error('string.substitute could not find key "'+d+'" in template');return h.toString()})},parseArcadeExpressions:function(m){if(Array.isArray(m)&&
0<m.length){var q={};xa.forEach(m,function(e){q[e.name]=N.parseScript(e.expression)})}return q},initArcadeContext:function(m){var q=null,e=null,a=null,h=null;k.expressionInfos&&(a=k.expressionInfos);k.map&&(e=k.map);k.layer&&k.layer.layerObject&&(q=k.layer.layerObject);m&&m.geometry&&m.geometry.spatialReference&&(h=m.geometry.spatialReference);return k.getEvalOptions({expression:a,feature:m,layer:q,map:e,sr:h}).context},getEvalOptions:function(m){var q=m.feature,e=m.layer,a=m.map;m=m.spatialReference;
q=q?F.createFromGraphicLikeObject(q.geometry,q.attributes,e):null;if(e){var h={spatialReference:m};var d=e.getMap()?ja.createFeatureSetFromLayer(e,h):ja.createFeatureSetFromLayerUrl(e.url,h);h=(e=ca.getServiceUrl(e.url))?ja.createFeatureSetCollectionFromServiceUrl(e,h):null}a=a?ja.createFeatureSetCollectionFromMap(a):null;return{context:{vars:{$feature:q,$layer:d,$datastore:h,$map:a},spatialReference:m}}},combineFeatureAttributesAndExpressionResolutions:function(m,q){var e=new ia,a=[],h;var d=ha.mixin({},
m.attributes);if(q){m=k.initArcadeContext(m);for(h in q)a.push(k.executeArcadeExpression(h,q[h],m,d));U(a).then(function(){e.resolve(d)})}else e.resolve(d);return e.promise},executeArcadeExpression:function(m,q,e,a){var h=new ia;(q=N.executeScript(q,e))&&q.then?q.then(function(d){a["expression/"+m]=d?d.toString():"";h.resolve(d)},function(d){a["expression/"+m]=d?d.toString():"";h.resolve(d)}):(a["expression/"+m]=q?q.toString():"",h.resolve(q));return h.promise},convertEndParasToEOLs:function(m){var q=
m;m=m.match(/<\/p>/gi);xa.forEach(m,function(e){q=q.replace(e,"\n")});return q},convertBreaksToEOLs:function(m){var q=m;m=m.match(/<br\s*\/?>/gi);xa.forEach(m,function(e){q=q.replace(e,"\n")});return q},useEmptyStringForNull:function(m){return m?m:""},objEach:function(m,q,e){for(var a in m)m.hasOwnProperty(a)&&q.call(e,m[a],a)}};return k})},"widgets/PublicNotification/generalUtils":function(){define(["jimu/utils"],function(xa){return{sanitizeNoTags:function(sa){if(!sa)return sa;var ha=xa.sanitizeHTML(sa);
sa=/<(?:!--(?:(?:-*[^->])*--+|-?)|script\b(?:[^"'>]|"[^"]*"|'[^']*')*>[\s\S]*?<\/script\s*|style\b(?:[^"'>]|"[^"]*"|'[^']*')*>[\s\S]*?<\/style\s*|\/?[a-z](?:[^"'>]|"[^"]*"|'[^']*')*)>/gi;do{var ia=ha;ha=ha.replace(sa,"")}while(ha!==ia);return ha=ha.replace(/</g,"\x26lt;").trim()}}})},"widgets/PublicNotification/Queryer":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/DeferredList esri/geometry/geometryEngineAsync esri/tasks/BufferParameters esri/tasks/GeometryService esri/tasks/query esri/tasks/QueryTask".split(" "),
function(xa,sa,ha,ia,U,N,F,ja,ca,la){return sa([],{constructor:function(T,k){this.map=T;this._geometryService=new ja(k)},createUnionOfGeometries:function(T){var k=new ia;if(!Array.isArray(T))return k.reject("No geometries to buffer"),k;N.union(T).then(ha.hitch(this,function(m){m?k.resolve(m):k.reject("Unioning failed")}),ha.hitch(this,function(){k.reject("Unioning failed")}));return k},bufferGeometries:function(T,k){var m=new ia;if(!Array.isArray(T))return m.reject("No geometries to buffer"),m;var q=
new F;q.bufferSpatialReference=this.map.spatialReference;q.distances=k;q.unionResults=!0;q.geodesic=!0;q.geometries=T;q.outSpatialReference=this.map.spatialReference;q.unit=ja.UNIT_METER;this._geometryService.buffer(q,function(e){Array.isArray(e)&&0<e.length?m.resolve(e[0]):m.reject("Buffering failed")},function(e){m.reject("Buffering failed: "+e)});return m},groupGeometriesByType:function(T){var k=[],m=[],q=[],e=[],a=[],h=new ia;0<T.length?(xa.forEach(T,ha.hitch(this,function(d){"point"===d.type?
(k.push(d),e.push(.2)):"polyline"===d.type?(m.push(d),a.push(.2)):"polygon"===d.type&&q.push(d)})),T=[],0<k.length&&T.push(this.bufferGeometries(k,e)),0<m.length&&T.push(this.bufferGeometries(m,a)),0<T.length?(new U(T)).then(ha.hitch(this,function(d){if(0<d.length){for(var f=0;f<d.length;f++)q.push(d[f][1]);h.resolve(q)}}),function(d){h.reject("Buffering point/line geometires failed: "+d)}):h.resolve(q)):h.resolve(T);return h},createBufferFromGeometries:function(T,k){var m,q;var e=new ia;if(!Array.isArray(T)||
0>=T.length)return e.reject("No geometries to buffer"),e;this.groupGeometriesByType(T).then(ha.hitch(this,function(a){m=k;N.union(a).then(ha.hitch(this,function(h){h?0<m||"polygon"===h.type?(0===m&&(m=-.1),q=new F,q.bufferSpatialReference=this.map.spatialReference,q.distances=[m],q.geodesic=!0,q.geometries=[h],q.outSpatialReference=this.map.spatialReference,q.unit=ja.UNIT_METER,this._geometryService.buffer(q,function(d){Array.isArray(d)&&0<d.length?e.resolve(d[0]):e.reject("Buffering failed")},function(d){e.reject("Buffering failed: "+
d)})):e.resolve(h):e.reject("Unioning failed")}),function(h){e.reject(h)})}));return e},findIntersectingFeatures:function(T,k,m,q,e){var a=new ia,h={};k=new la(k);var d=new ca;T&&(d.geometry=T);d.returnGeometry=!0;d.outFields=m;q&&(d.where=q);e&&(d.outSpatialReference=e);k.execute(d,ha.hitch(this,function(f){f&&Array.isArray(f.features)&&0<f.features.length?N.union(this._getFeatureGeometries(f.features)).then(ha.hitch(this,function(l){if(Array.isArray(l.rings)&&0<l.rings.length){var p=new F;p.bufferSpatialReference=
this.map.spatialReference;p.distances=[-.1];p.geodesic=!0;p.geometries=[l];p.outSpatialReference=this.map.spatialReference;p.unit=ja.UNIT_METER;this._geometryService.buffer(p,function(c){Array.isArray(c)&&0<c.length?(h.intersectGeometry=T,h.features=f.features,h.highlight=c[0],a.resolve(h)):a.reject("Buffering union failed")})}else h.intersectGeometry=T,h.features=f.features,h.highlight=l,a.resolve(h)})):(h.intersectGeometry=T,h.features=[],h.highlight=null,a.resolve(h))}),function(f){a.reject(f)});
return a},find:function(T,k,m,q,e){var a=new ia;this.findIntersectingFeatures(T,k,m,e).then(ha.hitch(this,function(h){console.log(h.features.length+" "+q+" features found");a.resolve(h)}),function(h){a.reject(h)});return a},_getFeatureGeometries:function(T){return xa.map(T,ha.hitch(this,function(k){return k.geometry}))}})})},"widgets/PublicNotification/SearchLayers":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/on dojo/when dojo/promise/all jimu/BaseWidget jimu/portalUtils jimu/utils esri/lang esri/request esri/dijit/Search esri/tasks/locator esri/layers/FeatureLayer esri/InfoTemplate".split(" "),
function(xa,sa,ha,ia,U,N,F,ja,ca,la,T,k,m,q,e,a){return xa([ja],{baseClass:"jimu-search-layers",declaredClass:"jimu.dijit.SearchLayers",_searchDijitReady:null,_searchDijit:null,_layerInfosObj:null,_esriLocatorRegExp:/geocode(.){0,3}\.arcgis.com\/arcgis\/rest\/services\/World\/GeocodeServer/g,_mainWidgetNode:null,constructor:function(h,d,f,l,p){this._mainWidgetNode=p;this._searchDijitReady=new ia;this._layerInfosObj=f;this.own(f.on("layerInfosFilterChanged",sa.hitch(this,this._onLayerInfosFilterChanged)));
N(this._getConfigInfo(h,d)).then(sa.hitch(this,function(c){return F(this._convertConfig(c)).then(function(n){return ha.filter(n,function(y){return y})})})).then(sa.hitch(this,function(c){h.sources=c;this._searchDijit=new m(h,l);this._searchDijit.startup();this.setFocus();this._searchDijitReady.resolve(this._searchDijit)}))},searchDijit:function(){return this._searchDijitReady},setFocus:function(){this._searchDijit&&(this._mainWidgetNode.openAtStartAysn=!0,la.isAutoFocusFirstNodeWidget(this._mainWidgetNode)&&
this._searchDijit.inputNode.focus())},destroy:function(){this._searchDijit&&(this._searchDijit.destroy(),this._searchDijit=null);this.inherited(arguments)},_onLayerInfosFilterChanged:function(h){ha.some(h,sa.hitch(this,function(d){this._searchDijit&&this._searchDijit.sources&&0<this._searchDijit.sources.length&&ha.forEach(this._searchDijit.sources,function(f){f._featureLayerId===d.id&&f.featureLayer.setDefinitionExpression(d.getFilter())})}))},_getConfigInfo:function(h,d){return h&&h.sources&&0<h.sources.length?
(d=null,this._searchLayer(h.map)&&h.upgradeFromGeocoder?(d=h.map.itemInfo.itemData.applicationProperties.viewing.search,d=ha.map(d.layers,sa.hitch(this,function(f,l){l.hintText=f;return this._getQueryTypeGeocoder(h.map,l)},d.hintText)),F(d).then(sa.hitch(this,function(f){h.sources=[].concat(f).concat(h.sources);return h}))):h):N(this._getSourcesFromPortalAndWebmap(h.map,d)).then(sa.hitch(this,function(f){return{allPlaceholder:"",showInfoWindowOnSelect:!1,sources:f}}))},_convertConfig:function(h){return ha.map(h.sources,
sa.hitch(this,function(d){var f=new ia;if(d&&d.url&&"locator"===d.type){var l={locator:new q(d.url||""),outFields:["*"],singleLineFieldName:d.singleLineFieldName||"",name:la.stripHTML(d.name||""),placeholder:la.stripHTML(d.placeholder||""),countryCode:d.countryCode||"",maxSuggestions:d.maxSuggestions,maxResults:d.maxResults||6,zoomScale:d.zoomScale||5E4,useMapExtent:!!d.searchInCurrentMapExtent};d.enableLocalSearch&&(l.localSearchOptions={minScale:d.localSearchMinScale,distance:d.localSearchDistance});
f.resolve(l)}else d&&d.url&&"query"===d.type?(l=new e(d.url||null,{outFields:["*"]}),this.own(U(l,"load",sa.hitch(this,function(p){var c=p.layer,n=this._getInfoTemplate(c,d,d.displayField),y=null;d.searchFields&&0<d.searchFields.length?y=d.searchFields:(y=[],ha.forEach(c.fields,function(u){"esriFieldTypeOID"!==u.type&&u.name!==c.objectIdField&&"esriFieldTypeGeometry"!==u.type&&y.push(u.name)}));p={featureLayer:c,outFields:["*"],searchFields:y,displayField:d.displayField||"",exactMatch:!!d.exactMatch,
name:la.stripHTML(d.name||""),placeholder:la.stripHTML(d.placeholder||""),maxSuggestions:d.maxSuggestions||6,maxResults:d.maxResults||6,zoomScale:d.zoomScale||5E4,infoTemplate:n,useMapExtent:!!d.searchInCurrentMapExtent,_featureLayerId:d.layerId,enableHighlight:!0,showInfoWindowOnSelect:h.showInfoWindowOnSelect,enableInfoWindow:h.showInfoWindowOnSelect};n||delete p.infoTemplate;p._featureLayerId&&(n=this._layerInfosObj.getLayerInfoById(p._featureLayerId),c.setDefinitionExpression(n.getFilter()));
f.resolve(p)}))),this.own(U(l,"error",function(){f.resolve(null)}))):f.resolve(null);return f}))},_getInfoTemplate:function(h,d,f){var l=this._layerInfosObj.getLayerInfoById(d.layerId),p=l&&l.getInfoTemplate(),c=l&&p;if(l&&!c)return null;c||(p=new a,p.setTitle("\x26nbsp;"),p.setContent(sa.hitch(this,"_formatContent",d.name,h,f)));return p},_getSourcesFromPortalAndWebmap:function(h,d){var f=[],l=null;this._searchLayer(h)&&(l=h.itemInfo.itemData.applicationProperties.viewing.search,ha.forEach(l.layers,
sa.hitch(this,function(p,c){c.hintText=p;f.push(this._getQueryTypeGeocoder(h,c))},l.hintText)));return ca.getPortalSelfInfo(d).then(sa.hitch(this,function(p){if((p=p.helperServices&&p.helperServices.geocode)&&0<p.length)for(var c=0,n=p.length;c<n;c++){var y=p[c];y&&f.push(this._processSingleLine(y))}return F(f).then(sa.hitch(this,function(u){for(var D=[],z=0;z<u.length;z++){var x=u[z];x&&(x&&"query"===x.type?D.push(x):(x={name:x.name||this._getGeocodeName(x.url),url:x.url,singleLineFieldName:x.singleLineFieldName,
placeholder:x.placeholder||x.name||this._getGeocodeName(x.url),maxResults:6,searchInCurrentMapExtent:!1,type:"locator"},x.enableLocalSearch=this._isEsriLocator(x.url),x.localSearchMinScale=3E5,x.localSearchDistance=5E4,D.push(x)))}return D}))}))},_getQueryTypeGeocoder:function(h,d){h=h.getLayer(d.id);var f=null,l=null,p=null;p=T.isDefined(d.subLayer)?d.id+"_"+d.subLayer:d.id;f=this._layerInfosObj.traversal(function(c){return c.id===p?(l=c,!0):!1});return h&&f&&l?(f=T.isDefined(d.subLayer)?l.url||
h.url+"/"+d.subLayer:l.url||h.url,{name:l.title,layerId:p,url:f,placeholder:d.hintText,searchFields:[d.field.name],displayField:d.field.name,exactMatch:d.field.exactMatch||!1,maxResults:6,searchInCurrentMapExtent:!1,type:"query"}):null},_isEsriLocator:function(h){this._esriLocatorRegExp.lastIndex=0;return this._esriLocatorRegExp.test(h)},_processSingleLine:function(h){if(h.singleLineFieldName)return h;if(this._isEsriLocator(h.url))return h.singleLineFieldName="SingleLine",h;var d=new ia;k({url:h.url,
content:{f:"json"},handleAs:"json",callbackParamName:"callback"}).then(sa.hitch(this,function(f){f.singleLineAddressField&&f.singleLineAddressField.name?(h.singleLineFieldName=f.singleLineAddressField.name,d.resolve(h)):(console.warn(h.url+"has no singleLineFieldName"),d.resolve(null))}),sa.hitch(this,function(f){console.error(f);d.resolve(null)}));return d.promise},_getGeocodeName:function(h){if("string"!==typeof h)return"geocoder";h=h.split("/");return h[h.length-2]||"geocoder"},_getGeocoderName:function(h){return this._getGeocodeName(h)},
_hasAppSearchInfo:function(h){return h.itemInfo&&h.itemInfo.itemData&&h.itemInfo.itemData.applicationProperties&&h.itemInfo.itemData.applicationProperties.viewing&&h.itemInfo.itemData.applicationProperties.viewing.search},_searchLayer:function(h){if(!this._hasAppSearchInfo(h))return!1;h=h.itemInfo.itemData.applicationProperties.viewing.search;return h.enabled&&0!==h.layers.length?!0:!1}})})},"esri/dijit/Search":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Evented dojo/Deferred dojo/keys dojo/on dojo/query dojo/uacss dojo/regexp dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-style dojo/dom-construct dojo/date/locale dojo/i18n!../nls/jsapi dojo/text!./Search/templates/Search.html dijit/_WidgetBase dijit/_TemplatedMixin dijit/_FocusMixin dijit/a11yclick dijit/focus ../lang ../InfoTemplate ../kernel ../SpatialReference ../graphic ../promiseList ../symbols/PictureMarkerSymbol ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../symbols/TextSymbol ../symbols/Font ../geometry/Point ../geometry/Extent ../geometry/normalizeUtils ../geometry/scaleUtils ../tasks/locator ../tasks/query ../Color ../styles/basic".split(" "),
function(xa,sa,ha,ia,U,N,F,ja,ca,la,T,k,m,q,e,a,h,d,f,l,p,c,n,y,u,D,z,x,w,G,Q,S,O,M,E,B,P,V,W,Y,ma,da,Aa,qa){function Ca(t,v){t&&v&&(t._layer=v,t._sourceLayer=v)}sa=sa([l,p,c,U],{declaredClass:"esri.dijit.Search",templateString:f,reHostedFS:/https?:\/\/services.*\.arcgis\.com/i,constructor:function(t,v){this.css={searchGroup:"searchGroup",searchInput:"searchInput",searchInputGroup:"searchInputGroup",searchBtn:"searchBtn",searchSubmit:"searchSubmit",searchIcon:"searchIcon esri-icon-search",searchButtonText:"searchButtonText",
searchToggle:"searchToggle",searchToggleIcon:"searchIcon esri-icon-down-arrow",searchMenu:"searchMenu",searchMenuHeader:"menuHeader",searchClear:"searchClear",searchClearIcon:"searchIcon esri-icon-close searchClose",searchSpinner:"searchIcon esri-icon-loading-indicator searchSpinner",searchSourceName:"sourceName",suggestionsMenu:"suggestionsMenu",sourcesMenu:"sourcesMenu",activeSource:"active",hasValue:"hasValue",hasButtonMode:"hasButtonMode",hasMultipleSources:"hasMultipleSources",showSuggestions:"showSuggestions",
showSources:"showSources",showNoResults:"showNoResults",searchLoading:"searchLoading",latLonHeader:"searchLatLongHeader",searchMoreResults:"moreResults",searchMoreResultsList:"resultsList",searchMoreResultsHeader:"moreHeader",searchMoreResultsItem:"moreItem",searchMoreResultsListHeader:"popupHeader",searchShowMoreResults:"showMoreResults",searchNoResultsMenu:"noResultsMenu",searchNoResultsBody:"noResultsBody",searchNoResultsHeader:"noResultsHeader",searchNoValueIcon:"noValueIcon esri-icon-notice-triangle",
searchNoValueText:"noValueText",searchNoResultsText:"noResultsText",searchExpandContainer:"searchExpandContainer",searchAnimateContainer:"searchAnimate",searchExpanded:"searchExpanded",searchCollapsed:"searchCollapsed",searchClearFloat:"searchClearFloat"};this._allIndex="all";this._objectIdIdentifier="_objectId";this._deferreds=[];this._sourceNames=[];this.defaultSource={locator:new ma("//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer"),singleLineFieldName:"SingleLine",outFields:["Addr_type",
"Match_addr","StAddr","City"],name:d.widgets.Search.main.esriLocatorName,localSearchOptions:{minScale:3E5,distance:5E4},placeholder:d.widgets.Search.main.placeholder,highlightSymbol:(new Q(xa.toUrl("./Search/images/search-pointer.png"),36,36)).setOffset(9,18)};this.options={map:null,theme:"arcgisSearch",visible:!0,value:"",allPlaceholder:"",sources:[this.defaultSource],activeSourceIndex:0,suggestionDelay:150,enableSourcesMenu:!0,enableSuggestionsMenu:!0,enableInfoWindow:!0,showInfoWindowOnSelect:!0,
enableSuggestions:!0,enableButtonMode:!1,autoNavigate:!0,autoSelect:!0,addLayersFromMap:!1,zoomScale:1E3,graphicsLayer:null,enableHighlight:!0,highlightGraphic:null,enableLabel:!1,labelSymbol:(new E).setColor(new Aa([181,56,46,.9])).setFont(new B("14px",B.STYLE_NORMAL,B.VARIANT_NORMAL,B.WEIGHT_BOLD,"Arial")),labelGraphic:null,infoTemplate:new D(d.widgets.Search.main.searchResult,'\x3cdiv class\x3d"${searchTheme}"\x3e\x3cdiv id\x3d"${searchMoreResultsId}" class\x3d"${searchMoreResults}"\x3e\x3cdiv class\x3d"${searchMoreResultsItem}"\x3e${searchResult}\x3c/div\x3e\x3cdiv\x3e${searchMoreResultsHtml}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),
searchResults:null,suggestResults:null,selectedResult:null,magicKey:null,selectedFeatureId:null,expanded:!1,maxLength:128,maxResults:6,maxSuggestions:6,locationToAddressDistance:1500,minCharacters:3,enableSearchingAll:!0};t=ha.mixin({},this.options,t);this.set(t);this._updateActiveSource();this._i18n=d;this._defaultSR=new x(4326);this.domNode=v},startup:function(){this.inherited(arguments);this.sources||(this.sources=[]);this._mapLoaded().then(ha.hitch(this,this._init))},postCreate:function(){var t=
this;this.inherited(arguments);this._moreResultsId=this.id+"_more_results";this.own(ja(this.submitNode,n,ha.hitch(this,this._searchButton)));this.own(ja(this.sourcesBtnNode,n,ha.hitch(this,this._toggleSourcesMenu)));this.own(ja(this.inputNode,n,ha.hitch(this,this._inputClick)));this.own(ja(this.clearNode,n,ha.hitch(this,this._clearButton)));this.own(ja(this.formNode,"submit",ha.hitch(this,function(v){v.preventDefault();this._cancelSuggest();this.search()})));this.own(ja(this.inputNode,"keyup",ha.hitch(this,
function(v){this._inputKey(v)})));this.own(ja(this.sourcesBtnNode,"keyup",ha.hitch(this,function(v){this._sourceBtnKey(v)})));this.own(ja(this.suggestionsNode,"li:click, li:keyup",function(v){t._suggestionsEvent(v,this)}));this.own(ja(this.sourcesNode,"li:click, li:keyup",function(v){t._sourcesEvent(v,this)}));this.own(ja(this.inputNode,"input, paste",ha.hitch(this,function(){this._suggestDelay()})));this.map&&this.map.infoWindow&&this.map.infoWindow.domNode&&this.enableInfoWindow&&(this.own(ja(this.map.infoWindow.domNode,
"#"+this._moreResultsId+"_show:click",ha.hitch(this,function(v){this._showMoreResultsClick(v)}))),this.own(ja(this.map.infoWindow.domNode,"#"+this._moreResultsId+"_list li a:click",ha.hitch(this,function(v){this._moreResultsClick(v)}))),this.own(ja(this.map.infoWindow.domNode,"#"+this._moreResultsId+" [data-switch-coordinates]:click",ha.hitch(this,function(v){this._switchCoordinatesClick(v)}))));this.value&&this._checkStatus();this._hideMenus();this._updateVisible();this._insertSources(this.sources);
this._setPlaceholder(this.activeSourceIndex);this._updateButtonMode(this.enableButtonMode);this.toggle(this.expanded)},destroy:function(){this.clear();a.empty(this.domNode);this.inherited(arguments)},clear:function(){this.clearGraphics();m.get(this.inputNode,"value")&&m.set(this.inputNode,"value","");this._changeAttrValue("value","");this.set("searchResults",null);this.set("suggestResults",null);this.set("selectedResult",null);this.set("magicKey",null);this.set("selectedFeatureId",null);q.remove(this.containerNode,
this.css.hasValue);m.set(this.clearNode,"title","");this._hideMenus();this._closePopup();this._hideLoading();this.emit("clear-search")},show:function(){e.set(this.domNode,"display","block")},hide:function(){e.set(this.domNode,"display","none")},expand:function(){this.enableButtonMode&&(q.add(this.containerNode,this.css.searchExpanded),q.remove(this.containerNode,this.css.searchCollapsed),this._hideMenus(),this.set("expanded",!0))},collapse:function(){this.enableButtonMode&&(q.remove(this.containerNode,
this.css.searchExpanded),q.add(this.containerNode,this.css.searchCollapsed),this._hideMenus(),this.set("expanded",!1))},toggle:function(t){this.enableButtonMode&&("undefined"===typeof t&&(t=!this.expanded),t?this.expand():this.collapse())},search:function(t){var v=new N;this._mapLoaded().then(ha.hitch(this,function(){this._searchDeferred(t).then(ha.hitch(this,function(H){var C=H.results;this.set("searchResults",C);0===H.numResults&&(this._noResults(H.value),this._showNoResultsMenu());this._hideLoading();
this.emit("search-results",H);this._selectFirstResult(C,H.activeSourceIndex);v.resolve(C)}),ha.hitch(this,function(H){v.reject(H)}))}));return v.promise},suggest:function(t){var v=new N;this._mapLoaded().then(ha.hitch(this,function(){this._suggestDeferred(t).then(ha.hitch(this,function(H){if(H){var C=H.results;this.set("suggestResults",C);this._insertSuggestions(C,H.value);this.emit("suggest-results",H);v.resolve(C)}}),ha.hitch(this,function(H){v.reject(H)}))}));return v.promise},select:function(t){var v=
this._getDefaultSymbol(t),H=this.labelSymbol,C=this.sources,J=this.activeSourceIndex,R=this.enableHighlight,oa=this.enableLabel,aa=this.autoNavigate,ua=this.showInfoWindowOnSelect,A=this.enableInfoWindow,K=this.infoTemplate,L=t.feature?new w(t.feature.toJson()):null,ba=L?t.feature._sourceLayer:null;Ca(L,ba);if(J===this._allIndex){var ea=this._getSourceIndexOfResult(t);if(null!==ea){var Z=C[ea];J=ea}}else Z=C[J];Z&&(Z.hasOwnProperty("highlightSymbol")&&(v=Z.highlightSymbol),Z.hasOwnProperty("labelSymbol")&&
(H=Z.labelSymbol),Z.hasOwnProperty("enableHighlight")&&(R=Z.enableHighlight),Z.hasOwnProperty("enableLabel")&&(oa=Z.enableLabel),Z.hasOwnProperty("autoNavigate")&&(aa=Z.autoNavigate),Z.hasOwnProperty("showInfoWindowOnSelect")&&(ua=Z.showInfoWindowOnSelect),Z.hasOwnProperty("enableInfoWindow")&&(A=Z.enableInfoWindow),Z.hasOwnProperty("infoTemplate")?K=Z.infoTemplate:Z.featureLayer&&Z.featureLayer.infoTemplate&&(K=Z.featureLayer.infoTemplate));this._hideMenus();this._hideLoading();if(L){C=this.highlightGraphic;
var wa=this.graphicsLayer;ea=this.labelGraphic;var na=ha.mixin({},L.attributes,{searchTheme:this.theme,searchResult:this._searchResultHTML(t),searchMoreResults:this.css.searchMoreResults,searchMoreResultsItem:this.css.searchMoreResultsItem,searchMoreResultsId:this._moreResultsId,searchMoreResultsHtml:this._moreResultsHTML(t)}),Ea=null;A&&(Ea=K);ea?(ea.setGeometry(L.geometry),ea.setAttributes(na),ea.setSymbol(H),H&&"textsymbol"===H.type&&ea.symbol.setText(t.name)):(ea=new w(L.geometry,H,na),Ca(ea,
ba),H&&"textsymbol"===H.type&&ea.symbol.setText(t.name),oa&&(wa?wa.add(ea):this.map&&this.map.graphics&&this.map.graphics.add(ea)));C?(C.setGeometry(L.geometry),C.setAttributes(na),C.setInfoTemplate(Ea),C.setSymbol(v)):(C=new w(L.geometry,v,na,Ea),Ca(C,ba),R&&(wa?wa.add(C):this.map&&this.map.graphics&&this.map.graphics.add(C)));C&&C.symbol&&"textsymbol"===C.symbol.type&&C.symbol.setText(t.name);this.map&&this.map.infoWindow&&A&&ua&&(this.map.infoWindow.setFeatures([C]),v=this._getPointFromGeometry(C.geometry),
this.map.infoWindow.show(v));this.map&&aa&&t&&t.hasOwnProperty("extent")&&"function"===typeof this.map.setExtent&&this.map.setExtent(t.extent,!0);this.set("highlightGraphic",C);this.set("labelGraphic",ea)}this.set("selectedResult",t);this.emit("select-result",{result:t,source:Z,sourceIndex:J})},focus:function(){y.focus(this.inputNode)},blur:function(){this.inputNode.blur();y.curNode&&y.curNode.blur()},clearGraphics:function(){var t=this.highlightGraphic,v=this.graphicsLayer,H=this.labelGraphic;t&&
(v?v.remove(t):this.map&&this.map.graphics&&this.map.graphics.remove(t));H&&(v?v.remove(H):this.map&&this.map.graphics&&this.map.graphics.remove(H));this.set("labelGraphic",null);this.set("highlightGraphic",null)},_mapLoaded:function(){var t=new N;if(this.map)if(this.map.loaded)t.resolve();else ja.once(this.map,"load",ha.hitch(this,function(){t.resolve()}));else t.resolve();return t.promise},_init:function(){this._getMapLayers().then(ha.hitch(this,function(){this.set("loaded",!0);this.emit("load")}))},
_clearButton:function(){this.clear();y.focus(this.inputNode)},_error:function(t){return Error(this.declaredClass+" "+t)},_searchDeferred:function(t){var v=new N,H=this.value,C=this.activeSourceIndex;t&&t.hasOwnProperty("index")&&(C=t.index);this._showLoading();this._hideMenus();this._closePopup();this.clearGraphics();var J={magicKey:this.magicKey,text:H};t?"string"===typeof t?(J.text=t,t=this._searchQueries(J)):t="object"===typeof t&&t.hasOwnProperty("magicKey")?this._searchQueries(t):"object"===
typeof t&&t.hasOwnProperty("geometry")?this._searchQueries({geometry:t}):"object"===typeof t&&t.hasOwnProperty(this._objectIdIdentifier)?this._searchQueries(t):"object"===typeof t&&"point"===t.type?this._searchQueries({point:t}):t instanceof Array&&2===t.length?this._searchQueries({latlon:t}):this._searchQueries(J):t=this._searchQueries(J);t.always(ha.hitch(this,function(R){R=this._formatResults(R,C,H);v.resolve(R)}));return v.promise},_suggestDeferred:function(t){var v=new N;this._deferreds.push(v);
t||(t=this.value);var H=this.activeSourceIndex;this._suggestQueries({text:t}).always(ha.hitch(this,function(C){var J;if(C)for(var R=0;R<C.length;R++)C[R]&&(J=!0);J?(C=this._formatResults(C,H,t),v.resolve(C)):v.resolve()}));return v.promise},_getDefaultSymbol:function(t){var v;this.map&&(v=this.map.getBasemap());v||(v="topo");if(t&&t.feature&&t.feature.geometry)var H=t.feature.geometry.type;"polyline"===H?H="line":"circle"===H||"extent"===H?H="polygon":"multipoint"===H&&(H="point");if(H){if(t=qa.getSchemes({theme:"default",
basemap:v,geometryType:H}))var C=t.primaryScheme;if(C){C.color&&C.hasOwnProperty("opacity")&&(C.color.a=C.opacity);var J=C;t=C.color;C=C.size;switch(H){case "point":var R=new S;R.setColor(t);R.setSize(null!==C?C:J.size);H=new O;H.setColor(J.outline.color);H.setWidth(J.outline.width);R.setOutline(H);break;case "line":R=new O;R.setColor(t);R.setWidth(null!==C?C:J.width);break;case "polygon":R=new M,R.setColor(t),H=new O,H.setColor(J.outline.color),H.setWidth(J.outline.width),R.setOutline(H)}J=R}}return J},
_selectFirstResult:function(t,v){if(this.autoSelect&&t){var H;v===this._allIndex?H=this._getFirstResult(t):t[v]&&t[v][0]&&(H=t[v][0]);H&&this.select(H)}},_getSourceIndexOfResult:function(t){var v=this.searchResults;if(v)for(var H in v)if(v[H]&&v[H].length)for(var C=0;C<v[H].length;C++)if(v[H][C]===t)return parseInt(H,10);return null},_getFirstResult:function(t){if(t)for(var v in t)if(t[v]&&t[v][0])return t[v][0];return!1},_onFocus:function(){this.map&&"function"===typeof this.map.disableKeyboardNavigation&&
this.map.disableKeyboardNavigation();this.emit("focus");this.inherited(arguments)},_onBlur:function(){this._hideMenus();this.map&&"function"===typeof this.map.enableKeyboardNavigation&&this.map.enableKeyboardNavigation();this.enableButtonMode&&this.loaded&&this.collapse();this.emit("blur");this.inherited(arguments)},_getMapLayers:function(){var t=new N;if(this.addLayersFromMap&&this.map){var v=[],H=this.map.graphicsLayerIds;if(H&&H.length){for(var C=0;C<H.length;C++){var J=this.map.getLayer(H[C]);
J&&v.push(this._featureLayerLoaded(J))}G(v).always(ha.hitch(this,function(R){for(var oa,aa=this.sources,ua=0;ua<R.length;ua++)R[ua]&&R[ua].loaded&&"Feature Layer"===R[ua].type&&(aa.push({featureLayer:R[ua],enableSuggestions:!0}),oa=!0);oa&&this.set("sources",aa);t.resolve()}))}else t.resolve()}else t.resolve();return t.promise},_switchCoordinatesClick:function(t){t.preventDefault();if(t=m.get(t.target,"data-switch-coordinates"))this._cancelSuggest(),this.set("value",t),this.search()},_moreResultsClick:function(t){t.preventDefault();
var v=t.target;t=parseInt(m.get(v,"data-source-index"),10);v=parseInt(m.get(v,"data-index"),10);var H=this.searchResults;H&&H[t]&&(t=H[t][v])&&this.select(t)},_showMoreResultsClick:function(t){t.preventDefault();if(t=k.byId(this._moreResultsId)){q.toggle(t,this.css.searchShowMoreResults);var v=k.byId(this._moreResultsId+"_show");v&&(q.contains(t,this.css.searchShowMoreResults)?m.set(v,"textContent",d.widgets.Search.main.hideMoreResults):m.set(v,"textContent",d.widgets.Search.main.showMoreResults))}},
_featureLayerLoaded:function(t){var v=new N;if(t.loaded)v.resolve(t);else if(t.loadError)v.reject(this._error("Layer failed to load."));else{var H=ja.once(t,"load",ha.hitch(this,function(){C.remove();v.resolve(t)}));var C=ja.once(t,"error",ha.hitch(this,function(){H.remove();v.reject(this._error("Layer could not be loaded."))}))}return v.promise},_getObjectSize:function(t){var v=0,H;for(H in t)t.hasOwnProperty(H)&&v++;return v},_sourcesEvent:function(t,v){var H=m.get(v,"data-index"),C=ca("li",this.sourcesNode);
v=ia.indexOf(C,v);H!==this._allIndex&&(H=parseInt(H,10));"click"===t.type||t.keyCode===F.ENTER?(this.set("activeSourceIndex",H),y.focus(this.inputNode),this._hideSourcesMenu()):t.keyCode===F.UP_ARROW?(t.stopPropagation(),t.preventDefault(),t=v-1,0>t?y.focus(this.sourcesBtnNode):y.focus(C[t])):t.keyCode===F.DOWN_ARROW?(t.stopPropagation(),t.preventDefault(),t=v+1,t>=C.length?y.focus(this.sourcesBtnNode):y.focus(C[t])):t.keyCode===F.ESCAPE&&(this._hideSourcesMenu(),y.focus(this.inputNode))},_suggestionsEvent:function(t,
v){var H=m.get(v,"data-source-index"),C=parseInt(m.get(v,"data-index"),10),J=ca("li",this.suggestionsNode),R=this.sources;v=ia.indexOf(J,v);H!==this._allIndex&&(H=parseInt(H,10));var oa;this._clearQueryTimeout();"click"===t.type||t.keyCode===F.ENTER?((J=this.suggestResults)&&J[H]&&J[H][C]&&(oa=J[H][C]),oa&&(oa.index=H,R[H].featureLayer?(H=R[H].featureLayer.objectIdField,oa[this._objectIdIdentifier]=oa.feature.attributes[H],this.set("value",this._getSuggestionName(oa)),this.set("selectedFeatureId",
oa.feature.attributes[H])):oa.magicKey&&oa.text&&(this.set("value",oa.text),this.set("magicKey",oa.magicKey)),this.search(oa),y.focus(this.inputNode))):t.keyCode===F.BACKSPACE||t.keyCode===F.DELETE?y.focus(this.inputNode):t.keyCode===F.UP_ARROW?(t.stopPropagation(),t.preventDefault(),oa=v-1,0>oa?y.focus(this.inputNode):y.focus(J[oa])):t.keyCode===F.DOWN_ARROW?(t.stopPropagation(),t.preventDefault(),oa=v+1,oa>=J.length?y.focus(this.inputNode):y.focus(J[oa])):t.keyCode===F.ESCAPE&&(this._hideMenus(),
y.focus(this.inputNode))},_getResultName:function(t){var v;t.hasOwnProperty("name")&&null!==t.name&&(v=t.name.toString());v||(v=d.widgets.Search.main.untitledResult);return v},_getSuggestionName:function(t){var v;t.hasOwnProperty("name")&&null!==t.name&&(v=t.name.toString());t=t.text||v;t||(t=d.widgets.Search.main.untitledResult);return t},_searchResultHTML:function(t){var v="";if(t.feature&&t.feature.attributes&&t.feature.attributes.Addr_type&&"LatLong"===t.feature.attributes.Addr_type){var H=t.name.split(" ");
if(2===H.length){var C=H[0];var J=H[1]}J&&C?(t=parseFloat(C),J=parseFloat(J),H=J+", "+t,v+='\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e',v+='\x3cdiv class\x3d"'+this.css.latLonHeader+'"\x3e'+d.widgets.Search.main.lonlat+"\x3c/div\x3e",v=v+(t+", "+J)+'\x3c/div\x3e\x3cdiv class\x3d"'+(this.css.searchMoreResultsItem+'"\x3e'),t===J||90<t||-90>t||180<J||-180>J||(v+='\x3cdiv class\x3d"'+this.css.latLonHeader+'"\x3e'+d.widgets.Search.main.reverseLonLatHeader+"\x3c/div\x3e",v+='\x3ca data-switch-coordinates\x3d"'+
H+'" tabindex\x3d"0" href\x3d"#"\x3e'+H+"\x3c/a\x3e\x3c/div\x3e")):v=t.name}else v=t.name;return v},_moreResultsHTML:function(t){var v="",H="",C=this.searchResults,J=this.sources,R=0;if(C){H+='\x3cdiv class\x3d"'+this.css.searchMoreResultsItem+'"\x3e';H+='\x3ca href\x3d"#" id\x3d"'+this._moreResultsId+'_show"\x3e'+d.widgets.Search.main.showMoreResults+"\x3c/a\x3e";H=H+'\x3c/div\x3e\x3cdiv class\x3d"'+(this.css.searchMoreResultsList+'"\x3e');H+='\x3cdiv id\x3d"'+this._moreResultsId+'_list"\x3e';for(var oa in C)if(C[oa]){var aa=
C[oa].length;if(aa){var ua=1===aa&&C[oa][0]===t;if(1<this._getObjectSize(C)&&!ua){var A=this._getSourceName(oa);H+='\x3cdiv class\x3d"'+this.css.searchMoreResultsListHeader+'"\x3e'+A+"\x3c/div\x3e"}if(aa&&!ua){H+="\x3cul\x3e";A=J[oa].maxResults||this.maxResults;for(ua=0;ua<aa&&ua<A;++ua)if(C[oa][ua]!==t){var K=this._getResultName(C[oa][ua]);H+='\x3cli\x3e\x3ca tabindex\x3d"0" data-index\x3d"'+ua+'" data-source-index\x3d"'+oa+'" href\x3d"#"\x3e'+K+"\x3c/a\x3e\x3c/li\x3e";R++}H+="\x3c/ul\x3e"}}}H+=
"\x3c/div\x3e\x3c/div\x3e"}R&&(v+=H);return v},_validField:function(t,v){return t.getField(v)},_validFields:function(t,v){if(t&&v&&v.length){for(var H=0;H<v.length;H++)if(!this._validField(t,v[H]))return!1;return!0}return!1},_getCodedName:function(t,v){if(t&&t.length)for(var H=0,C=t.length;H<C;H++){var J=t[H];if(J.code===v)return J.name}},_getCodedValue:function(t,v,H){if(t&&t.length)for(var C=0,J=t.length;C<J;C++){var R=t[C],oa=R.name,aa=v;H||(oa=oa.toLowerCase(),aa=aa.toLowerCase());if(oa===aa)return R.code}return!1},
_whereClause:function(t,v,H,C){var J=null;if(t){var R="";this.reHostedFS.test(v.url)&&this._containsNonLatinCharacter(t)&&(R="N");if(H&&H.length)for(var oa=0,aa=H.length;oa<aa;oa++){var ua="",A=t.replace(/'/g,"''");ua=H[oa];var K=v.getField(ua),L=v.getDomain(ua);L&&"codedValue"===L.type&&(A=this._getCodedValue(L.codedValues,A,C));!1!==A&&(K=K.type,"esriFieldTypeString"===K||"esriFieldTypeDate"===K?ua=C?ua+" \x3d "+R+"'"+A+"'":"UPPER("+ua+") LIKE "+R+"'%"+A.toUpperCase()+"%'":"esriFieldTypeOID"===
K||"esriFieldTypeSmallInteger"===K||"esriFieldTypeInteger"===K||"esriFieldTypeSingle"===K||"esriFieldTypeDouble"===K?(A=parseFloat(A),ua=isNaN(A)?!1:ua+" \x3d "+A):ua=ua+" \x3d "+A,ua&&(J=J?J+" or ":"",J+=ua))}}return J},_suggest:function(t){t||(t={index:this.activeSourceIndex,text:this.value});var v=new N,H=t.index,C=this.sources[H],J=this.enableSuggestions;C.hasOwnProperty("enableSuggestions")&&(J=C.enableSuggestions);var R=0;if(t.hasOwnProperty("text")&&t.text){var oa=ha.trim(t.text);R=t.text.length}t=
C.minCharacters||this.minCharacters;if(J&&oa&&R>=t&&this._supportsPagination(C)){var aa="";C.prefix&&(aa+=C.prefix);aa+=oa;C.suffix&&(aa+=C.suffix);var ua=this._defaultSR;this.map&&(ua=this.map.spatialReference);J={};C.locator?(C.categories&&(J.categories=C.categories),C.locator.outSpatialReference=ua,this.map&&C.localSearchOptions&&C.localSearchOptions.hasOwnProperty("distance")&&C.localSearchOptions.hasOwnProperty("minScale")&&(R=this._getScale(),!C.localSearchOptions.minScale||R&&R<=parseFloat(C.localSearchOptions.minScale))&&
(J.location=this.map.extent.getCenter(),J.distance=C.localSearchOptions.distance),J.text=aa,C.useMapExtent&&this.map&&this.map.extent&&(J.searchExtent=this.map.extent),C.searchExtent&&(J.searchExtent=C.searchExtent),J.maxSuggestions=C.maxSuggestions||this.maxSuggestions,C.sourceCountry&&(J.countryCode=C.sourceCountry),C.countryCode&&(J.countryCode=C.countryCode),C.locator.suggestLocations(J).then(ha.hitch(this,function(A){v.resolve(A)}),ha.hitch(this,function(A){A||(A=this._error("Locator suggestLocations could not be performed."));
v.reject(A)}))):C.featureLayer?this._featureLayerLoaded(C.featureLayer).then(ha.hitch(this,function(){var A=this._getDisplayField(C),K=C.searchFields||[A],L=[];C.suggestionTemplate?C.suggestionTemplate.replace(/(?:\$\{([^}]+)\})/g,function(wa,na){L.push(na)}):L=[A];-1===ia.indexOf(L,C.featureLayer.objectIdField)&&L.push(C.featureLayer.objectIdField);A=this._validField(C.featureLayer,A);var ba=this._validFields(C.featureLayer,L),ea=this._validFields(C.featureLayer,K);if(A&&ba&&ea){A=new da;C.hasOwnProperty("suggestQueryParams")&&
ha.mixin(A,C.suggestQueryParams);A.outSpatialReference=ua;A.returnGeometry=!1;A.num=C.maxSuggestions||this.maxSuggestions;A.outFields=L;C.useMapExtent&&this.map&&this.map.extent&&(A.geometry=this.map.extent);C.searchExtent&&(A.geometry=C.searchExtent);if(K=this._whereClause(aa,C.featureLayer,K,!1)){A.where=K;var Z=!0}Z?C.featureLayer.queryFeatures(A,ha.hitch(this,function(wa){var na;(wa=wa.features)&&(na=this._hydrateResults(wa,H,!0));v.resolve(na)}),ha.hitch(this,function(wa){wa||(wa=this._error("FeatureLayer queryFeatures errored with suggestions"));
v.reject(wa)})):v.resolve()}else v.reject(this._error("Invalid FeatureLayer field"))})):v.reject(this._error("Invalid source"))}else v.resolve();return v.promise},_supportsPagination:function(t){var v;t.locator?v=!0:t.featureLayer&&t.featureLayer.advancedQueryCapabilities&&t.featureLayer.advancedQueryCapabilities.supportsPagination&&(v=!0);return v},_suggestQueries:function(t){var v=this.sources,H=this.activeSourceIndex,C=[];if(H===this._allIndex)for(H=0;H<v.length;H++){var J=t;J.index=H;J=this._suggest(J);
C.push(J)}else t.index=H,J=this._suggest(t),C.push(J);return G(C)},_getPointFromGeometry:function(t){switch(t.type){case "extent":var v=t.getCenter();break;case "multipoint":v=t.getPoint(0);break;case "point":v=t;break;case "polygon":v=t.getCentroid();break;case "polyline":v=t.getPoint(0,0)}return v},_searchQueries:function(t){t.hasOwnProperty("index")||(t.index=this.activeSourceIndex);var v=[];if(t.index===this._allIndex)for(var H=this.sources,C=0;C<H.length;C++){var J=t;J.index=C;J=this._search(J);
v.push(J)}else t=this._search(t),v.push(t);return G(v)},_searchButton:function(){this.enableButtonMode&&!this.expanded?(this.expand(),y.focus(this.inputNode)):(this._cancelSuggest(),this.search())},_search:function(t){t||(t={text:this.value,magicKey:null,geometry:null,point:null,index:this.activeSourceIndex,latlon:null});this.selectedFeatureId&&(t.text=null,t[this._objectIdIdentifier]=this.selectedFeatureId);var v,H=new N,C=t.index,J=this.sources[C],R;t.hasOwnProperty("text")&&t.text&&(R=ha.trim(t.text));
if(J){var oa="";J.prefix&&!t.magicKey&&(oa+=J.prefix);oa+=R;J.suffix&&!t.magicKey&&(oa+=J.suffix);var aa=this._defaultSR;this.map&&(aa=this.map.spatialReference);if(J.locator)if(t.hasOwnProperty("text")&&R){var ua={};J.categories&&(ua.categories=J.categories);J.locationType&&(ua.locationType=J.locationType);aa&&(J.locator.outSpatialReference=aa);if(this.map&&J.localSearchOptions&&J.localSearchOptions.hasOwnProperty("distance")&&J.localSearchOptions.hasOwnProperty("minScale")){var A=this._getScale();
if(!J.localSearchOptions.minScale||A&&A<=parseFloat(J.localSearchOptions.minScale))ua.location=this.map.extent.getCenter(),ua.distance=J.localSearchOptions.distance}ua.address={};ua.maxLocations=J.maxResults||this.maxResults;J.useMapExtent&&this.map&&this.map.extent&&(ua.searchExtent=this.map.extent);J.searchExtent&&(ua.searchExtent=J.searchExtent);J.sourceCountry&&(ua.countryCode=J.sourceCountry);J.countryCode&&(ua.countryCode=J.countryCode);t.magicKey&&(ua.magicKey=t.magicKey);J.singleLineFieldName?
ua.address[J.singleLineFieldName]=oa:ua.address["Single Line Input"]=oa;J.outFields&&(ua.outFields=J.outFields);J.locator.addressToLocations(ua).then(ha.hitch(this,function(K){K=this._hydrateResults(K,C,!1);H.resolve(K)}),ha.hitch(this,function(K){K||(K=this._error("Locator addressToLocations could not be performed"));H.reject(K)}))}else t.geometry?(v=this._getPointFromGeometry(t.geometry.geometry))?this._reverseGeocodePoint(C,v).then(function(K){H.resolve(K)},function(K){H.reject(K)}):H.reject(this._error("Invalid point to reverse geocode")):
t.point?this._reverseGeocodePoint(C,t.point).then(function(K){H.resolve(K)},function(K){H.reject(K)}):t.latlon?(ua=new P(t.latlon,this._defaultSR),this._reverseGeocodePoint(C,ua).then(function(K){H.resolve(K)},function(K){H.reject(K)})):t.hasOwnProperty("text")&&!R?H.resolve([]):H.reject(this._error("Invalid query type for Locator"));else J.featureLayer?this._featureLayerLoaded(J.featureLayer).then(ha.hitch(this,function(){var K=this._getDisplayField(J),L=J.searchFields||[K];K=this._validField(J.featureLayer,
K);var ba=this._validFields(J.featureLayer,L);if(K&&ba){K=new da;J.hasOwnProperty("searchQueryParams")&&ha.mixin(K,J.searchQueryParams);aa&&(K.outSpatialReference=aa,ba=this.map&&this.map.getMaxResolution()||1/Y.getUnitValueForSR(aa))&&(K.maxAllowableOffset=ba);K.returnGeometry=!0;J.outFields&&(K.outFields=J.outFields);if(!t.hasOwnProperty(this._objectIdIdentifier)){this._supportsPagination(J)&&(K.num=J.maxResults||this.maxResults);J.useMapExtent&&this.map&&this.map.extent&&(K.geometry=this.map.extent);
J.searchExtent&&(K.geometry=J.searchExtent);var ea=J.exactMatch}t.hasOwnProperty("text")&&R?(L=this._whereClause(oa,J.featureLayer,L,ea))?(K.where=L,L=!0):L=!1:t.hasOwnProperty(this._objectIdIdentifier)?(K.objectIds=[t[this._objectIdIdentifier]],L=!0):t.geometry?(K.geometry=t.geometry,L=!0):t.point?(K.geometry=t.point,L=!0):t.latlon?(v=new P(t.latlon,this._defaultSR),K.geometry=v,L=!0):(t.hasOwnProperty("text")&&!R?H.resolve([]):H.reject(this._error("Invalid query type for FeatureLayer")),L=!1);L?
J.featureLayer.queryFeatures(K,ha.hitch(this,function(Z){Z=Z.features;var wa;Z&&(wa=this._hydrateResults(Z,C,!1));H.resolve(wa)}),ha.hitch(this,function(Z){Z||(Z=this._error("FeatureLayer queryFeatures could not be performed"));H.reject(Z)})):H.resolve()}else H.reject(this._error("Invalid FeatureLayer field"))})):H.reject(this._error("Invalid source"))}else H.reject(this._error("Source is undefined"));return H.promise},_clearQueryTimeout:function(){this._queryTimer&&clearTimeout(this._queryTimer)},
_formatResults:function(t,v,H){H={activeSourceIndex:v,value:H,numResults:0,numErrors:0,errors:null,results:null};var C={},J={};if(t)if(v===this._allIndex)for(v=0;v<t.length;v++)t[v]&&(t[v]instanceof Error?(C[v]=t[v],H.numErrors++):(J[v]=t[v],H.numResults+=t[v].length));else t[0]&&(t[0]instanceof Error?(C[v]=t[0],H.numErrors++):(J[v]=t[0],H.numResults+=t[0].length));H.numErrors&&(H.errors=C);H.numResults&&(H.results=J);return H},_reverseGeocodePoint:function(t,v){var H=new N,C=this.sources[t];if(v&&
C){var J=C.locationToAddressDistance||this.locationToAddressDistance;C.locator.outSpatialReference=this._defaultSR;this.map&&(C.locator.outSpatialReference=this.map.spatialReference);C.locator.locationToAddress(v,J,ha.hitch(this,function(R){R=this._hydrateResults([R],t,!1);H.resolve(R)}),ha.hitch(this,function(R){R||(R=this._error("Locator locationToAddress could not be performed"));H.reject(R)}))}else H.reject(this._error("No point or source defined for reverse geocoding"));return H.promise},_cancelDeferreds:function(){if(this._deferreds&&
this._deferreds.length)for(var t=0;t<this._deferreds.length;t++)this._deferreds[t].cancel(this.declaredClass+" cancelling request");this._deferreds=[]},_sourceBtnKey:function(t){if(t){var v=ca("li",this.sourcesNode);t.keyCode===F.UP_ARROW?(t.stopPropagation(),t.preventDefault(),this._showSourcesMenu(),(t=v.length)&&y.focus(v[t-1])):t.keyCode===F.DOWN_ARROW&&(t.stopPropagation(),t.preventDefault(),this._showSourcesMenu(),v[0]&&y.focus(v[0]))}},_inputKey:function(t){if(t){var v=ca("li",this.suggestionsNode),
H=this.suggestResults;if(t.keyCode===F.TAB||t.keyCode===F.ESCAPE)this._cancelSuggest(),this._hideMenus();else if(t.keyCode===F.UP_ARROW)t.stopPropagation(),t.preventDefault(),this._cancelSuggest(),H&&this._showSuggestionsMenu(),(t=v.length)&&y.focus(v[t-1]);else if(t.keyCode===F.DOWN_ARROW)t.stopPropagation(),t.preventDefault(),this._cancelSuggest(),H&&this._showSuggestionsMenu(),v[0]&&y.focus(v[0]);else{if(t.ctrlKey||t.metaKey||t.keyCode===F.copyKey||t.keyCode===F.LEFT_ARROW||t.keyCode===F.RIGHT_ARROW||
t.keyCode===F.ENTER)return t;this._suggestDelay()}}},_cancelSuggest:function(){this._cancelDeferreds();this._clearQueryTimeout()},_suggestDelay:function(){this._cancelSuggest();this._changeValue();this._queryTimer=setTimeout(ha.hitch(this,function(){this.suggest()}),this.suggestionDelay)},_changeValue:function(){this.set("magicKey",null);this.set("selectedFeatureId",null);this._changeAttrValue("value",this.inputNode.value);this._checkStatus()},_inputClick:function(){this._hideSourcesMenu();this._hideNoResultsMenu()},
_getSourceName:function(t){return this._sourceNames[t]},_loadSources:function(t){t=ia.filter(t,function(v){return!!v.featureLayer});t=ia.map(t,function(v){return this._featureLayerLoaded(v.featureLayer)},this);return G(t)},_createSourceNameMap:function(t){return this._loadSources(t).then(ha.hitch(this,function(){var v=ia.map(t,function(H){return H.name||H.featureLayer&&H.featureLayer.name||d.widgets.Search.main.untitledSource});this._preventDuplicateSourceNames(t,v);return v}))},_getDuplicateSourceNameIndexes:function(t){var v=
{},H=[];ia.forEach(t,function(C,J){v.hasOwnProperty(C)?(-1===H.indexOf(v[C])&&H.push(v[C]),H.push(J)):t.lastIndexOf(C)!==J&&(v[C]=J)});return H},_preventDuplicateSourceNames:function(t,v){if(v&&1<v.length){var H=this._getDuplicateSourceNameIndexes(v);ia.forEach(H,function(C){v[C]+=this._getFieldsString(t[C])},this)}},_getFieldsString:function(t){var v="",H=t.featureLayer;if(H){t=t.searchFields||[this._getDisplayField(t)];for(var C=0;C<t.length;C++){v=0===C?v+": ":v+", ";var J=t[C],R=H.getFieldLabel(J);
v+=R||J}}return v},_splitResult:function(t,v){v=T.escapeString(v);return t.replace(new RegExp("(^|)("+v+")(|$)","ig"),"$1|$2|$3").split("|")},_insertSuggestions:function(t,v){if(this.enableSuggestionsMenu&&this.suggestionsNode){this._hideSourcesMenu();this._hideNoResultsMenu();var H=this.sources;if(t){var C=a.create("div");for(var J in t)if(t[J]&&t[J].length){var R=this._getSourceName(J);1<H.length&&this.activeSourceIndex===this._allIndex&&a.create("div",{className:this.css.searchMenuHeader,textContent:R},
C);R=a.create("ul",{role:"menu"},C);for(var oa=H[J].maxSuggestions||this.maxSuggestions,aa=0;aa<t[J].length&&aa<oa;++aa){var ua=a.create("li",{"data-index":aa,"data-source-index":J,role:"menuitem",tabindex:0},R),A=this._getSuggestionName(t[J][aa]);A=this._splitResult(A,v);for(var K=A.length,L=0;L<K;L++){var ba=A[L];ba.toLowerCase()===v.toLowerCase()?a.create("strong",{textContent:ba},ua):(ba=document.createTextNode(ba),a.place(ba,ua))}}}}C?(a.place(C,this.suggestionsNode,"only"),this._showSuggestionsMenu()):
(a.empty(this.suggestionsNode),this._hideSuggestionsMenu())}},_insertSources:function(t){if(this.enableSourcesMenu&&t&&1<t.length){var v,H=this.activeSourceIndex,C=a.create("ul",{role:"menu"});if(this.enableSearchingAll){var J="";H===this._allIndex&&(J="active");a.create("li",{"data-index":this._allIndex,role:"menuitem",className:J,tabIndex:0,textContent:d.widgets.Search.main.all},C)}for(v=0;v<t.length;v++){J="";v===H&&(J=this.css.activeSource);var R=this._getSourceName(v);a.create("li",{"data-index":v,
role:"menuitem",className:J,tabIndex:0,textContent:R},C)}q.add(this.containerNode,this.css.hasMultipleSources);a.place(C,this.sourcesNode,"only")}else q.remove(this.containerNode,this.css.hasMultipleSources),a.empty(this.sourcesNode)},_showLoading:function(){q.add(this.containerNode,this.css.searchLoading)},_hideLoading:function(){q.remove(this.containerNode,this.css.searchLoading)},_checkStatus:function(){this.value?(q.add(this.containerNode,this.css.hasValue),m.set(this.clearNode,"title",d.widgets.Search.main.clearButtonTitle)):
this.clear()},_closePopup:function(){this.enableInfoWindow&&this.map&&this.map.infoWindow&&this.map.infoWindow.hide()},_noResults:function(t){var v;t&&(v=ha.trim(t));var H=a.create("div",{className:this.css.searchNoResultsBody});t&&v?(a.create("div",{className:this.css.searchNoResultsHeader,textContent:d.widgets.Search.main.noResults},H),a.create("div",{className:this.css.searchNoResultsText,textContent:u.substitute({value:'"'+t+'"'},d.widgets.Search.main.noResultsFound)},H)):(t=a.create("div",{},
H),a.create("span",{"aria-hidden":"true",className:this.css.searchNoValueIcon},t),a.create("span",{className:this.css.searchNoValueText,textContent:d.widgets.Search.main.emptyValue},t));a.place(H,this.noResultsMenuNode,"only")},_hideMenus:function(){this._hideSourcesMenu();this._hideSuggestionsMenu();this._hideNoResultsMenu()},_hideNoResultsMenu:function(){q.remove(this.containerNode,this.css.showNoResults)},_showNoResultsMenu:function(){this._hideSourcesMenu();this._hideSuggestionsMenu();q.add(this.containerNode,
this.css.showNoResults)},_hideSourcesMenu:function(){q.remove(this.containerNode,this.css.showSources)},_hideSuggestionsMenu:function(){q.remove(this.containerNode,this.css.showSuggestions)},_showSourcesMenu:function(){this._hideSuggestionsMenu();this._hideNoResultsMenu();q.add(this.containerNode,this.css.showSources)},_showSuggestionsMenu:function(){this._hideSourcesMenu();this._hideNoResultsMenu();q.add(this.containerNode,this.css.showSuggestions)},_toggleSourcesMenu:function(){this._hideSuggestionsMenu();
this._hideNoResultsMenu();q.toggle(this.containerNode,this.css.showSources)},_getFirstStringField:function(t){if(t&&(t=t.fields)&&t.length)for(var v=0;v<t.length;v++){var H=t[v];if("esriFieldTypeString"===H.type)return H.name}return""},_getDisplayField:function(t){return t.displayField||t.featureLayer.displayField||this._getFirstStringField(t.featureLayer)},_validLocation:function(t){return t&&"number"===typeof t.x&&"number"===typeof t.y},_validExtent:function(t){return t&&"number"===typeof t.xmin&&
"number"===typeof t.ymin&&"number"===typeof t.xmax&&"number"===typeof t.ymax},_hydrateResult:function(t,v,H){var C={},J=this._defaultSR;v=this.sources[v];this.map&&(J=this.map.spatialReference);if(t.hasOwnProperty("text")&&t.hasOwnProperty("magicKey"))return t;if(t.hasOwnProperty("geometry")){var R=new w(t.toJson());C.feature=R;(R=C.feature.geometry)&&R.setSpatialReference(J)}else if(t.hasOwnProperty("location")&&this._validLocation(t.location)){var oa=new P(t.location.x,t.location.y,J);R={};t.hasOwnProperty("attributes")&&
(R=t.attributes);t.hasOwnProperty("address")&&"object"===typeof t.address&&ha.mixin(R,t.address);t.hasOwnProperty("score")&&(R.score=t.score);C.feature=new w(oa,null,R,null)}!C.feature&&H&&(R={},t.hasOwnProperty("attributes")&&(R=t.attributes),t.hasOwnProperty("score")&&(R.score=t.score),C.feature=new w(null,null,R,null));if(C.feature){if(t.hasOwnProperty("extent")&&this._validExtent(t.extent))C.extent=new V(t.extent),C.extent.setSpatialReference(J);else if(C.feature&&C.feature.geometry)switch(C.feature.geometry.type){case "extent":C.extent=
C.feature.geometry;break;case "multipoint":C.extent=W.getDenormalizedExtent(C.feature.geometry);break;case "polygon":C.extent=W.getDenormalizedExtent(C.feature.geometry);break;case "polyline":C.extent=W.getDenormalizedExtent(C.feature.geometry);break;case "point":this.map?(J=this.zoomScale,v&&v.zoomScale&&(J=v.zoomScale),this._getScale()>J?C.extent=Y.getExtentForScale(this.map,J).centerAt(C.feature.geometry):C.extent=this.map.extent.centerAt(C.feature.geometry)):C.extent=new V({xmin:C.feature.geometry.x-
.25,ymin:C.feature.geometry.y-.25,xmax:C.feature.geometry.x+.25,ymax:C.feature.geometry.y+.25,spatialReference:this._defaultSR})}else C.extent=null;C.name="";v.featureLayer?v.suggestionTemplate&&H?C.name=u.substitute(t.attributes,v.suggestionTemplate):v.searchTemplate?C.name=u.substitute(t.attributes,v.searchTemplate):(R=this._getDisplayField(v),H=v.featureLayer.getField(R),J=v.featureLayer.getDomain(R),R&&t.hasOwnProperty("attributes")&&t.attributes.hasOwnProperty(R)&&(t=t.attributes[R],J&&"codedValue"===
J.type?C.name=this._getCodedName(J.codedValues,t):H&&"esriFieldTypeDate"===H.type&&!isNaN(t)?C.name=h.format(new Date(t)):C.name=t)):t.address&&v.searchTemplate?C.name=u.substitute(t.address,v.searchTemplate):t.hasOwnProperty("name")?C.name=t.name:t.hasOwnProperty("attributes")&&"object"===typeof t.attributes&&t.attributes.LongLabel?C.name=t.attributes.LongLabel:t.hasOwnProperty("attributes")&&"object"===typeof t.attributes&&t.attributes.Match_addr?(C.name=t.attributes.Match_addr,t.attributes.Addr_type&&
"POI"===t.attributes.Addr_type&&t.attributes.StAddr&&t.attributes.City?C.name+=" - "+t.attributes.StAddr+", "+t.attributes.City:t.attributes.Addr_type&&"POI"===t.attributes.Addr_type&&t.attributes.City&&(C.name+=" - "+t.attributes.City)):t.hasOwnProperty("address")&&"string"===typeof t.address?C.name=t.address:t.hasOwnProperty("address")&&"object"===typeof t.address&&t.address.hasOwnProperty("Address")?t.address.hasOwnProperty("Match_addr")?C.name=t.address.Match_addr:t.address.hasOwnProperty("Address")&&
(C.name=t.address.Address):C.feature&&C.feature.geometry&&(C.name=C.feature.geometry.x+","+C.feature.geometry.y);v.featureLayer&&C.feature&&Ca(C.feature,v.featureLayer);return C}},_getScale:function(){var t;this.map&&"function"===typeof this.map.getScale&&(t=this.map.getScale());return t},_hydrateResults:function(t,v,H,C){C=[];var J=0;if(t&&t.length)for(J;J<t.length;J++){var R=this._hydrateResult(t[J],v,H);R&&C.push(R)}return C},_containsNonLatinCharacter:function(t){for(var v=0;v<t.length;v++)if(255<
t.charCodeAt(v))return!0;return!1},_setPlaceholder:function(t){var v="",H=this.sources[t];t===this._allIndex?v=this.allPlaceholder||d.widgets.Search.main.allPlaceholder:H&&H.placeholder&&(v=H.placeholder);var C=d.widgets.Search.main.all;H&&(C=this._getSourceName(t));m.set(this.sourceNameNode,"textContent",C);m.set(this.inputNode,"placeholder",v);m.set(this.inputNode,"title",v)},_updateActiveSource:function(){var t=this.sources,v=this.activeSourceIndex,H;t&&t[v]&&(H=t[v]);H?this.set("activeSource",
H):this.set("activeSource",null)},_updateVisible:function(){this.visible?this.show():this.hide()},_updateButtonMode:function(t){t?(q.toggle(this.containerNode,this.css.searchExpanded,this.expanded),q.toggle(this.containerNode,this.css.searchCollapsed,!this.expanded),q.add(this.containerNode,this.css.hasButtonMode)):(q.remove(this.containerNode,this.css.searchExpanded),q.remove(this.containerNode,this.css.searchCollapsed),q.remove(this.containerNode,this.css.hasButtonMode))},_setDefaultActiveSourceIndex:function(t){t&&
1===t.length||!this.enableSearchingAll?this.set("activeSourceIndex",0):this.set("activeSourceIndex",this._allIndex)},_setEnableSourcesMenuAttr:function(t){this._set("enableSourcesMenu",t);this._created&&this._insertSources(this.sources)},_setEnableSearchingAllAttr:function(t){this._set("enableSearchingAll",t);this._created&&(this._setDefaultActiveSourceIndex(this.sources),this._hideMenus(),this._insertSources(this.sources))},_setSourcesAttr:function(t){this._createSourceNameMap(t).then(ha.hitch(this,
function(v){this._sourceNames=v;this._created&&(this._setDefaultActiveSourceIndex(t),this._hideMenus(),this._insertSources(t))}));this._set("sources",t)},_setAllPlaceholderAttr:function(t){this._set("allPlaceholder",t);this._created&&this._setPlaceholder(this.activeSourceIndex)},_setActiveSourceIndexAttr:function(t){this._set("activeSourceIndex",t);this._updateActiveSource();this._created&&(this._setPlaceholder(t),this._hideMenus(),this._insertSources(this.sources))},_setMaxLengthAttr:function(t){this._set("maxLength",
t);this._created&&m.set(this.inputNode,"maxLength",t)},_setValueAttr:function(t){this.set("magicKey",null);this.set("selectedFeatureId",null);this._set("value",t);this._created&&(m.set(this.inputNode,"value",t),this._checkStatus())},_setVisibleAttr:function(t){this._set("visible",t);this._created&&this._updateVisible()},_setEnableButtonModeAttr:function(t){this._set("enableButtonMode",t);this._created&&this._updateButtonMode(t)},_setThemeAttr:function(t){this._created&&(q.remove(this.domNode,this.theme),
q.add(this.domNode,t));this._set("theme",t)}});la("extend-esri")&&ha.setObject("dijit.Search",sa,z);return sa})},"esri/tasks/locator":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/json dojo/has ../kernel ../request ../deferredUtils ./Task ./AddressCandidate".split(" "),function(xa,sa,ha,ia,U,N,F,ja,ca,la,T){xa=xa(la,{declaredClass:"esri.tasks.Locator",_eventMap:{"address-to-locations-complete":["addresses"],"addresses-to-locations-complete":["addresses"],
"location-to-address-complete":["address"],"suggest-locations-complete":["suggestions"]},constructor:function(k){this._geocodeHandler=sa.hitch(this,this._geocodeHandler);this._geocodeAddressesHandler=sa.hitch(this,this._geocodeAddressesHandler);this._reverseGeocodeHandler=sa.hitch(this,this._reverseGeocodeHandler);this.registerConnectEvents()},outSpatialReference:null,setOutSpatialReference:function(k){this.outSpatialReference=k},_geocodeHandler:function(k,m,q,e,a){try{var h=k.candidates;m=[];var d,
f=h.length,l=k.spatialReference,p;for(d=0;d<f;d++){var c=h[d];if(p=c.location)p.spatialReference=l;m[d]=new T(c)}this._successHandler([m],"onAddressToLocationsComplete",q,a)}catch(n){this._errorHandler(n,e,a)}},_geocodeAddressesHandler:function(k,m,q,e,a){try{var h=k.locations;m=[];var d,f=h.length,l=k.spatialReference,p;for(d=0;d<f;d++){if(p=h[d].location)p.spatialReference=l;m[d]=new T(h[d])}this._successHandler([m],"onAddressesToLocationsComplete",q,a)}catch(c){this._errorHandler(c,e,a)}},addressToLocations:function(k,
m,q,e,a){var h;if(k.address){e=q;q=m;m=k.outFields;a=k.searchExtent;var d=k.countryCode;var f=k.magicKey;var l=k.distance;var p=k.categories;k.location&&this.normalization&&(h=k.location.normalize());var c=k.locationType;var n=k.maxLocations;var y=k.forStorage;k=k.address}a&&(a=a.shiftCentralMeridian());var u=this.outSpatialReference;k=this._encode(sa.mixin({},this._url.query,k,{f:"json",outSR:u&&U.toJson(u.toJson()),outFields:m&&m.join(",")||null,searchExtent:a&&U.toJson(a.toJson()),category:p&&
p.join(",")||null,countryCode:d||null,magicKey:f||null,distance:l||null,location:h||null,locationType:c||null,maxLocations:n||null,forStorage:y||null}));var D=this._geocodeHandler,z=this._errorHandler,x=new ia(ca._dfdCanceller);x._pendingDfd=ja({url:this._url.path+"/findAddressCandidates",content:k,callbackParamName:"callback",load:function(w,G){D(w,G,q,e,x)},error:function(w){z(w,e,x)}});return x},suggestLocations:function(k){var m=new ia(ca._dfdCanceller);k.hasOwnProperty("location")&&this.normalization&&
(k.location=k.location.normalize());k.searchExtent&&(k.searchExtent=k.searchExtent.shiftCentralMeridian());k=this._encode(sa.mixin({},this._url.query,{f:"json",text:k.text,maxSuggestions:k.maxSuggestions,searchExtent:k.searchExtent&&U.toJson(k.searchExtent.toJson()),category:k.categories&&k.categories.join(",")||null,countryCode:k.countryCode||null,location:k.location||null,distance:k.distance||null},{f:"json"}));k=ja({url:this._url.path+"/suggest",content:k,callbackParamName:"callback"});m._pendingDfd=
k;k.then(sa.hitch(this,function(q){q=q.suggestions||[];this.onSuggestLocationsComplete(q);m.resolve(q)}),sa.hitch(this,function(q){this._errorHandler(q);m.reject(q)}));return m},addressesToLocations:function(k,m,q){var e=this.outSpatialReference,a=[],h=k.categories,d=k.locationType,f=k.countryCode;ha.forEach(k.addresses,function(n,y){a.push({attributes:n})});k=this._encode(sa.mixin({},this._url.query,{category:h&&h.join(",")||null,locationType:d||null,sourceCountry:f||null},{addresses:U.toJson({records:a})},
{f:"json",outSR:e&&U.toJson(e.toJson())}));var l=this._geocodeAddressesHandler,p=this._errorHandler,c=new ia(ca._dfdCanceller);c._pendingDfd=ja({url:this._url.path+"/geocodeAddresses",content:k,callbackParamName:"callback",load:function(n,y){l(n,y,m,q,c)},error:function(n){p(n,q,c)}});return c},_reverseGeocodeHandler:function(k,m,q,e,a){try{var h=new T({address:k.address,location:k.location,score:100});this._successHandler([h],"onLocationToAddressComplete",q,a)}catch(d){this._errorHandler(d,e,a)}},
locationToAddress:function(k,m,q,e){k&&this.normalization&&(k=k.normalize());var a=this.outSpatialReference;k=this._encode(sa.mixin({},this._url.query,{outSR:a&&U.toJson(a.toJson()),location:k&&U.toJson(k.toJson()),distance:m,f:"json"}));var h=this._reverseGeocodeHandler,d=this._errorHandler,f=new ia(ca._dfdCanceller);f._pendingDfd=ja({url:this._url.path+"/reverseGeocode",content:k,callbackParamName:"callback",load:function(l,p){h(l,p,q,e,f)},error:function(l){d(l,e,f)}});return f},onSuggestLocationsComplete:function(){},
onAddressToLocationsComplete:function(){},onAddressesToLocationsComplete:function(){},onLocationToAddressComplete:function(){}});N("extend-esri")&&sa.setObject("tasks.Locator",xa,F);return xa})},"esri/tasks/AddressCandidate":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../geometry/Point"],function(xa,sa,ha,ia,U){xa=xa(null,{declaredClass:"esri.tasks.AddressCandidate",constructor:function(N){sa.mixin(this,N);this.location=new U(this.location)}});ha("extend-esri")&&
sa.setObject("tasks.AddressCandidate",xa,ia);return xa})},"esri/styles/basic":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/has","../kernel","../Color"],function(xa,sa,ha,ia,U){function N(T,k){if(T){var m={};m.color=new U(T.color);m.opacity=T.opacity||1;switch(k){case "point":m.outline={color:new U(T.outline.color),width:T.outline.width};m.size=T.size;break;case "line":m.width=T.width;break;case "polygon":m.outline={color:new U(T.outline.color),width:T.outline.width}}}return m}function F(T){if("esriGeometryPoint"===
T||"esriGeometryMultipoint"===T)T="point";else if("esriGeometryPolyline"===T)T="line";else if("esriGeometryPolygon"===T||"esriGeometryMultiPatch"===T)T="polygon";return T}var ja={"default":{name:"default",label:"Default",description:"Default theme for basic visualization of features.",basemapGroups:{light:"streets gray topo terrain national-geographic oceans osm gray-vector streets-vector topo-vector streets-relief-vector streets-navigation-vector".split(" "),dark:["satellite","hybrid","dark-gray",
"dark-gray-vector","streets-night-vector"]},pointSchemes:{light:{primary:{color:[77,77,77,1],outline:{color:[255,255,255,.25],width:1},size:8},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:1},size:8},{color:[255,255,255,1],outline:{color:[51,51,51,.25],width:1},size:8}]},dark:{primary:{color:[255,255,255,1],outline:{color:[92,92,92,.25],width:1},size:8},secondary:[{color:[226,119,40,1],outline:{color:[255,255,255,.25],width:1},size:8},{color:[26,26,26,1],outline:{color:[178,
178,178,.25],width:1},size:8}]}},lineSchemes:{light:{primary:{color:[77,77,77,1],width:2},secondary:[{color:[226,119,40,1],width:2},{color:[255,255,255,1],width:2}]},dark:{primary:{color:[255,255,255,1],width:2},secondary:[{color:[226,119,40,1],width:2},{color:[26,26,26,1],width:2}]}},polygonSchemes:{light:{primary:{color:[227,139,79,1],outline:{color:[255,255,255,.25],width:1},opacity:.8},secondary:[{color:[128,128,128,1],outline:{color:[255,255,255,.25],width:1},opacity:.8},{color:[255,255,255,
1],outline:{color:[128,128,128,.25],width:1},opacity:.8}]},dark:{primary:{color:[227,139,79,1],outline:{color:[92,92,92,.25],width:1},opacity:.8},secondary:[{color:[178,178,178,1],outline:{color:[92,92,92,.25],width:1},opacity:.8},{color:[26,26,26,1],outline:{color:[128,128,128,.25],width:1},opacity:.8}]}}}},ca={};(function(){var T,k,m;for(T in ja){var q=ja[T];var e=q.basemapGroups;var a=ca[T]={basemaps:[].concat(e.light).concat(e.dark),point:{},line:{},polygon:{}};for(k in e){var h=e[k];for(m=0;m<
h.length;m++){var d=h[m];q.pointSchemes&&(a.point[d]=q.pointSchemes[k]);q.lineSchemes&&(a.line[d]=q.lineSchemes[k]);q.polygonSchemes&&(a.polygon[d]=q.polygonSchemes[k])}}}})();var la={getAvailableThemes:function(T){var k=[],m;for(m in ja){var q=ja[m];var e=ca[m];T&&-1===xa.indexOf(e.basemaps,T)||k.push({name:q.name,label:q.label,description:q.description,basemaps:e.basemaps.slice(0)})}return k},getSchemes:function(T){var k=T.theme,m=T.basemap,q=F(T.geometryType);T=ca[k];var e;(T=(T=T&&T[q])&&T[m])&&
(e={primaryScheme:N(T.primary,q),secondarySchemes:xa.map(T.secondary,function(a){return N(a,q)})});return e},cloneScheme:function(T){if(T){var k=sa.mixin({},T);k.color&&(k.color=new U(k.color));k.outline&&(k.outline={color:k.outline.color&&new U(k.outline.color),width:k.outline.width})}return k}};ha("extend-esri")&&sa.setObject("styles.basic",la,ia);return la})},"widgets/PublicNotification/reviewResults":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./reviewResults.html dojo/_base/lang jimu/dijit/FeatureSetChooserForMultipleLayers dojo/dom-attr jimu/utils dojo/query dojo/dom-class dojo/Evented dojo/keys dojo/on dijit/focus dijit/form/TextBox".split(" "),
function(xa,sa,ha,ia,U,N,F,ja,ca,la,T,k,m,q,e){return xa([sa,ha,ia,k],{templateString:U,baseClass:"jimu-widget-public-notification-reviewResults",constructor:function(a){a&&N.mixin(this,a)},startup:function(){},postCreate:function(){this.clearBtn.innerHTML=this.nls.common.clear;ja.set(this.clearBtn,"aria-label",this.nls.common.clear);this.reviewResultsDownloadBtn.innerHTML=window.jimuNls.layerInfosMenu.itemDownload;ja.set(this.reviewResultsDownloadBtn,"aria-label",window.jimuNls.layerInfosMenu.itemDownload);
this.addresseeTextbox.set("value",this.addresseeLayer.title);this.formatSelect.addOption(this.formselectOptions);this._eventListners();this._createSelectTool()},_eventListners:function(){this.own(q(this.reviewResultsDownloadBtn,"keydown",N.hitch(this,function(a){a.keyCode!==m.ENTER&&a.keyCode!==m.SPACE||this._onDownloadBtnClicked()})));this.own(q(this.clearBtn,"keydown",N.hitch(this,function(a){a.keyCode!==m.ENTER&&a.keyCode!==m.SPACE||this.emit("clear")})))},_createSelectTool:function(){this._selectTool=
new F({geoTypes:this.geoTypes,map:this.map,updateSelection:!0,fullyWithin:!1},this.selectToolDiv);this._selectTool.startup();var a=la(".draw-item-btn",this._selectTool.domNode)[0];T.add(a,"esriCTselectToolDiv");a=la(".btn-clear",this._selectTool.domNode)[0];T.add(a,"hidden");this._onUnloading()},_onClearBtnClicked:function(){this.emit("clear")},_getGeoType:function(){switch(this.addresseeLayer.layerObject.geometryType){case "esriGeometryPolygon":var a="POLYGON";break;case "esriGeometryPolyline":a=
"POLYLINE";break;case "esriGeometryPoint":a="POINT";break;default:a="EXTENT"}return a},_onUnloading:function(){""!==this._selectTool&&null!==this._selectTool&&void 0!==this._selectTool&&this.own(q(this._selectTool,"unloading",N.hitch(this,function(){this.emit("unloadingComplete")})))},resetFeatureLayerToSelectTool:function(a){var h=[];h.push(a);""!==this._selectTool&&null!==this._selectTool&&void 0!==this._selectTool&&this._selectTool.setFeatureLayers(h)},_deactivateSelectTool:function(){this._selectTool&&
this._selectTool.deactivate()},_onDownloadBtnClicked:function(){this.emit("onDownloadBtnClicked")},setAccessibility:function(){this._setFirstFocusNode();this._setLastFocusNode();this.setFocus()},_setFirstFocusNode:function(){var a=la(".draw-item-btn",this._selectTool.domNode);""!==a&&null!==a&&void 0!==a&&ca.initFirstFocusNode(this.domNode,a[0])},_setLastFocusNode:function(){ca.initLastFocusNode(this.domNode,this.reviewResultsDownloadBtn)},setFocus:function(){ca.focusFirstFocusNode(this.domNode)},
setFocusOnDownloadButton:function(){e.focus(this.reviewResultsDownloadBtn)},updateDownloadBtnAriaLabel:function(a){ja.set(this.reviewResultsDownloadBtn,"aria-label",a?a+" "+this.reviewResultsDownloadBtn.innerHTML:this.reviewResultsDownloadBtn.innerHTML)}})})},"widgets/PublicNotification/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:dijit/templates/ProgressBar.html":'\x3cdiv class\x3d"dijitProgressBar dijitProgressBarEmpty" role\x3d"progressbar"\r\n\t\x3e\x3cdiv  data-dojo-attach-point\x3d"internalProgress" class\x3d"dijitProgressBarFull"\r\n\t\t\x3e\x3cdiv class\x3d"dijitProgressBarTile" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\x3e\x3cspan style\x3d"visibility:hidden"\x3e\x26#160;\x3c/span\r\n\t\x3e\x3c/div\r\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"labelNode" class\x3d"dijitProgressBarLabel" id\x3d"${id}_label"\x3e\x3c/div\r\n\t\x3e\x3cspan data-dojo-attach-point\x3d"indeterminateHighContrastImage"\r\n\t\t   class\x3d"dijitInline dijitProgressBarIndeterminateHighContrastImage"\x3e\x3c/span\r\n\x3e\x3c/div\x3e\r\n',
"url:jimu/dijit/templates/SearchDistance.html":'\x3cdiv\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"cbxDiv"\x3e\x3c/div\x3e\r\n\t\x3ctable style\x3d"table-layout:fixed;width:100%;"\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"15px"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"numberTextBox" data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n\t\t\t\t\t data-dojo-props\x3d\'"required":true,intermediateChanges:false,constraints:{min:0,pattern:"#####0.##########"}\'\r\n\t\t\t\t\t style\x3d"width:100%;" data-dojo-attach-event\x3d"change:_onNumberTextBoxChanged" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cselect data-dojo-type\x3d"jimu/dijit/formSelect" data-dojo-attach-point\x3d"unitSelect"\r\n\t\t\t\t\tdata-dojo-attach-event\x3d"change:_onUnitSelectChanged" style\x3d"width:100%;"\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"MILES" selected\x3e${nls.miles}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"KILOMETERS"\x3e${nls.kilometers}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"FEET"\x3e${nls.feet}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"METERS"\x3e${nls.meters}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"YARDS"\x3e${nls.yards}\x3c/option\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"NAUTICAL_MILES"\x3e${nls.nauticalMiles}\x3c/option\x3e\r\n\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e',
"url:jimu/dijit/templates/FeatureSetChooserForMultipleLayers.html":'\x3cdiv class\x3d"jimu-not-selectable"\x3e\r\n  \x3cdiv class\x3d"draw-item-btn" tabindex\x3d"0"\x3e\r\n    \x3cdiv class\x3d"current-draw-item" data-dojo-attach-point\x3d"currentDrawItem"\x3e\r\n      \x3cdiv class\x3d"btn-select" data-dojo-attach-point\x3d"btnSelect"\x3e\r\n        \x3cdiv class\x3d"labels"\x3e\r\n            \x3cdiv class\x3d"feature-action" data-dojo-attach-point\x3d"geoTypeIcon"\x3e\x3c/div\x3e\r\n            \x3cdiv class\x3d"select-text"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"arrow feature-action icon-drop-down" data-dojo-attach-event\x3d"click:_onArrowClicked"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"btn-clear" data-dojo-attach-point\x3d"btnClear" tabindex\x3d"0"\x3e\r\n    \x3cdiv class\x3d"feature-action icon-clear-selection"\x3e\x3c/div\x3e\x3cdiv class\x3d"clear-text"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:esri/dijit/Search/templates/Search.html":'\x3cdiv role\x3d"presentation" class\x3d"${theme}"\x3e\r\n  \x3cdiv role\x3d"presentation" class\x3d"${css.searchGroup}" data-dojo-attach-point\x3d"containerNode"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"expandNode" class\x3d"${css.searchExpandContainer}"\x3e\r\n      \x3cdiv class\x3d"${css.searchAnimateContainer}"\x3e\r\n        \x3cdiv role\x3d"button" title\x3d"${_i18n.widgets.Search.main.searchIn}" id\x3d"${id}_menu_button" class\x3d"${css.searchBtn} ${css.searchToggle}" tabindex\x3d"0" data-dojo-attach-point\x3d"sourcesBtnNode"\x3e\r\n          \x3cspan aria-hidden\x3d"true" role\x3d"presentation" class\x3d"${css.searchToggleIcon}"\x3e\x3c/span\x3e\x3cspan class\x3d"${css.searchSourceName}" data-dojo-attach-point\x3d"sourceNameNode"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"${css.searchInputGroup}"\x3e\r\n          \x3cform data-dojo-attach-point\x3d"formNode"\x3e\r\n            \x3cinput maxlength\x3d"${maxLength}" autocomplete\x3d"off" type\x3d"text" tabindex\x3d"0" class\x3d"${css.searchInput}" value\x3d"${value}" aria-haspopup\x3d"true" id\x3d"${id}_input" data-dojo-attach-point\x3d"inputNode" role\x3d"textbox"\x3e\r\n          \x3c/form\x3e\r\n          \x3cdiv role\x3d"button" class\x3d"${css.searchClear}" tabindex\x3d"0" data-dojo-attach-point\x3d"clearNode"\x3e\x3cspan aria-hidden\x3d"true" class\x3d"${css.searchClearIcon}"\x3e\x3c/span\x3e\x3cspan aria-hidden\x3d"true" class\x3d"${css.searchSpinner}"\x3e\x3c/span\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"suggestionsNode" class\x3d"${css.searchMenu} ${css.suggestionsMenu}"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv role\x3d"button" title\x3d"${_i18n.widgets.Search.main.searchButtonTitle}" class\x3d"${css.searchBtn} ${css.searchSubmit}" tabindex\x3d"0" data-dojo-attach-point\x3d"submitNode"\x3e\r\n      \x3cspan aria-hidden\x3d"true" role\x3d"presentation" class\x3d"${css.searchIcon}"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"${css.searchButtonText}"\x3e${_i18n.widgets.Search.main.searchButtonTitle}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"sourcesNode" class\x3d"${css.searchMenu} ${css.sourcesMenu}"\x3e\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"noResultsMenuNode" class\x3d"${css.searchMenu} ${css.searchNoResultsMenu}"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.searchClearFloat}"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/PublicNotification/reviewResults.html":' \x3cdiv style\x3d"width: 100%;" data-dojo-attach-point\x3d"reviewResultsNode"\x3e\r\n     \x3cdiv class\x3d"esriCTHeader"\x3e\r\n     \x3cdiv class\x3d"esriCTPageTittle"\x3e${nls.reviewResults.reviewResultsLabel}\x3c/div\x3e\r\n     \x3cdiv class\x3d"esriCTPageContent"\x3e\r\n\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.addresseeSource}\x3c/div\x3e\r\n            \x3cdiv class\x3d"entryFullWidth"\x3e\r\n              \x3cdiv style\x3d"width: 100%;" aria-label\x3d"${nls.groupingLabels.addresseeSource}" data-dojo-attach-point\x3d"addresseeTextbox" data-dojo-type\x3d"dijit/form/TextBox" disabled\x3dtrue\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cdiv class\x3d"section" style\x3d"padding-bottom:5px;"\x3e\r\n            \x3cdiv class\x3d"esriCTSelectToolWrapper"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"selectToolDiv"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.formatHeaderText}\x3c/div\x3e\r\n            \x3cdiv class\x3d"entryFullWidth"\x3e\r\n              \x3cselect aria-label\x3d"${nls.groupingLabels.formatHeaderText}" class\x3d"lastFocusNode" data-dojo-attach-point\x3d"formatSelect" data-dojo-type\x3d"jimu/dijit/formSelect"\x3e\x3c/select\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv id\x3d"rrNumAddresseesFound" class\x3d"hidden"\x3e\x3c/div\x3e\r\n            \x3c!-- aria-label added at runtime --\x3e\r\n            \x3cdiv class\x3d"esriCTButtonsWrapper"\x3e\r\n                \x3cdiv class\x3d"esriCTButton esriCTMargin10"\x3e\r\n                    \x3cdiv tabindex\x3d"0" role\x3d"button" data-dojo-attach-point\x3d"clearBtn" class\x3d"jimu-btn jimu-float-trailing"\r\n                    data-dojo-attach-event\x3d"onclick:_onClearBtnClicked"\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriCTButton esriCTMargin2"\x3e\r\n                    \x3cdiv tabindex\x3d"0" role\x3d"button" data-dojo-attach-point\x3d"reviewResultsDownloadBtn"\r\n                        class\x3d"jimu-btn jimu-float-trailing focusableItem" data-dojo-attach-event\x3d"onclick:_onDownloadBtnClicked"\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n     \x3c/div\x3e\r\n    \x3c/div\x3e\r\n \x3c/div\x3e',
"url:widgets/PublicNotification/Widget.html":'\x3cdiv\x3e\r\n    \x3cdiv id\x3d"activeWidgetSection" style\x3d"display:none" data-dojo-attach-point\x3d"mainPageContainer"\x3e\r\n        \x3cdiv id\x3d"sourceInputsSection"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.searchHeaderText}\x3c/div\x3e\r\n            \x3cdiv class\x3d"section"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"searchNode" class\x3d"search-node searchDijitFillsContainer"\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv tabindex\x3d"-1" data-dojo-attach-point\x3d"searchResultsNode" class\x3d"searchResults arcgisSearch"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"section" data-dojo-attach-point\x3d"drawBoxDijit"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"drawBoxDiv"\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"section" data-dojo-attach-point\x3d"searchDistanceDijit" style\x3d"height:68px"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"searchDistanceDiv" class\x3d"section entryFullWidth"\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv id\x3d"sourceInputsSectionScrim" class\x3d\'scrim hidden\'\x3e\x3c/div\x3e\r\n\r\n        \x3cdiv id\x3d"addresseeSourceSection" class\x3d"section"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.addresseeSource}\x3c/div\x3e\r\n            \x3cdiv class\x3d"entryFullWidth"\x3e\r\n                \x3cselect aria-label\x3d"${nls.groupingLabels.addresseeSource}" data-dojo-attach-point\x3d"addresseeSelect"\r\n                    data-dojo-type\x3d"jimu/dijit/formSelect"\x3e\x3c/select\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv\x3e${nls.groupingLabels.formatHeaderText}\x3c/div\x3e\r\n            \x3cdiv class\x3d"entryFullWidth"\x3e\r\n                \x3cselect aria-label\x3d"${nls.groupingLabels.formatHeaderText}" class\x3d"lastFocusNode" data-dojo-attach-point\x3d"formatSelect"\r\n                    data-dojo-type\x3d"jimu/dijit/formSelect"\x3e\x3c/select\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv id\x3d"numAddresseesFound"\x3e\x3c/div\x3e\r\n            \x3c!-- aria-label added at runtime --\x3e\r\n            \x3cdiv class\x3d"esriCTButtonsWrapper"\x3e\r\n                \x3cdiv class\x3d"esriCTButton esriCTMargin10"\x3e\r\n                    \x3cdiv tabindex\x3d"0" role\x3d"button" data-dojo-attach-point\x3d"reviewBtn" data-dojo-attach-event\x3d"onclick:_onReviewBtnClicked" class\x3d"jimu-btn jimu-float-trailing hidden"\x3e\x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriCTButton esriCTMargin2"\x3e\r\n                    \x3cdiv tabindex\x3d"0" role\x3d"button" data-dojo-attach-point\x3d"downloadBtn" data-dojo-attach-event\x3d"onclick:_onDownloadBtnClicked" class\x3d"jimu-btn jimu-float-trailing focusableItem hidden"\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"section"\x3e\r\n            \x3cdiv data-dojo-type\x3d"dijit/ProgressBar" class\x3d"progressbar"\r\n                data-dojo-attach-point\x3d"indeterminateProgress" id\x3d"indeterminateProgress"\x3e\x3c/div\x3e\r\n            \x3cdiv data-dojo-type\x3d"dijit/ProgressBar" class\x3d"progressbar"\r\n                data-dojo-attach-point\x3d"determinateProgress" id\x3d"downloadProgress"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3c!-- results review page starts --\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"reviewResultsContainer"\x3e\x3c/div\x3e\r\n    \x3c!-- results review page ends --\x3e\r\n    \x3cdiv id\x3d"nothingConfiguredSection" style\x3d"display:none"\x3e\r\n        \x3cdiv\x3e${nls.tooltips.nothingConfigured}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/PublicNotification/css/style.css":'.jimu-widget-public-notification .search-controls {height: 34px;}.jimu-widget-public-notification .search-node {height: 34px;}.jimu-widget-public-notification .esriCTSelectLocationDiv {margin: 0px 0px 0px 2px; float: right; min-width: 34px;}.jimu-widget-public-notification .imgBtnCell {width: 34px;}.jimu-widget-public-notification .imgBtn {cursor: pointer; width: 34px; height: 34px; border: 1px solid #57585A; border-radius: 4px; background-position: center center; background-repeat: no-repeat; position: relative;}.jimu-widget-public-notification .focusableItem:focus {border-color: rgb(81,177,254); box-shadow: rgb(81,177,254) 0px 0px 5px 0px; outline-color: rgb(77,144,254);}.jimu-widget-public-notification .arcgisSearch .searchBtn {padding: 6px;}.jimu-widget-public-notification table {width: 100%;}.jimu-widget-public-notification {min-height: 32px;}.jimu-widget-public-notification .search-node.default-width-for-openAtStart {width: 274px;}.jimu-widget-public-notification .result-item-selected {background: #eee;}.jimu-widget-public-notification .arcgisSearch .searchBtn {padding: 6px;}.jimu-widget-public-notification .arcgisSearch .searchBtn:hover,.jimu-widget-public-notification .arcgisSearch .searchBtn:focus {background-color: #485566; color: white;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchToggle {float: left;}.jimu-rtl .jimu-widget-public-notification.use-absolute .arcgisSearch .searchToggle {float: right;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchInputGroup {position: absolute; top: 0; width: auto; left: 34px; right: 34px;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchInputGroup form {overflow: hidden; z-index: 0; position: relative;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchInputGroup .searchClear {z-index: 0;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchExpandContainer {float: none;}.jimu-widget-public-notification.use-absolute .arcgisSearch .searchSubmit {float: right;}.jimu-rtl .jimu-widget-public-notification.use-absolute .arcgisSearch .searchSubmit {float: left;}.jimu-widget-public-notification .arcgisSearch .show-all-results {position: absolute; height: 25px; color: #686868; line-height: 25px; display: none; width: 237px; margin: auto; background-color: #fff; padding: 0 12px; cursor: pointer;}.jimu-widget-public-notification .arcgisSearch .searchMenu {border-radius: 0; color: #686868; font-size: 12px; padding: 0; top: 33px;}.jimu-widget-public-notification .arcgisSearch .searchMenu li.active {background-color: #d9dde0; color: #686868; font-size: 14px;}.jimu-widget-public-notification .arcgisSearch .searchMenu li {padding: 0 12px; line-height: 25px;}.jimu-widget-public-notification .arcgisSearch .searchMenu .menuHeader {background-color: #d9dde0; color: #686868; font-size: 14px; min-height: 30px; padding: 0 12px; line-height: 30px;}.jimu-widget-public-notification .section,.jimu-widget-public-notification-reviewResults .section {clear: both; padding-bottom: 12px;}.jimu-widget-public-notification .entryFullWidth,.jimu-widget-public-notification-reviewResults .entryFullWidth {margin: 4px; height: 30px;}.jimu-widget-public-notification .distance {width: calc(100% - 126px); width: 49%;}.jimu-widget-public-notification .unitsSelect {float: right; width: 120px; width: 49%;}.jimu-widget-public-notification .hidden,.jimu-widget-public-notification-reviewResults .hidden {display: none;}.jimu-widget-public-notification .sourceInputsSection {position: relative;}.jimu-widget-public-notification .scrim {position: absolute; background-color: transparent; z-index: 10;}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .searchExpandContainer {float: none; width: calc(100% - 22px);}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .searchInputGroup {width: calc(100% - 12px);}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .searchGroup .searchInput {width: calc(100% - 13px); padding: 6px;}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .hasMultipleSources .searchExpandContainer {float: none; width: calc(100% - 10px);}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .hasMultipleSources .searchInputGroup {width: calc(100% - 58px);}.jimu-widget-public-notification .searchDijitFillsContainer .arcgisSearch .hasMultipleSources .searchInput {width: calc(100% - 12px); padding: 6px;}.jimu-widget-public-notification #numAddresseesFound {margin-left: 5px; margin-bottom: 12px;}.jimu-widget-public-notification .progressbar {display: none; margin-top: 40px;}.jimu-widget-public-notification .esriCTClearBoth {clear: both;}.jimu-widget-public-notification .esriCTFullWidth {width: 100%;}.jimu-widget-public-notification .switch-toggle.dijitCheckBox {height: 16px; width: 28px; border: 0 none; background: #adadad; position: relative; display: inline-block; cursor: pointer; -moz-border-radius: 10px; -webkit-border-radius: 10px; border-radius: 10px; margin-left: 2px;}.jimu-widget-public-notification .switch-toggle.dijitCheckBox:before {content: ""; background: #f8f8f8; position: absolute; padding: 0; height: 12px; width: 12px; left: auto; right: 14px; top: 2px; z-index: 1; -webkit-transition: right 0.3s; -moz-transition: right 0.3s; -o-transition: right 0.3s; transition: right 0.3s; -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%;}.jimu-widget-public-notification .switch-toggle.dijitCheckBox input {width: 100%; height: 100%; position: absolute; left: 0; z-index: 2;}.jimu-widget-public-notification .switch-toggle.dijitCheckBox.dijitCheckBoxChecked {background: #50ad4e;}.jimu-widget-public-notification .switch-toggle.dijitCheckBox.dijitCheckBoxChecked:before {right: 2px;}.jimu-widget-public-notification .esriCTButton, .jimu-widget-public-notification-reviewResults .esriCTButton {display: inline-block; max-width: 140px;}.jimu-widget-public-notification .esriCTButtonsWrapper, .jimu-widget-public-notification-reviewResults .esriCTButtonsWrapper {width: 100%; overflow: hidden; text-align: right; padding-top: 2px;}.jimu-widget-public-notification-reviewResults .esriCTHeader {height: 30px; border-bottom: 1px solid #464646; width: 100%;}.jimu-widget-public-notification-reviewResults .esriCTPageContent {width: calc(100% - 20px); margin: 20px 10px 10px 10px; display: inline-block;}.jimu-widget-public-notification-reviewResults .esriCTPageTittle {line-height: 10px; font-weight: bold; text-align: center; width: 100%; padding: 5px 3px 5px 3px; display: inline-block;}.jimu-widget-public-notification-reviewResults .esriCTselectToolDiv {margin: 0 auto;}.jimu-rtl .jimu-widget-public-notification .esriCTButtonsWrapper,.jimu-rtl .jimu-widget-public-notification-reviewResults .esriCTButtonsWrapper {text-align: left;}.jimu-rtl .jimu-widget-public-notification .esriCTMargin10,.jimu-rtl .jimu-widget-public-notification-reviewResults .esriCTMargin10 {margin-left: 10px;}.jimu-widget-public-notification .esriCTMargin10,.jimu-widget-public-notification-reviewResults .esriCTMargin10 {margin-right: 10px;}.jimu-widget-public-notification .esriCTMargin2,.jimu-widget-public-notification-reviewResults .esriCTMargin2 {margin-right: 2px;}.jimu-rtl .jimu-widget-public-notification .esriCTMargin2,.jimu-rtl .jimu-widget-public-notification-reviewResults .esriCTMargin2 {margin-left: 2px;}.jimu-widget-public-notification #rrNumAddresseesFound {margin-left: 5px; margin-bottom: 12px;}',
"*now":function(xa){xa(['dojo/i18n!*preload*widgets/PublicNotification/nls/Widget*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/_base/array dojo/_base/Color dojo/_base/lang dojo/dom dojo/DeferredList dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/Evented dojo/keys dojo/on dojo/dom-attr dojo/query dojo/string dijit/_WidgetsInTemplateMixin dijit/ProgressBar esri/geometry/geometryEngineAsync esri/layers/GraphicsLayer esri/tasks/BufferParameters esri/tasks/GeometryService esri/tasks/query esri/tasks/QueryTask esri/tasks/RelationshipQuery jimu/dijit/DrawBox jimu/dijit/SearchDistance jimu/dijit/FeatureSetChooserForMultipleLayers jimu/BaseWidget jimu/LayerInfos/LayerInfos jimu/utils ./Download_Avery ./Download_CSV ./Highlighter ./labelFormatUtils ./Queryer ./SearchLayers jimu/FilterManager jimu/SelectionManager esri/layers/FeatureLayer jimu/utils esri/symbols/SimpleFillSymbol esri/symbols/SimpleLineSymbol esri/renderers/SimpleRenderer esri/graphic ./reviewResults dijit/form/CheckBox jimu/dijit/formSelect dojo/domReady!".split(" "),function(xa,
sa,ha,ia,U,N,F,ja,ca,la,T,k,m,q,e,a,h,d,f,l,p,c,n,y,u,D,z,x,w,G,Q,S,O,M,E,B,P,V,W,Y,ma,da,Aa,qa,Ca,t){return xa([w,h,T],{baseClass:"jimu-widget-public-notification",_origin:void 0,_bufferDistanceMeters:0,_drawToolOption:{},_activeDrawToolNode:null,_formatCodeHandlers:{AVERY:"./Download_Avery",CSV:"./Download_CSV"},_formatCodeHandlerInstances:{AVERY:null,CSV:null},_bufferGeometry:null,_searchResultSymbology:{point:{lineColor:new ha("aqua"),lineWidth:2,fillColor:new ha([0,255,255,.1])},line:{lineColor:new ha("aqua"),
lineWidth:2},polygon:{lineColor:new ha("aqua"),lineWidth:2,fillColor:new ha([0,255,255,.1])}},_bufferSymbology:{point:{lineColor:new ha("green"),lineWidth:3,fillColor:new ha([0,255,0,.1])},line:{lineColor:new ha("green"),lineWidth:3},polygon:{lineColor:new ha("green"),lineWidth:3,fillColor:new ha([0,255,0,.1])}},_addresseeSymbology:{point:{lineColor:new ha("blue"),lineWidth:2,fillColor:new ha([0,0,255,.1])},line:{lineColor:new ha("blue"),lineWidth:2},polygon:{lineColor:new ha("blue"),lineWidth:2,
fillColor:new ha([0,0,255,.1])}},_addresseeSources:[],_foundAddressees:[],_foundLabels:[],nls:null,config:null,_testConfig:null,_currentOpenPanel:"mainPage",_reviewResultsObj:null,_geoTypes:null,constructor:function(v,H){this._testConfig=H},postMixInProperties:function(){this._testConfig&&(this.nls=this._testConfig.nls,this.config=this._testConfig.config);this.nls.common={};ia.mixin(this.nls.common,window.jimuNls.common)},postCreate:function(){this.inherited(arguments);this.filterManager=V.getInstance();
this.selectionManager=W.getInstance();this._activeDrawToolNode=null;this._checkDownloadBtnEnable()},startup:function(){this.inherited(arguments);this._currentOpenPanel="mainPage";this._geoTypes=this._reviewResultsObj=null;this._init()},onOpen:function(){this._searchComponent&&this._searchComponent.setFocus();this._dblClickZoom=this.map.isDoubleClickZoom},onClose:function(){this._clearAll()},destroy:function(){this._drawTool&&(this._drawTool.destroyRecursive(),this._drawTool=null);this.inherited(arguments)},
_isFeatureUsedForBuffereing:function(v,H){var C=!1;this._prevSelectedFeatures&&this._prevSelectedFeatures.bufferedFeatures&&0<this._prevSelectedFeatures.bufferedFeatures.length&&sa.some(this._prevSelectedFeatures.bufferedFeatures,function(J){if(v===J._layer.id&&J.attributes[J._layer.objectIdField]===H)return C=!0});return C},_filterBufferedFeatures:function(v){var H=[],C=[];sa.forEach(v,function(J){this._isFeatureUsedForBuffereing(J._layer.id,J.attributes[J._layer.objectIdField])?H.push(J):C.push(J)},
this);return{bufferedFeatures:H,nonBufferedFeatures:C}},_init:function(){var v,H,C=[],J;this.own(m(this.downloadBtn,"keydown",ia.hitch(this,function(oa){oa.keyCode!==k.ENTER&&oa.keyCode!==k.SPACE||this._onDownloadBtnClicked()})));this.own(m(this.reviewBtn,"keydown",ia.hitch(this,function(oa){oa.keyCode!==k.ENTER&&oa.keyCode!==k.SPACE||this._onReviewBtnClicked()})));G.getInstance(this.map,this.map.itemInfo).then(ia.hitch(this,function(oa){var aa=ia.clone(this.config.searchSourceSettings.search);R=
this.config.searchSourceSettings.drawing.tools[0];v=sa.filter(this.config.searchSourceSettings.drawing.tools.slice(1),function(L,ba){return"1"===R[ba]});0<v.length&&(this._drawToolOption.map=this.map,this._drawToolOption.geoTypes=v,this._drawToolOption.showClear=!0,this._drawToolOption.keepOneGraphic=!0,this._drawTool=new D(this._drawToolOption),H=this._drawTool.domNode.childNodes[1].children,sa.forEach(v,function(L){sa.some(H,function(ba){return ba.attributes["data-geotype"].nodeValue===L?(C.push(ba),
!0):!1})}),C.push(H[H.length-1]),this._replaceChildren(this._drawTool.domNode.childNodes[1],C),this._drawTool.placeAt(this.drawBoxDiv),this.own(this._drawTool.on("icon-selected",ia.hitch(this,this._onDrawIconSelected))),this.own(this._drawTool.on("draw-end",ia.hitch(this,this._onDrawEnd))),this.own(this._drawTool.on("clear",ia.hitch(this,this._onDrawClear))),this.own(this._drawTool.on("user-clear",ia.hitch(this,this._onDrawClear))));if(this.config.searchSourceSettings.drawing.select){var ua=ja.create("div",
{width:"100%"});var A=ja.create("div",null,ua);J=v.indexOf("LINE");0<=J&&(v.splice(J,1),0>v.indexOf("POLYLINE")&&v.splice(J,0,"POLYLINE"));this._geoTypes=0<v.length?v:["EXTENT"];this._selectTool=new x({geoTypes:this._geoTypes,map:this.map,updateSelection:!0,fullyWithin:!1},A);this._selectTool.startup();this.mapSelectionLayers=sa.filter(sa.map(oa.getLayerInfoArray(),function(L){return L.layerObject}),function(L){return L});var K=sa.filter(sa.map(aa.sources,function(L){return L.layerId}),function(L){return L});
this.mapSelectionLayers=sa.filter(this.mapSelectionLayers,function(L){return 0<=K.indexOf(L.id)});0<this.mapSelectionLayers.length&&this._selectTool.setFeatureLayers(this.mapSelectionLayers);A=e(".draw-item-btn",this._selectTool.domNode)[0];this.own(m(A,"click",ia.hitch(this,this._onSelectSelected)));A=e(".arrow",this._selectTool.domNode)[0];this.own(m(A,"click",ia.hitch(this,this._onSelectSelected)));A=e(".btn-clear",this._selectTool.domNode)[0];this.own(m(A,"click",ia.hitch(this,this._onSelectClear)));
this.own(m(this._selectTool,"unloading",ia.hitch(this,function(L,ba,ea,Z,wa){var na=[];!this._prevSelectedFeatures||Z||wa||(this._prevSelectedFeatures=null);var Ea={};sa.forEach(this.mapSelectionLayers,ia.hitch(this,function(Ia){var Ma=Ia.getSelectedFeatures(),ya=[];if(0<Ma.length){for(var Ua=0;Ua<Ma.length;Ua++)ya.push(Ma[Ua].attributes[Ia.objectIdField]);Ea[Ia.id]={layer:Ia,where:Ia.objectIdField+" in ( "+ya.join()+" )"}}}));L=[];var La=[];if(0<Object.keys(Ea).length)for(var Ta in Ea)La.push(Ea[Ta].layer),
L.push(this._queryer.findIntersectingFeatures(null,Ea[Ta].layer.url,[Ea[Ta].layer.objectIdField],Ea[Ta].where,this.map.spatialReference));(new N(L)).then(ia.hitch(this,function(Ia){for(var Ma=0;Ma<Ia.length;Ma++)Ia[Ma]&&1<Ia[Ma].length&&Ia[Ma][1].features&&(Ia[Ma][1].features=sa.map(Ia[Ma][1].features,function(ya){ya._layer=La[Ma];return ya}),na=na.concat(Ia[Ma][1].features),this.selectionManager&&this.selectionManager.getDisplayLayer(Ia[Ma][1].features[0]._layer.id)&&this.selectionManager._updateDisplayLayer(Ia[Ma][1].features[0]._layer,
Ia[Ma][1].features));this._prevSelectedFeatures=!this._bufferDistanceMeters||this._bufferDistanceMeters&&!this._prevSelectedFeatures?{bufferedFeatures:na,nonBufferedFeatures:[]}:this._filterBufferedFeatures(na);this._origin=sa.map(this._prevSelectedFeatures.bufferedFeatures,function(ya){return ya.geometry});this._prevSelectedFeatures&&(0<this._prevSelectedFeatures.nonBufferedFeatures.length||0<this._prevSelectedFeatures.bufferedFeatures.length)?this._doBufferSearch(this._prevSelectedFeatures.nonBufferedFeatures):
this._clearAll();0===na.length&&(this._prevSelectedFeatures=null)}))})));ja.place(ua,this.drawBoxDiv,"last")}aa.map=this.map;this._searchComponent=new P(aa,this.appConfig.portalUrl,oa,ja.create("div",null,this.searchNode),this);this._searchComponent.searchDijit().then(ia.hitch(this,function(L){this._searchDijit=L;this.own(m(L,"search-results",ia.hitch(this,this._onSearchResults)));this.own(m(L,"clear-search",ia.hitch(this,this._onClearSearch)));1===this._searchComponent.sources.length?Q.initFirstFocusNode(this.domNode,
this._searchComponent._searchDijit.inputNode):Q.initFirstFocusNode(this.domNode,this._searchComponent._searchDijit.sourcesBtnNode);this.openAtStartAysn=!0;ma.isAutoFocusFirstNodeWidget(this)&&Q.focusFirstFocusNode(this.domNode)}));R=this.config.addresseeSourceSettings.sources[0];this._addresseeSources=sa.filter(this.config.addresseeSourceSettings.sources.slice(1),function(L,ba){return"1"===R[ba]});sa.forEach(this._addresseeSources,function(L,ba){sa.some(oa._operLayers,function(ea){return L.name===
ea.title&&ea.popupInfo&&ea.popupInfo.description?(L.labelLineTemplates=E.convertPopupToLabelSpec(ea.popupInfo),L.labelLineTemplates.expressionInfos=ea.popupInfo.expressionInfos,L.labelLineTemplates.parsedExpressions=E.parseArcadeExpressions(ea.popupInfo.expressionInfos),L.url=ea.url,L.useRelatedRecords&&(L.labelLineTemplates.relationships=this._createRelationshipQueries(ea)),this.addresseeSelect.addOption({value:ba,label:L.name,id:ea.id}),!0):!1},this)},this)}));if(0<this.addresseeSelect.options.length){la.set("activeWidgetSection",
"display","");this.own(this.addresseeSelect.on("change",ia.hitch(this,this._updateAddresseesFromBufferGeometry)));this._queryer=new B(this.map,this.config.searchSourceSettings.geometryServiceURL);this._bufferLayer=new l;this.map.addLayer(this._bufferLayer);this._highlighter=new M(100);this._createSearchDistanceDisplay();var R=this.config.notificationSettings.labelFormats[0];sa.filter(this.config.notificationSettings.labelFormats.slice(1),ia.hitch(this,function(oa,aa){var ua="1"===R[aa];ua&&this.formatSelect.addOption({value:aa,
label:"\x3cspan"+(oa.hint?' title\x3d"'+oa.hint+'"':"")+"\x3e"+oa.name+"\x3c/span\x3e"});return ua}));this.reviewBtn.innerHTML=this.nls.reviewButtonLabel;this.downloadBtn.innerHTML=window.jimuNls.layerInfosMenu.itemDownload;q.set(this.downloadBtn,"aria-label",window.jimuNls.layerInfosMenu.itemDownload);this.resize()}else la.set("nothingConfiguredSection","display","block")},_createSearchDistanceDisplay:function(v){var H=!1,C=[],J=!1;this._searchDistance?H=this._searchDistance.isEnabled():ja.empty(this.searchDistanceDiv);
this._searchDistanceSource=v;v="undefined"===typeof this._searchDistanceSource?this.config.searchSourceSettings.drawing.buffer:this.config.searchSourceSettings.search.sources[this._searchDistanceSource].buffer;var R=v.bufferUnitsMenu[0];var oa=sa.filter(v.bufferUnitsMenu.slice(1),function(ua,A){return"1"===R[A]});this._searchDistance||(this._searchDistance=new z({distance:v.bufferDistance,unit:v.bufferUnits}),this._allUnitOptions=ia.clone(this._searchDistance.unitSelect.options),J=!0);var aa=this._allUnitOptions;
sa.forEach(oa,function(ua){sa.some(aa,function(A){return A.value===ua?(C.push(A),!0):!1},this)},this);0<C.length&&this._searchDistance.unitSelect.set("options",C);J?this._searchDistance.placeAt(this.searchDistanceDiv):(this._searchDistance.setDistance(v.bufferDistance),this._searchDistance.setUnit(v.bufferUnits));H?this._searchDistance.enable():this._searchDistance.disable();this._updateDisplayedBuffer(this._searchDistance.getData());J&&(this.own(this._searchDistance.numberTextBox.on("keyup",ia.hitch(this,
this._onBufferDistanceKeyup))),this.own(m(this._searchDistance,"change",ia.hitch(this,this._onSearchDistanceChanged))))},_updateDisplayedBuffer:function(v){this._bufferDistanceMeters=0;v&&v.isEnabled&&0<=v.meters&&(this._bufferDistanceMeters=v.meters);Array.isArray(this._origin)&&0<this._origin.length&&(this._prevSelectedFeatures&&0<this._prevSelectedFeatures.bufferedFeatures.length&&this._prevSelectedFeatures.nonBufferedFeatures?this._doBufferSearch(this._prevSelectedFeatures.nonBufferedFeatures):
this._doBufferSearch())},_replaceChildren:function(v,H){for(;v.firstChild;)v.removeChild(v.firstChild);sa.forEach(H,function(C){v.appendChild(C)})},_createRelationshipQueries:function(v){var H=!1,C={},J=/\d+/,R;if(R=v.popupInfo.description.match(/\{relationships\/\d+\//gm))H=!0,sa.forEach(R,function(oa){var aa=oa.match(J)[0];C.hasOwnProperty(aa)||(oa=new u,oa.outFields=["*"],oa.relationshipId=aa,oa.returnGeometry=!1,C[aa]={operLayer:v,relatedQuery:oa})});return H?C:null},_enableSourceInputs:function(v){var H=
U.byId("sourceInputsSectionScrim");v?F.add(H,"hidden"):(v=ca.getMarginBox(U.byId("sourceInputsSection")),ca.setMarginBox(H,v),F.remove(H,"hidden"))},_doBufferSearch:function(v){this._onStartBuffer();(!this._origin||this._origin&&0>=this._origin.length)&&v&&0<v.length&&this._unionNonBufferdFeatures(null,v);this._queryer.createBufferFromGeometries(this._origin,this._bufferDistanceMeters).then(ia.hitch(this,function(H){v&&0<v.length?this._unionNonBufferdFeatures(H,v):(this._bufferGeometry=H,Q.featureAction.zoomTo(this.map,
[this._bufferGeometry]),this._updateAddresseesFromBufferGeometry())}),ia.hitch(this,function(H){this._onEndBuffer();console.log(H)}))},_unionNonBufferdFeatures:function(v,H){var C;H=sa.map(H,function(J){return J.geometry});this._queryer.createBufferFromGeometries(H,0).then(ia.hitch(this,function(J){v?(C=[v].concat(J),this._queryer.createUnionOfGeometries(C).then(ia.hitch(this,function(R){this._onBufferAndUnionComplete(R)}),ia.hitch(this,function(R){this._onEndBuffer();console.log(R)}))):this._onBufferAndUnionComplete(J)}),
ia.hitch(this,function(J){this._onEndBuffer();console.log(J)}))},_onBufferAndUnionComplete:function(v){this._bufferGeometry=v;Q.featureAction.zoomTo(this.map,[this._bufferGeometry]);this._updateAddresseesFromBufferGeometry()},_getExpressionByLayerURL:function(v){var H="",C;for(C in this.map._layers)if(this.map._layers[C].url===v){H=this.filterManager.getFilterExp(C);break}return H},_updateAddresseesFromBufferGeometry:function(){this._onStartBuffer();if(this._bufferGeometry){this.indeterminateProgress.set({value:Number.POSITIVE_INFINITY});
la.set(this.indeterminateProgress.domNode,"display","block");this._createAndAddGraphic(this._bufferGeometry,this._bufferSymbology,this._bufferLayer);var v=this._getExpressionByLayerURL(this._addresseeSources[this.addresseeSelect.value].url);this._queryer.find(this._bufferGeometry,this._addresseeSources[this.addresseeSelect.value].url,["*"],"addressee",v).then(ia.hitch(this,function(H){H.features&&Array.isArray(H.features)&&0<H.features.length?(this._foundAddressees=H.features,la.set(this.indeterminateProgress.domNode,
"display","none"),this._highlighter.highlightFeatures(this._foundAddressees,ia.hitch(this,this._createAndAddGraphic),this._addresseeSymbology,this._bufferLayer,ia.hitch(this,this._setProgressPercentage))):this._activeDrawToolNode&&(this._activeDrawToolNode.focus(),this._activeDrawToolNode=null);this._onEndBuffer()}),ia.hitch(this,function(H){this._onEndBuffer();console.log(H)}))}else this._onEndBuffer()},_setProgressPercentage:function(v){0>=v?(this.determinateProgress.set({value:0}),la.set(this.determinateProgress.domNode,
"display","block")):100<=v?(this.determinateProgress.set({value:100}),la.set(this.determinateProgress.domNode,"display","none")):this.determinateProgress.set({value:v})},_createAndAddGraphic:function(v,H,C){(v=this._highlighter.createGraphic(v,H))&&C.add(v)},_onBufferDistanceKeyup:function(v){v.keyCode===k.ENTER&&this._updateDisplayedBuffer(this._searchDistance.getData())},_onSearchDistanceChanged:function(v){var H="undefined"===typeof this._searchDistanceSource?this.config.searchSourceSettings.drawing.buffer:
this.config.searchSourceSettings.search.sources[this._searchDistanceSource].buffer;H.bufferDistance=v.distance;H.bufferUnits=v.unit;this._updateDisplayedBuffer(v)},_onSearchResults:function(v){var H=v.results,C=v.activeSourceIndex;this._clearAll();0<v.numResults&&H&&E.objEach(H,function(J,R){J&&0<J.length&&(this._origin=[J[0].feature.geometry],this._createAndAddGraphic(J[0].feature,this._searchResultSymbology,this.map.graphics),this._createSearchDistanceDisplay("all"===C?R:C),this._doBufferSearch())},
this)},_onClearSearch:function(){this._clearAll()},_onDrawIconSelected:function(v){this._selectTool&&this._selectTool.isActive()&&this._selectTool.deactivate();this._activeDrawToolNode=v;this.map.disableDoubleClickZoom();this.map.navigationManager.setImmediateClick(!0);this.map.setInfoWindowOnClick(!1);this._clearAll();this._createSearchDistanceDisplay()},_onDrawEnd:function(v){this._dblClickZoom&&this.map.enableDoubleClickZoom();this.map.navigationManager.setImmediateClick(!1);this._origin=[v.geometry];
this._doBufferSearch()},_onDrawClear:function(){this.map.setInfoWindowOnClick(!0);this._clearAll()},_onSelectSelected:function(){this._onSelectClear()},_onSelectClear:function(){this._clearAll();this._createSearchDistanceDisplay()},_onStartBuffer:function(){this._enableSourceInputs(!1);this._clearBufferGraphics();this.indeterminateProgress.set({value:Number.POSITIVE_INFINITY});la.set(this.indeterminateProgress.domNode,"display","block")},_onEndBuffer:function(){this._enableSourceInputs(!0);la.set(this.indeterminateProgress.domNode,
"display","none");this._checkDownloadBtnEnable()},_clearAll:function(){this._origin=void 0;this._prevSelectedFeatures=null;this._foundAddressees=[];this._foundLabels=[];this._bufferGeometry=null;this._clearSelections();this.map.graphics.clear();this._drawTool&&this._drawTool.drawLayer&&this._drawTool.drawLayer.clear();this._clearBufferGraphics();this._checkDownloadBtnEnable()},_clearSelections:function(){sa.forEach(this.mapSelectionLayers,function(v){v.clearSelection()})},_clearBufferGraphics:function(){this._foundAddressees=
[];this._foundLabels=[];this._bufferLayer&&this._bufferLayer.clear();this._checkDownloadBtnEnable()},_checkDownloadBtnEnable:function(){0<this._addresseeSources.length&&(this.indeterminateProgress.set({value:Number.POSITIVE_INFINITY}),la.set(this.indeterminateProgress.domNode,"display","block"),E.createLabelsFromFeatures(this._foundAddressees,this._addresseeSources[this.addresseeSelect.value].labelLineTemplates,this._getSelectedAddresseeLayer(),this.map).then(ia.hitch(this,function(v){var H=U.byId("numAddresseesFound"),
C="",J=U.byId("rrNumAddresseesFound");this._foundLabels=v;0<this._foundLabels.length?(C=a.substitute(this.nls.numAddresseesFound,{count:this._foundLabels.length}),F.remove(this.downloadBtn,"hidden"),this.config.addresseeSourceSettings.hasOwnProperty("showReviewButton")&&this.config.addresseeSourceSettings.showReviewButton&&F.remove(this.reviewBtn,"hidden"),q.set(this.downloadBtn,"aria-label",C+" "+this.downloadBtn.innerHTML),Q.initLastFocusNode(this.domNode,this.downloadBtn),this.downloadBtn.focus()):
(F.add(this.downloadBtn,"hidden"),F.add(this.reviewBtn,"hidden"),Q.initLastFocusNode(this.domNode,this.formatSelect.domNode));H.innerHTML=C;""!==J&&null!==J&&void 0!==J&&(""!==C&&null!==C&&void 0!==C?(J.innerHTML=C,q.set(J,"aria-label",C),F.remove(J,"hidden"),this._reviewResultsObj.updateDownloadBtnAriaLabel(C)):(F.add(J,"hidden"),this._reviewResultsObj.updateDownloadBtnAriaLabel()));la.set(this.indeterminateProgress.domNode,"display","none")})))},_onDownloadBtnClicked:function(){var v=ia.clone(this.config.notificationSettings.labelPageOptions);
var H="reviewResultsPage"===this._currentOpenPanel?this.config.notificationSettings.labelFormats[this._reviewResultsObj.formatSelect.value+1]:this.config.notificationSettings.labelFormats[this.formatSelect.value+1];switch(H.labelSpec.type){case "AVERY":this._formatCodeHandlerInstances[H.labelSpec.type]=new S;v.guidance.printSuggestion=this.nls.tooltips.printSuggestion;break;case "CSV":this._formatCodeHandlerInstances[H.labelSpec.type]=new O}this._doSave(this._formatCodeHandlerInstances[H.labelSpec.type],
H.labelSpec,v)},_doSave:function(v,H,C){if(v&&0!==this._foundLabels.length){var J=this._foundLabels;var R=this._addresseeSources[this.addresseeSelect.value].name;if(C.hasOwnProperty("addCSVHeader")&&C.addCSVHeader&&"CSV"===H.type){var oa=[];oa.push(this._addresseeSources[this.addresseeSelect.value].labelLineTemplates.csvHeaderRow);J=oa.concat(J)}this.determinateProgress.set({value:0});la.set(this.determinateProgress.domNode,"display","block");console.log("Downloading ",J.length," labels");setTimeout(ia.hitch(this,
function(){v.save(J,R,H,C,this.domNode,this.determinateProgress).then(ia.hitch(this,function(aa){console.log("PDF document(s) "+(aa?"":"not ")+"created");this.determinateProgress.set({value:100});la.set(this.determinateProgress.domNode,"display","none")}))}),10)}},_getResultGraphicsLayer:function(){return this._bufferLayer},_getDisplayTaxParcelGraphicsLayer:function(){var v=this._getMainParcelFeatureLayerId();return this.map.getLayer("displayLayer_of_"+v)},_getMainParcelFeatureLayer:function(){var v=
this._getMainParcelFeatureLayerId();return this.map.getLayer(v)},_getMainParcelFeatureLayerId:function(){if(this.addresseeSelect)var v=this.addresseeSelect.getOptions(this.addresseeSelect.value).id;return v},_clearMainFeatureLayerSelection:function(){this._getMainParcelFeatureLayer().clearSelection()},_onReviewBtnClicked:function(){this._reviewResultsObj=null;ja.empty(this.reviewResultsContainer);this._reviewResultsObj=new t({nls:this.nls,config:this.config,formselectOptions:this.formatSelect.getOptions(),
addresseeLayer:this._getSelectedAddresseeLayer(),map:this.map,parentNode:this.domNode,geoTypes:this._geoTypes});this._reviewResultsObj.placeAt(this.reviewResultsContainer);this._reviewResultsObj.startup();this.own(m(this._reviewResultsObj,"unloadingComplete",ia.hitch(this,function(){this._showAndClearDisplayLayerOfTaxParcels();this._addNewResultFeaturesIntoBufferLayer();this._checkDownloadBtnEnable();this._reviewResultsObj.setFocusOnDownloadButton()})));this.own(m(this._reviewResultsObj,"onDownloadBtnClicked",
ia.hitch(this,function(){this._onDownloadBtnClicked()})));this.own(m(this._reviewResultsObj,"clear",ia.hitch(this,function(){F.add(this.downloadBtn,"hidden");F.add(this.reviewBtn,"hidden");this._showPanel("mainPage");this._deactivateSelectTool();this._deactivateReviewSelectTool();this._clearLayers();this._clearAll()})));this._showPanel("reviewResultsPage");this._deactivateSelectTool();this._clearLayers();this._onSelectionComplete();this._selectFeaturesInMainResultFeatureLayer()},_deactivateReviewSelectTool:function(){""!==
this._reviewResultsObj&&null!==this._reviewResultsObj&&void 0!==this._reviewResultsObj&&this._reviewResultsObj._deactivateSelectTool()},_showPanel:function(v){if(this._currentOpenPanel){var H=this._getNodeByName(this._currentOpenPanel);F.add(H,"hidden")}H=this._getNodeByName(v);F.remove(H,"hidden");this._lastOpenPanel=this._currentOpenPanel;this._currentOpenPanel=v;this._supportAccessibility()},_getNodeByName:function(v){switch(v){case "mainPage":var H=this.mainPageContainer;break;case "reviewResultsPage":H=
this.reviewResultsContainer}return H},_supportAccessibility:function(){1===this._searchComponent.sources.length?Q.initFirstFocusNode(this.domNode,this._searchComponent._searchDijit.inputNode):Q.initFirstFocusNode(this.domNode,this._searchComponent._searchDijit.sourcesBtnNode);Q.focusFirstFocusNode(this.domNode);Q.initLastFocusNode(this.domNode,this.formatSelect.domNode)},_getSelectedAddresseeLayer:function(){var v,H=this.addresseeSelect.getOptions(this.addresseeSelect.value).label,C=this.addresseeSelect.getOptions(this.addresseeSelect.value).id;
G.getInstance(this.map,this.map.itemInfo).then(ia.hitch(this,function(J){sa.some(J._operLayers,ia.hitch(this,function(R){H===R.title&&C===R.id&&(v=R)}))}));return v},_selectFeaturesInMainResultFeatureLayer:function(){var v=this._getWhereClause();var H=new n;H.where=v;this._getMainParcelFeatureLayer().selectFeatures(H,Y.SELECTION_NEW)},_getWhereClause:function(){var v=[];var H=this._getMainParcelFeatureLayer();sa.forEach(this._foundAddressees,ia.hitch(this,function(C){v.push(C.attributes[H.objectIdField])}));
return H.objectIdField+" IN ("+v.join()+")"},_showAndClearResultGraphicsLayer:function(){var v=this._getResultGraphicsLayer();v.show();v.clear()},_showAndClearDisplayLayerOfTaxParcels:function(){var v=this._getDisplayTaxParcelGraphicsLayer();""!==v&&null!==v&&void 0!==v&&(v.show(),v.clear())},_clearLayers:function(){this._showAndClearResultGraphicsLayer();this._showAndClearDisplayLayerOfTaxParcels();this._clearMainFeatureLayerSelection();this._clearSelectedFeaturesWebGL();this._clearDrawGraphics();
this._clearSelections();this.map.graphics.clear()},_clearSelectedFeaturesWebGL:function(){var v=this._getMainParcelFeatureLayer();""!==v&&null!==v&&void 0!==v&&v.hasOwnProperty("_selectedFeaturesWebGL")&&(v._selectedFeaturesWebGL={})},_hookFLToSelectTool:function(){var v=this._getMainParcelFeatureLayer();this._reviewResultsObj.resetFeatureLayerToSelectTool(v)},_onSelectionComplete:function(){var v=this._getMainParcelFeatureLayer(),H=this.own(m(v,"selection-complete",ia.hitch(this,function(){H[0].remove();
this._hookFLToSelectTool();this._addNewResultFeaturesIntoBufferLayer();this._checkDownloadBtnEnable();this._reviewResultsObj.setAccessibility()})))},_deactivateSelectTool:function(){this._selectTool&&this._selectTool.deactivate()},_addNewResultFeaturesIntoBufferLayer:function(){this._foundAddressees=[];this._bufferLayer.clear();var v=this._getMainParcelFeatureLayer();var H=v.getSelectedFeatures();v._selectedFeaturesWebGL={};sa.forEach(H,ia.hitch(this,function(C){v._selectedFeaturesWebGL[C.attributes[v.objectIdField]]=
C;var J=this._highlighter.createGraphic(C,this._addresseeSymbology);J&&(J.setAttributes(C.attributes),this._bufferLayer.add(J),this._foundAddressees.push(J))}))},_clearDrawGraphics:function(){this._drawTool&&this._drawTool.drawLayer&&this._drawTool.drawLayer.clear()},resize:function(){"reviewResultsPage"===this._currentOpenPanel?this._reviewResultsObj.setFocus():Q.focusFirstFocusNode(this.domNode)}})});