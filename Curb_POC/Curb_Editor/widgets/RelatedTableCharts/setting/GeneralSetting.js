// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"url:widgets/RelatedTableCharts/setting/GeneralSetting.html":'\x3cdiv\x3e\r\n    \x3cdiv class\x3d"esriCTmainContainer"\x3e\r\n        \x3cfieldset class\x3d"esriCTGeneralSettingFieldset"\x3e\r\n            \x3clegend class\x3d"esriCTGeneralSettingLegend" title\x3d"${nls.legendGeneralSettingText}"\x3e\r\n                ${nls.legendGeneralSettingText} \x3c/legend\x3e\r\n            \x3c!-- All components of general setting --\x3e\r\n            \x3cdiv class\x3d"esriCTGeneralSettingComponentsDiv"\x3e\r\n                \x3c!-- This part of html contains Label, Hint and icon for Graphic Location Symbol --\x3e\r\n                \x3cdiv class\x3d"esriCTGraphicLocationSymbolMainDiv"\x3e\r\n                    \x3cdiv class\x3d"esriCTLocationSymbolLabelMainDiv"\x3e\r\n                        \x3cdiv class\x3d"esriCTLocationSymbolLabel esriCTGeneralSettingLabel"\x3e\r\n                            ${nls.locationSymbolLabel}\r\n                        \x3c/div\x3e\r\n                        \x3cdiv class\x3d"esriCTLocationSymbolHint esriCTHint"\x3e\r\n                            ${nls.locationSymbolHintText}\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3c!-- End of esriCTLocationSymbolLabelMainDiv --\x3e\r\n                    \x3cdiv class\x3d"esriCTLocationSymbolIconDiv"\x3e\r\n                        \x3cdiv class\x3d"esriCTLocationSymbolIcon" data-dojo-attach-point\x3d"locationSymbolIconNode"\x3e\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3c!-- End of esriCTLocationSymbolIconDiv --\x3e\r\n                \x3c/div\x3e\r\n                \x3c!-- End of esriCTGraphicLocationSymbolMainDiv --\x3e\r\n\r\n                \x3c!-- This part of html contains Label, Hint and textbox for refresh interval --\x3e\r\n                \x3cdiv class\x3d"esriCTRefreshIntervalMainDiv"\x3e\r\n                    \x3cdiv class\x3d"esriCTRefreshIntervalLabelMainDiv"\x3e\r\n                        \x3cdiv class\x3d"esriCTRefreshIntervalLabel esriCTGeneralSettingLabel"\x3e\r\n                            ${nls.refreshIntervalLabel}\r\n                        \x3c/div\x3e\r\n                        \x3cdiv class\x3d"esriCTRefreshIntervalHint esriCTHint"\x3e\r\n                            ${nls.refreshIntervalHintText}\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3c!-- End of esriCTRefreshIntervalLabelMainDiv --\x3e\r\n                    \x3cdiv class\x3d"esriCTRefreshIntervalTxtBxDiv"\x3e\r\n                        \x3cinput type\x3d"text" value\x3d"0"  data-dojo-attach-point\x3d"refreshIntervalTxtBx"\r\n                            data-dojo-type\x3d"dijit/form/NumberTextBox" trim\x3d"true" constraints\x3d"{min:0,max:1440}"\r\n                            data-dojo-attach-event\x3d"change:_onRefreshIntervalChanged" /\x3e\r\n                    \x3c/div\x3e\r\n                    \x3c!-- End of esriCTRefreshIntervalTxtBxDiv --\x3e\r\n                \x3c/div\x3e\r\n                \x3c!-- End of esriCTRefreshIntervalMainDiv --\x3e\r\n                \r\n                \x3c!-- Show location tool --\x3e\r\n                \x3cdiv class\x3d"esriCTShowLocationMainDiv"\x3e\r\n                    \x3cdiv class\x3d"esriCTShowLocationLabelMainDiv"\x3e\r\n                        \x3cdiv class\x3d"esriCTGeneralSettingLabel"\x3e\r\n                            ${nls.showToolToSelectLabel}\r\n                        \x3c/div\x3e\r\n                        \x3cdiv class\x3d"esriCTHint"\x3e\r\n                            ${nls.showToolToSelectHintText}\r\n                        \x3c/div\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv class\x3d"esriCTShowLocationChkBxDiv"\x3e\r\n                        \x3cdiv class\x3d"esriCTCheckBox" checked\x3d"false" data-dojo-type\x3d"jimu/dijit/CheckBox"\r\n                                data-dojo-attach-point\x3d"setLocationCheckBoxNode"\x3e\r\n                    \x3c/div\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3c!-- End of general setting components --\x3e\r\n        \x3c/fieldset\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e\r\n'}});
define("jimu/BaseWidgetSetting dojo/_base/declare dojo/_base/lang dojo/on dijit/_WidgetsInTemplateMixin ./SymbolChooserPopup jimu/symbolUtils jimu/utils dojo/text!./GeneralSetting.html esri/symbols/jsonUtils jimu/dijit/Message dojo/dom-construct".split(" "),function(g,h,e,k,l,m,n,p,q,f,r,c){return h([g,l],{baseClass:"jimu-widget-RelatedTableCharts-setting",templateString:q,nls:this.nls,config:this.config,graphicLocatoionSymbolJSON:null,postMixInProperties:function(){this.nls=e.mixin(this.nls,window.jimuNls.common)},
postCreate:function(){this._createSymbolPickerNode();this._setRefreshIntervalTxtBxValue();this._setLocationChkBxValue()},_createSymbolPickerNode:function(){var a={};a.type=p.getSymbolTypeByGeometryType("esriGeometryPoint");this.config&&this.config.symbol&&this.config.symbol.graphicLocationSymbol&&(a.symbol=f.fromJson(this.config.symbol.graphicLocationSymbol));var b=this._createPreviewContainer(this.locationSymbolIconNode);var d={symbolChooserTitle:this.nls.locationSymbolLabel,symbolParams:a,nls:this.nls};
this._showSelectedSymbol(b,a.symbol);this.own(k(b,"click",e.hitch(this,function(){a.symbol=f.fromJson(this.graphicLocatoionSymbolJSON);this._initSymbolChooserPopup(d,b)})))},_createPreviewContainer:function(a){a=c.create("table",{cellspacing:"0",cellpadding:"0"},a);a=c.create("tr",{style:"height:30px"},a);var b=c.create("td",{},a);c.create("div",{innerHTML:this.nls.symbolPickerPreviewText,"class":"esriCTSymbolPreviewText"},b);a=c.create("td",{},a);return c.create("div",{"class":"esriCTSymbolChooserNode"},
a)},_initSymbolChooserPopup:function(a,b){var d=new m(a);d.onOkClick=e.hitch(this,function(){var t=d.symbolChooser.getSymbol();this._showSelectedSymbol(b,t);d.popup.close()})},_showSelectedSymbol:function(a,b){c.empty(a);if(b){var d=n.createSymbolNode(b);d||(d=c.create("div"));c.place(d,a);this.graphicLocatoionSymbolJSON=b.toJson()}},getConfig:function(){var a={symbol:{graphicLocationSymbol:this.graphicLocatoionSymbolJSON},refreshInterval:this.refreshIntervalTxtBx.value,showLocationTool:this.setLocationCheckBoxNode.getValue()};
if(this.refreshIntervalTxtBx.isValid())return a;this._errorMessage(this.nls.errMsgRefreshInterval,this.nls.generalSettingLabel);return!1},_setRefreshIntervalTxtBxValue:function(){this.config&&this.config.refreshInterval&&this.refreshIntervalTxtBx.set("value",this.config.refreshInterval)},_setLocationChkBxValue:function(){this.config.showLocationTool&&this.setLocationCheckBoxNode.setValue(this.config.showLocationTool)},_onRefreshIntervalChanged:function(){isNaN(this.refreshIntervalTxtBx.get("value"))&&
this.refreshIntervalTxtBx.set("value",0)},_errorMessage:function(a,b){(new r({message:a})).message=a;this.tab&&b&&this.tab.getSelectedTitle()!==b&&this.tab.selectTab(b)}})});