// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"esri/tasks/datareviewer/DashboardTask":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/Deferred dojo/has ./_DRSBaseTask ./DashboardResult ./ReviewerFilters ../../kernel ../../request".split(" "),function(x,B,q,u,r,a,g,e,b,d){x=x(a,{declaredClass:"esri.tasks.datareviewer.DashboardTask",constructor:function(f){this.onGetDashboardResultsComplete=q.hitch(this,this.onGetDashboardResultsComplete);this.onGetDashboardFieldNamesComplete=q.hitch(this,this.onGetDashboardFieldNamesComplete)},
getDashboardResults:function(f,l){var c=this._successHandler,k=this._errorHandler,h=this._appendQueryParams,m=new u;null===l||void 0===l?(f=this._url+"/Dashboard/reviewerResultsBy/"+f,l={f:"json"}):(f=this._url+"/Dashboard/reviewerResultsBy/"+f+"/filter",l={f:"json",filtersArray:l.toJSON()});f=h(f);d({callbackParamName:"callback",url:f,content:l}).then(q.hitch(this,function(t,n){if(void 0!==t.error)n=Error(),n.message=t.error.message,n.code=t.error.code,k(n,m);else try{if(void 0===t.dashboardResults)k(null,
m);else{var p=new g;B.forEach(t.dashboardResults,function(A,D){p.fieldValues.push(A.fieldValue);p.counts.push(A.count)});p.fieldName=t.fieldName;var v=new e;v.createFromJsonObject(t);p.filters=v;c({dashboardResult:p},"onGetDashboardResultsComplete",m)}}catch(A){k(A,m)}}),function(t,n){k(t,m)});return m},getDashboardFieldNames:function(){var f=this._successHandler,l=this._errorHandler,c=this._appendQueryParams,k=this._url+"/Dashboard";k=c(k);var h=new u;d({callbackParamName:"callback",url:k,content:{f:"json"}}).then(q.hitch(this,
function(m,t){if(void 0!==m.error)t=Error(),t.message=m.error.message,t.code=m.error.code,l(t,h);else try{var n=[];B.forEach(m.reviewerResultsBy,function(p,v){n.push(p.name)});f({fieldNames:n},"onGetDashboardFieldNamesComplete",h)}catch(p){l(p,h)}}),function(m,t){l(m,h)});return h},onGetDashboardResultsComplete:function(f){},onGetDashboardFieldNamesComplete:function(f){}});r("extend-esri")&&q.setObject("tasks.datareviewer.DashboardTask",x,b);return x})},"esri/tasks/datareviewer/_DRSBaseTask":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/has ../../request ../../urlUtils ../../kernel ../Task ./ReviewerSession".split(" "),
function(x,B,q,u,r,a,g,e,b,d){x=x(b,{declaredClass:"esri.tasks.datareviewer.DRSBaseTask",_url:null,_queryParams:null,_reviewerMapServerUrl:null,constructor:function(f){"/"==f[f.length-1]&&(f=f.slice(0,-1));f=g.urlToObject(f);this._url=f.path;this._queryParams=f.query;f=this._url.toLowerCase().lastIndexOf("/exts/");0<f&&(this._reviewerMapServerUrl=this._url.substring(0,f));this._successHandler=B.hitch(this,this._successHandler);this._errorHandler=B.hitch(this,this._errorHandler);this._appendQueryParams=
B.hitch(this,this._appendQueryParams);this.onError=B.hitch(this,this.onError)},_appendQueryParams:function(f){if(this._queryParams)for(var l in this._queryParams)f=g.urlToObject(f).query?f+("\x26"+l+"\x3d"+this._queryParams[l]):f+("?"+l+"\x3d"+this._queryParams[l]);return f},_successHandler:function(f,l,c){l&&this[l].apply(this,[f]);c&&c.resolve(f)},_errorHandler:function(f,l){null===f&&(f=Error("Unexpected response received from server"),f.code=500);this.onError(f);l&&l.reject(f)},getReviewerMapServerUrl:function(){var f=
null;if(f=this._reviewerMapServerUrl){if(this._queryParams)for(var l in this._queryParams)f=g.urlToObject(f).query?f+("\x26"+l+"\x3d"+this._queryParams[l]):f+("?"+l+"\x3d"+this._queryParams[l]);return f}return null},getLifecycleStatusStrings:function(){var f=this._successHandler,l=this._errorHandler,c=this._appendQueryParams,k=this._url+"/Utilities/getLifecycleStatusStrings";k=c(k);var h=new u;a({callbackParamName:"callback",url:k,content:{f:"json"}}).then(B.hitch(this,function(m,t){if(void 0!==m.error)t=
Error(),t.message=m.error.message,t.code=m.error.code,l(t,h);else try{var n=m.lifecycleStatusString;if(void 0===n)l(null,h);else{var p=[];q.forEach(n,function(v,A){p[v.descriptionCode]=v.descriptionString});f({lifecycleStatusStrings:p},"onGetLifecycleStatusStringsComplete",h)}}catch(v){l(v,h)}}),function(m,t){l(m,h)});return h},createReviewerSession:function(f,l){var c=this._successHandler,k=this._errorHandler,h=this._appendQueryParams,m=this._url+"/Utilities/createReviewerSession";m=h(m);var t=new u;
a({callbackParamName:"callback",url:m,content:{sessionName:f,sessionProperties:l.toJsonSessionOptions(),f:"json"}}).then(B.hitch(this,function(n,p){if(void 0!==n.error)p=Error(),p.message=n.error.message,p.code=n.error.code,k(p,t);else try{if(void 0===n.sessionAttributes)k(null,t);else{var v=n.sessionAttributes,A=new d(v.sessionId,v.sessionName,v.userName,v.versionName);c({reviewerSession:A},"onCreateReviewerSessionComplete",t)}}catch(D){k(D,t)}}),function(n,p){k(n,t)});return t},getReviewerSessions:function(){var f=
this._successHandler,l=this._errorHandler,c=this._appendQueryParams,k=this._url+"/Utilities/getReviewerSessions";k=c(k);var h=new u;a({callbackParamName:"callback",url:k,content:{f:"json"}}).then(B.hitch(this,function(m,t){if(void 0!==m.error)t=Error(),t.message=m.error.message,t.code=m.error.code,l(t,h);else try{var n=m.sessionAttributes;if(void 0===n)l(null,h);else{var p=[];q.forEach(n,function(v,A){p[A]=new d(v.sessionId,v.sessionName,v.userName,v.versionName)});f({reviewerSessions:p},"onGetReviewerSessionsComplete",
h)}}catch(v){l(v,h)}}),function(m,t){l(m,h)});return h},getCustomFieldNames:function(){var f=this._successHandler,l=this._errorHandler,c="BATCHJOBCHECKGROUP CHECKTITLE FEATUREOBJECTCLASS LIFECYCLEPHASE LIFECYCLESTATUS SESSIONID SEVERITY SUBTYPE".split(" "),k=this._appendQueryParams,h=this._url+"/Dashboard";h=k(h);var m=new u;a({callbackParamName:"callback",url:h,content:{f:"json"}}).then(B.hitch(this,function(t,n){if(void 0!==t.error)n=Error(),n.message=t.error.message,n.code=t.error.code,l(n,m);
else try{var p=[];void 0===t.reviewerResultsBy&&l(null,m);q.forEach(t.reviewerResultsBy,function(v,A){-1===c.indexOf(v.name)&&p.push(v.name)});f({customFieldNames:p},"onGetCustomFieldNamesComplete",m)}catch(v){l(v,m)}}),function(t,n){l(t,m)});return m},onGetLifecycleStatusStringsComplete:function(f){},onGetReviewerSessionsComplete:function(f){},onCreateReviewerSessionComplete:function(f){},onGetCustomFieldNamesComplete:function(f){},onError:function(f){}});r("extend-esri")&&B.setObject("tasks.datareviewer.DRSBaseTask",
x,e);return x})},"esri/tasks/datareviewer/ReviewerSession":function(){define(["dojo/_base/declare","dojo/has","dojo/_base/lang","../../kernel"],function(x,B,q,u){x=x(null,{declaredClass:"esri.tasks.datareviewer.ReviewerSession",sessionId:NaN,sessionName:"",userName:"",versionName:"",constructor:function(r,a,g,e){this.sessionId=r;this.sessionName=a;this.userName=g;void 0!==e&&(this.versionName=e)},toString:function(){return isNaN(this.sessionId)?null:"Session "+this.sessionId+" : "+this.sessionName}});
B("extend-esri")&&q.setObject("tasks.datareviewer.ReviewerSession",x,u);return x})},"esri/tasks/datareviewer/DashboardResult":function(){define(["dojo/_base/declare","dojo/has","dojo/_base/lang","../../kernel"],function(x,B,q,u){x=x(null,{declaredClass:"esri.tasks.datareviewer.DashboardResult",fieldName:null,fieldValues:null,counts:null,filters:null,constructor:function(){this.fieldName="";this.fieldValues=[];this.counts=[]},getCount:function(r){if(0<this.fieldValues.length&&0<this.counts.length&&
this.fieldValues.length===this.counts.length)for(var a=0;a<this.fieldValues.length;a++)if(this.fieldValues[a]===r)return this.counts[a];return 0}});B("extend-esri")&&q.setObject("tasks.datareviewer.DashboardResult",x,u);return x})},"esri/tasks/datareviewer/ReviewerFilters":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/json ../../geometry/Polygon dojo/has ../../kernel".split(" "),function(x,B,q,u,r,a,g){x=x(null,{declaredClass:"esri.tasks.datareviewer.ReviewerFilters",
constructor:function(){this.singleAttributeFilters=[];this.listAttributeFilters=[];this.rangeAttributeFilters=[];this.spatialFilters=[]},addAttributeFilter:function(e,b){var d={};d.fieldName=e;q.isArray(b)?1<b.length?(d.fieldValue=b,this.listAttributeFilters.push(d)):(d.fieldValue=b[0],this.singleAttributeFilters.push(d)):(d.fieldValue=b,this.singleAttributeFilters.push(d))},addRangeFilter:function(e,b,d){var f={},l={};l.minFieldValue=b;l.maxFieldValue=d;f.fieldName=e;f.fieldValue=l;this.rangeAttributeFilters.push(f)},
addSpatialFilter:function(e){var b={};e&&"rings"in e&&"spatialReference"in e&&(b.rings=e.rings,b.spatialReference=e.spatialReference,this.spatialFilters.push(b))},toJSON:function(){var e=[];null!==this.singleAttributeFilters&&0<this.singleAttributeFilters.length&&e.push({singleAttributeFilter:this.singleAttributeFilters});null!==this.listAttributeFilters&&0<this.listAttributeFilters.length&&e.push({listAttributeFilter:this.listAttributeFilters});null!==this.rangeAttributeFilters&&0<this.rangeAttributeFilters.length&&
e.push({rangeAttributeFilter:this.rangeAttributeFilters});null!==this.spatialFilters&&0<this.spatialFilters.length&&e.push({spatialFilter:this.spatialFilters});return 0===e.length?"":u.stringify({filtersArray:e})},getCount:function(){var e=0;null!==this.singleAttributeFilters&&0<this.singleAttributeFilters.length&&(e+=this.singleAttributeFilters.length);null!==this.listAttributeFilters&&0<this.listAttributeFilters.length&&(e+=this.listAttributeFilters.length);null!==this.rangeAttributeFilters&&0<
this.rangeAttributeFilters.length&&(e+=this.rangeAttributeFilters.length);null!==this.spatialFilters&&0<this.spatialFilters.length&&(e+=this.spatialFilters.length);return e},addReviewerFilters:function(e){if(!e)return 0;var b=0;B.forEach(e.singleAttributeFilters,function(d){this.addAttributeFilter(d.fieldName,d.fieldValue);b++});B.forEach(e.listAttributeFilters,function(d){this.addAttributeFilter(d.fieldName,d.fieldValue);b++});B.forEach(e.rangeAttributeFilters,function(d){this.addRangeFilter(d.fieldName,
d.minValue,d.maxValue);b++});B.forEach(e.spatialFilters,function(d){this.addSpatialFilter(d);b++});return b},createFromJsonObject:function(e){e&&e.filters&&q.isArray(e.filters)&&B.forEach(e.filters,q.hitch(this,function(b){"spatialFilter"in b?B.forEach(b.spatialFilter,q.hitch(this,function(d){this.addSpatialFilter(new r(d))})):"singleAttributeFilter"in b?B.forEach(b.singleAttributeFilter,q.hitch(this,function(d){this.addAttributeFilter(d.fieldName,d.fieldValue)})):"listAttributeFilter"in b?B.forEach(b.listAttributeFilter,
q.hitch(this,function(d){this.addAttributeFilter(d.fieldName,d.fieldValue)})):"rangeAttributeFilter"in b&&B.forEach(b.rangeAttributeFilter,q.hitch(this,function(d){this.addRangeFilter(d.fieldName,d.minValue,d.maxValue)}))}))}});a("extend-esri")&&q.setObject("tasks.datareviewer.ReviewerFilters",x,g);return x})},"widgets/ReviewerDashboard/ReviewerMapHelper":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/Color dojo/Deferred esri/symbols/SimpleMarkerSymbol esri/symbols/SimpleLineSymbol esri/symbols/SimpleFillSymbol esri/request esri/main esri/layers/LayerDrawingOptions esri/renderers/UniqueValueRenderer".split(" "),
function(x,B,q,u,r,a,g,e,b,d,f,l){return x(null,{_drsExtensionUrl:null,_queryParams:null,_reviewerMapServerUrl:null,pointSymbol:null,lineSymbol:null,polySymbol:null,_fieldQualifier:null,_colorMapCache:null,SEVERITY_COLORS:{1:"#D80202",2:"#DF370C",3:"#E76D16",4:"#E76D16",5:"#FFEC5A"},LIFECYCLEPHASE_COLORS:{2:"#C00000",4:"#FFFF00",6:"#92D050"},DEFAULT_COLOR:"#00C5FF",defaultColor:null,constructor:function(c,k,h,m,t){c=d.urlToObject(c);this._drsExtensionUrl=c.path;this._queryParams=c.query;c=this._drsExtensionUrl.toLowerCase().lastIndexOf("/exts/");
0<c&&(this._reviewerMapServerUrl=this._drsExtensionUrl.substring(0,c));this.defaultColor=null!==t?t:new u(this.DEFAULT_COLOR);this.pointSymbol=null!==k?k:new a(a.STYLE_CIRCLE,7,null,this.defaultColor);this.lineSymbol=null!==h?h:new g(g.STYLE_SOLID,this.defaultColor,5);this.polySymbol=null!==m?m:new e(e.STYLE_SOLID,null,this.defaultColor);this._colorMapCache={}},getLayerDrawingOptions:function(c,k,h){var m=new r;if(!c)return m;var t=this._reviewerMapServerUrl+"/0";null!==this._fieldQualifier?this._generateLayerDrawingOptions(c,
k,h,m):b({url:t,content:{f:"json"},callbackParamName:"callback"}).then(q.hitch(this,function(n){var p=new RegExp(/severity/i);B.forEach(n.fields,q.hitch(this,function(v){if(v.name.match(p))try{var A=v.name.split(p);this._fieldQualifier=1<A.length?A[0]:"";this._generateLayerDrawingOptions(c,k,h,m)}catch(D){this._errorHandler(D,m)}}))}),q.hitch(this,function(n){this._errorHandler(n,m)}));return m},_generateLayerDrawingOptions:function(c,k,h,m){var t=[];var n=this._mapDashboardFieldNameToFullyQualifiedName(c.fieldName).toLowerCase();
t=c.fieldValues;k=this._updateColorMapAndCache(c.fieldName,t,k,h);c=this._createPolyRenderer(n,t,k);h=this._createLineRenderer(n,t,k);n=this._createPointRenderer(n,t,k);k={layerDrawingOptions:{layerDrawingOptionsArray:[this._createLayerDrawingOptions(0,n),this._createLayerDrawingOptions(1,h),this._createLayerDrawingOptions(2,c)],colorMap:k}};m.resolve(k)},_updateColorMapAndCache:function(c,k,h,m){if(null===h){if(0<=c.toLowerCase().indexOf("severity")||0<=c.toLowerCase().indexOf("lifecyclephase"))m=
!0;h=this._colorMapCache.hasOwnProperty(c)?this._colorMapCache[c]:this._createDefaultColorMap(c)}k=this._appendMissingValuesToColorMap(k,h,m);return this._colorMapCache[c]=k},_appendMissingValuesToColorMap:function(c,k,h){var m=0,t;for(t in k)k.hasOwnProperty(t)&&++m;for(m=0;m<c.length;m++)k.hasOwnProperty(c[m])||(k[c[m]]=h?this.defaultColor:new u(this.getColor(m)));return k},getColor:function(c){var k="#E8940C #98C000 #0CBDE8 #F2DA9A #E74327 #DECF3F #878786 #452B7F #9A8B76 #B2912F #9893da #139887".split(" ");
return 11>c?k[c]:"#"+Math.floor(16777215*Math.random()).toString(16)},_createLayerDrawingOptions:function(c,k){var h=new f;h.layerId=c;h.renderer=k;return h},_createDefaultColorMap:function(c){return 0<=c.toLowerCase().indexOf("severity")?this._getColorMap(this.SEVERITY_COLORS):0<=c.toLowerCase().indexOf("lifecyclephase")?this._getColorMap(this.LIFECYCLEPHASE_COLORS):{}},_getColorMap:function(c){var k={},h;for(h in c)k[h]=new u(c[h]);return k},_mapDashboardFieldNameToFullyQualifiedName:function(c){if(!c||
""===c)return"";"FEATUREOBJECTCLASS"===c.toUpperCase()&&(c="ORIGINTABLE");return null!==this._fieldQualifier&&0<this._fieldQualifier.length?this._fieldQualifier+c:c},_createPolyRenderer:function(c,k,h){for(var m=new l(this.polySymbol,c),t=0;t<k.length;t++){var n=k[t],p=new e;p.style=this.polySymbol.style;h.hasOwnProperty(n)?p.color=h[n]:p.color=this.defaultColor;if(null!==this.polySymbol.outline){var v=new g;v.color=p.color;v.style=this.polySymbol.outline.style;v.width=this.polySymbol.outline.width;
p.outline=v}else p.outline=new g(g.STYLE_SOLID,p.color,1);"\x3cNull\x3e"===n&&(m=new l(p,c));m.addValue(n,p)}return m},_createLineRenderer:function(c,k,h){for(var m=new l(this.lineSymbol,c),t=0;t<k.length;t++){var n=k[t],p=new g;h.hasOwnProperty(n)?p.color=h[n]:p.color=this.defaultColor;p.style=this.lineSymbol.style;p.width=this.lineSymbol.width;"\x3cNull\x3e"===n&&(m=new l(p,c));m.addValue(n,p)}return m},_createPointRenderer:function(c,k,h){for(var m=new l(this.pointSymbol,c),t=0;t<k.length;t++){var n=
k[t],p=new a;h.hasOwnProperty(n)?p.color=h[n]:p.color=this.defaultColor;p.outline=this.pointSymbol.outline;p.size=this.pointSymbol.size;p.style=this.pointSymbol.style;"\x3cNull\x3e"===n&&(m=new l(p,c));m.addValue(n,p)}return m},_errorHandler:function(c,k){null===c&&(c=Error("Unexpected response received from server"),c.code=500);k&&k.reject(c)}})})},"esri/tasks/datareviewer/ReviewerResultsTask":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/json dojo/has ./_DRSBaseTask ../../request ../FeatureSet ../../layers/FeatureEditResult ../../kernel".split(" "),
function(x,B,q,u,r,a,g,e,b,d,f){x=x(g,{declaredClass:"esri.tasks.datareviewer.ReviewerResultsTask",constructor:function(l){this.onGetResultsComplete=B.hitch(this,this.onGetResultsComplete);this.onWriteResultComplete=B.hitch(this,this.onWriteResultComplete);this.onWriteFeatureAsResultComplete=B.hitch(this,this.onWriteFeatureAsResultComplete);this.onGetLayerDefinitionComplete=B.hitch(this,this.onGetLayerDefinitionComplete);this.onGetBatchRunDetailsComplete=B.hitch(this,this.onGetBatchRunDetailsComplete)},
getResults:function(l,c){var k=this._successHandler,h=this._errorHandler,m=this._appendQueryParams,t=this._url+"/ReviewerResults/getResults";t=m(t);var n=new u;l={queryParameters:l.toJSON(),f:"json"};null!==c&&void 0!==c&&(l.filtersArray=c.toJSON());e({callbackParamName:"callback",url:t,content:l}).then(B.hitch(this,function(p,v){if(void 0!==p.error)v=Error(),v.message=p.error.message,v.code=p.error.code,h(v,n);else try{if(void 0===p.features||void 0===p.fieldAliases||void 0===p.fields)h(null,n);
else{var A=new b(p);k({featureSet:A},"onGetResultsComplete",n)}}catch(D){h(D,n)}}),function(p,v){h(p,n)});return n},writeResult:function(l,c){var k=this._successHandler,h=this._errorHandler,m=this._appendQueryParams,t=this._url+"/ReviewerResults/writeResult";t=m(t);var n=new u;e({callbackParamName:"callback",url:t,content:{reviewerAttributes:l.toJSON(),geometry:r.stringify(c.toJson()),f:"json"}}).then(B.hitch(this,function(p,v){v=Error();if(void 0!==p.error)v.message=p.error.message,v.code=p.error.code,
h(v,n);else try{void 0!==p.result&&"error"===p.result?(v.message=p.messages,v.code=p.result,h(v,n)):"success"===p.result?k({success:!0},"onWriteResultComplete",n):h(null,n)}catch(A){h(A,n)}}),function(p,v){h(p,n)});return n},writeFeatureAsResult:function(l,c){var k=this._successHandler,h=this._errorHandler,m=this._appendQueryParams,t=this._url+"/ReviewerResults/writeFeatureAsResult";t=m(t);var n=new u;e({callbackParamName:"callback",url:t,content:{reviewerAttributes:l.toJSON(),feature:r.stringify(c.toJson()),
f:"json"}}).then(B.hitch(this,function(p,v){v=Error();if(void 0!==p.error)v.message=p.error.message,v.code=p.error.code,h(v,n);else try{void 0!==p.result&&"error"===p.result?(v.message=p.messages,v.code=p.result,h(v,n)):"success"===p.result?k({success:!0},"onWriteFeatureAsResultComplete",n):h(null,n)}catch(A){h(A,n)}}),function(p,v){h(p,n)});return n},getLayerDefinition:function(l){var c=this._successHandler,k=this._errorHandler,h=this._appendQueryParams,m=this._url+"/ReviewerResults/getLayerDefinition";
m=h(m);var t=new u;h={f:"json"};if(null!==l||void 0!==l)h.filtersArray=l.toJSON();e({callbackParamName:"callback",url:m,content:h}).then(B.hitch(this,function(n,p){if(void 0!==n.error)p=Error(),p.message=n.error.message,p.code=n.error.code,k(p,t);else try{void 0===n.whereClause?k(null,t):c({whereClause:n.whereClause},"onGetLayerDefinitionComplete",t)}catch(v){k(v,t)}}),function(n,p){k(n,t)});return t},getBatchRunDetails:function(l){var c=this._successHandler,k=this._errorHandler,h=this._appendQueryParams,
m=this._url+"/ReviewerResults/getBatchRunDetails";m=h(m);var t=new u;e({callbackParamName:"callback",url:m,content:{batchRunIds:r.stringify(l),f:"json"}}).then(B.hitch(this,function(n,p){if(void 0!==n.error)p=Error(),p.message=n.error.message,p.code=n.error.code,k(p,t);else try{if(void 0===n.features||void 0===n.fieldAliases||void 0===n.fields)k(null,t);else{var v=new b(n);c({featureSet:v},"onGetBatchRunDetailsComplete",t)}}catch(A){k(A,t)}}),function(n,p){k(n,t)});return t},updateLifecycleStatus:function(l,
c,k,h){var m=this._successHandler,t=this._errorHandler,n=this._appendQueryParams,p=this._url+"/ReviewerResults/updateLifecycleStatus";p=n(p);var v=new u;e({callbackParamName:"callback",url:p,content:{sessionId:l,lifecycleStatus:c,technicianName:k,filtersArray:h.toJSON(),f:"json"}}).then(B.hitch(this,function(A,D){if(void 0!==A.error)D=Error(),D.message=A.error.message,D.code=A.error.code,t(D,v);else try{var I=[];q.forEach(A.updateResults,function(M){var N=new d;N.error=Error(M.description);N.success=
M.success;N.objectId=M.objectId;I.push(N)});m({featureEditResults:I},"onUpdateLifecycleStatusComplete",v)}catch(M){t(M,v)}}),function(A,D){t(A,v)});return v},getResultsFieldNames:function(){return"recordId objectId subtype category sessionId checktitle resourceName checkName notes severity reviewStatus correctionStatus verificationStatus reviewTechnician correctionTechnician verificationTechnician reviewDateUtc correctionDateUtc verificationDateUtc lifecycleStatus".split(" ")},onGetResultsComplete:function(l){},
onWriteResultComplete:function(l){},onWriteFeatureAsResultComplete:function(l){},onGetLayerDefinitionComplete:function(l){},onGetBatchRunDetailsComplete:function(l){},onUpdateLifecycleStatusComplete:function(l){}});a("extend-esri")&&B.setObject("tasks.datareviewer.ReviewerResultsTask",x,f);return x})},"esri/tasks/datareviewer/ReviewerLifecycle":function(){define(["dojo/_base/declare","dojo/has","dojo/_base/lang","../../kernel"],function(x,B,q,u){x={declaredClass:"esri.tasks.datareviewer.ReviewerLifecycle",
UNKNOWN:0,REVIEWED:1,RESOLVED:2,MARK_AS_EXCPETION:3,ACCEPTABLE:4,UNRESOLVED_EXCEPTION:5,UNACCEPTABLE:6,UNRESOLVED_UNACCEPTABLE:7,UNRESOLVED_ACCEPTABLE:8,EXCEPTION:9,NEW:10,PASSED:11,FAILED:12,REVIEW:2,CORRECTION:4,VERIFICATION:6,LIFECYCLESTATUS_DESCRIPTIONS:{0:"Unknown",1:"Reviewed",2:"Resolved",3:"Mark As Exception",4:"Acceptable",6:"Unacceptable",9:"Exception",10:"New",11:"Passed",12:"Failed"},LIFECYCLEPHASE_DESCRIPTIONS:{2:"Review",4:"Correction",6:"Verification"},getLifecycleInfo:function(r){if(null===
r||0===r.length)return null;r.sort();var a=[];a=this._getNextStatus(r[0]);for(var g=1;g<r.length;g++){for(var e=this._getNextStatus(r[g]),b=[],d=0;d<e.length;d++)-1!=a.indexOf(e[d])&&b.push(e[d]);if(0<b.length)a=b;else{a.length=0;break}}r=null;0<a.length&&(r={nextLifecycleStatus:a,nextLifecyclePhase:this._getNextLifecyclePhase(a[0])});return r},toLifecycleStatusString:function(r){return isNaN(r)||!1===this.LIFECYCLESTATUS_DESCRIPTIONS.hasOwnProperty(r)?null:this.LIFECYCLESTATUS_DESCRIPTIONS[r]},toLifecyclePhaseString:function(r){return isNaN(r)||
!1===this.LIFECYCLEPHASE_DESCRIPTIONS.hasOwnProperty(r)?null:this.LIFECYCLEPHASE_DESCRIPTIONS[r]},getCurrentLifecyclePhase:function(r){if(isNaN(r)||!1===this.LIFECYCLESTATUS_DESCRIPTIONS.hasOwnProperty(r))return null;var a=-1;switch(r){case this.UNKNOWN:case this.REVIEWED:case this.UNACCEPTABLE:case this.UNRESOLVED_UNACCEPTABLE:case this.NEW:a=this.REVIEW;break;case this.RESOLVED:case this.MARK_AS_EXCPETION:a=this.CORRECTION;break;case this.ACCEPTABLE:case this.EXCEPTION:case this.UNRESOLVED_EXCEPTION:case this.UNRESOLVED_ACCEPTABLE:case this.PASSED:case this.FAILED:a=
this.VERIFICATION}return this.LIFECYCLEPHASE_DESCRIPTIONS[a]},_getNextStatus:function(r){var a=[];switch(r){case this.UNKNOWN:a.push(this.RESOLVED);a.push(this.MARK_AS_EXCPETION);a.push(this.PASSED);a.push(this.FAILED);break;case this.REVIEWED:a.push(this.RESOLVED);a.push(this.MARK_AS_EXCPETION);break;case this.NEW:a.push(this.PASSED);a.push(this.FAILED);break;case this.UNACCEPTABLE:case this.UNRESOLVED_UNACCEPTABLE:a.push(this.RESOLVED);a.push(this.MARK_AS_EXCPETION);break;case this.RESOLVED:a.push(this.ACCEPTABLE);
a.push(this.UNACCEPTABLE);break;case this.MARK_AS_EXCPETION:case this.UNRESOLVED_EXCEPTION:case this.UNRESOLVED_ACCEPTABLE:a.push(this.EXCEPTION);a.push(this.UNACCEPTABLE);break;case this.ACCEPTABLE:a.push(this.UNACCEPTABLE);break;case this.EXCEPTION:a.push(this.UNACCEPTABLE);break;case this.PASSED:a.push(this.FAILED);break;case this.FAILED:a.push(this.PASSED)}return a},_getNextLifecyclePhase:function(r){var a=-1;switch(r){case this.UNKNOWN:case this.REVIEWED:case this.UNACCEPTABLE:case this.UNRESOLVED_UNACCEPTABLE:a=
this.CORRECTION;break;case this.NEW:case this.RESOLVED:case this.MARK_AS_EXCPETION:case this.PASSED:case this.FAILED:a=this.VERIFICATION;break;case this.ACCEPTABLE:case this.EXCEPTION:case this.UNRESOLVED_EXCEPTION:case this.UNRESOLVED_ACCEPTABLE:a=this.REVIEW}return a}};B("extend-esri")&&q.setObject("tasks.datareviewer.ReviewerLifecycle",x,u);return x})},"dojox/charting/Chart":function(){define("../main dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/dom-style dojo/dom dojo/dom-geometry dojo/dom-construct dojo/_base/Color dojo/sniff ./Element ./SimpleTheme ./Series ./axis2d/common ./plot2d/common dojox/gfx/shape dojox/gfx dojo/has!dojo-bidi?./bidi/Chart dojox/lang/functional dojox/lang/functional/fold dojox/lang/functional/reversed".split(" "),
function(x,B,q,u,r,a,g,e,b,d,f,l,c,k,h,m,t,n,p){function v(z){return z.clear()}function A(z){return z.destroy()}function D(z){return z.dirty=!1}function I(z){return z.dirty=!0}function M(z){return z.name}function N(z,y){z&&y&&(z.min=Math.min(z.min,y.min),z.max=Math.max(z.max,y.max));return z||y}function K(z,y){var F={},J={};q.forEach(z,function(H){var E=F[H.name]=H.getSeriesStats();H.hAxis&&(J[H.hAxis]=N(J[H.hAxis],{min:E.hmin,max:E.hmax}));H.vAxis&&(J[H.vAxis]=N(J[H.vAxis],{min:E.vmin,max:E.vmax}))});
q.forEach(z,function(H){var E=F[H.name];if(H.hAxis){var w=J[H.hAxis];E.hmin=w.min;E.hmax=w.max}H.vAxis&&(w=J[H.vAxis],E.vmin=w.min,E.vmax=w.max);H.initializeScalers(y,E)})}var T=B.getObject("charting",!0,x),W={l:10,t:10,r:10,b:10};x=u(d("dojo-bidi")?"dojox.charting.NonBidiChart":"dojox.charting.Chart",null,{constructor:function(z,y){y||(y={});this.margins=y.margins||W;this._customMargins=!!y.margins;this.stroke=y.stroke;this.fill=y.fill;this.delayInMs=y.delayInMs||200;this.title=y.title;this.titleGap=
y.titleGap;this.titlePos=y.titlePos;this.titleFont=y.titleFont;this.titleFontColor=y.titleFontColor;this.titleAlign=y.titleAlign;this.chartTitle=null;this.htmlLabels=!0;"htmlLabels"in y&&(this.htmlLabels=y.htmlLabels);this.theme=null;this.axes={};this.stack=[];this.plots={};this.series=[];this.runs={};this.dirty=!0;this.node=a.byId(z);z=g.getMarginBox(z);this.surface=t.createSurface(this.node,z.w||400,z.h||300);-1==this.surface.declaredClass.indexOf("vml")&&(this._nativeClip=!0)},destroy:function(){q.forEach(this.series,
A);q.forEach(this.stack,A);p.forIn(this.axes,A);this.surface.destroy();this.chartTitle&&this.chartTitle.tagName&&e.destroy(this.chartTitle)},getCoords:function(){var z=this.node,y=r.getComputedStyle(z);y=g.getMarginBox(z,y);z=g.position(z,!0);y.x=z.x;y.y=z.y;return y},setTheme:function(z){this.theme=z.clone();this._customMargins||(this.margins=this.theme.chart.margins||W);this.dirty=!0;return this},addAxis:function(z,y){var F=y&&y.type||"Default";if("string"==typeof F){if(!T.axis2d||!T.axis2d[F])throw Error("Can't find axis: "+
F+" - Check require() dependencies.");y=new T.axis2d[F](this,y)}else y=new F(this,y);y.name=z;y.dirty=!0;z in this.axes&&this.axes[z].destroy();this.axes[z]=y;this.dirty=!0;return this},getAxis:function(z){return this.axes[z]},removeAxis:function(z){z in this.axes&&(this.axes[z].destroy(),delete this.axes[z],this.dirty=!0);return this},addPlot:function(z,y){var F=y&&y.type||"Default";if("string"==typeof F){if(!T.plot2d||!T.plot2d[F])throw Error("Can't find plot: "+F+" - didn't you forget to dojo.require() it?");
y=new T.plot2d[F](this,y)}else y=new F(this,y);y.name=z;y.dirty=!0;z in this.plots?(this.stack[this.plots[z]].destroy(),this.stack[this.plots[z]]=y):(this.plots[z]=this.stack.length,this.stack.push(y));this.dirty=!0;return this},getPlot:function(z){return this.stack[this.plots[z]]},removePlot:function(z){if(z in this.plots){var y=this.plots[z];delete this.plots[z];this.stack[y].destroy();this.stack.splice(y,1);p.forIn(this.plots,function(J,H,E){J>y&&(E[H]=J-1)});var F=q.filter(this.series,function(J){return J.plot!=
z});F.length<this.series.length&&(q.forEach(this.series,function(J){J.plot==z&&J.destroy()}),this.runs={},q.forEach(F,function(J,H){this.runs[J.plot]=H},this),this.series=F);this.dirty=!0}return this},getPlotOrder:function(){return p.map(this.stack,M)},setPlotOrder:function(z){var y={},F=p.filter(z,function(J){if(!(J in this.plots)||J in y)return!1;y[J]=1;return!0},this);F.length<this.stack.length&&p.forEach(this.stack,function(J){J=J.name;J in y||F.push(J)});z=p.map(F,function(J){return this.stack[this.plots[J]]},
this);p.forEach(z,function(J,H){this.plots[J.name]=H},this);this.stack=z;this.dirty=!0;return this},movePlotToFront:function(z){if(z in this.plots){var y=this.plots[z];if(y){var F=this.getPlotOrder();F.splice(y,1);F.unshift(z);return this.setPlotOrder(F)}}return this},movePlotToBack:function(z){if(z in this.plots){var y=this.plots[z];if(y<this.stack.length-1){var F=this.getPlotOrder();F.splice(y,1);F.push(z);return this.setPlotOrder(F)}}return this},addSeries:function(z,y,F){y=new c(this,y,F);y.name=
z;z in this.runs?(this.series[this.runs[z]].destroy(),this.series[this.runs[z]]=y):(this.runs[z]=this.series.length,this.series.push(y));this.dirty=!0;!("ymin"in y)&&"min"in y&&(y.ymin=y.min);!("ymax"in y)&&"max"in y&&(y.ymax=y.max);return this},getSeries:function(z){return this.series[this.runs[z]]},removeSeries:function(z){if(z in this.runs){var y=this.runs[z];delete this.runs[z];this.series[y].destroy();this.series.splice(y,1);p.forIn(this.runs,function(F,J,H){F>y&&(H[J]=F-1)});this.dirty=!0}return this},
updateSeries:function(z,y,F){z in this.runs&&(z=this.series[this.runs[z]],z.update(y),F?this.dirty=!0:(this._invalidateDependentPlots(z.plot,!1),this._invalidateDependentPlots(z.plot,!0)));return this},getSeriesOrder:function(z){return p.map(p.filter(this.series,function(y){return y.plot==z}),M)},setSeriesOrder:function(z){var y,F={},J=p.filter(z,function(H){if(!(H in this.runs)||H in F)return!1;var E=this.series[this.runs[H]];if(y){if(E.plot!=y)return!1}else y=E.plot;F[H]=1;return!0},this);p.forEach(this.series,
function(H){var E=H.name;E in F||H.plot!=y||J.push(E)});this.series=p.map(J,function(H){return this.series[this.runs[H]]},this).concat(p.filter(this.series,function(H){return H.plot!=y}));p.forEach(this.series,function(H,E){this.runs[H.name]=E},this);this.dirty=!0;return this},moveSeriesToFront:function(z){if(z in this.runs){var y=this.runs[z],F=this.getSeriesOrder(this.series[y].plot);if(z!=F[0])return F.splice(y,1),F.unshift(z),this.setSeriesOrder(F)}return this},moveSeriesToBack:function(z){if(z in
this.runs){var y=this.runs[z],F=this.getSeriesOrder(this.series[y].plot);if(z!=F[F.length-1])return F.splice(y,1),F.push(z),this.setSeriesOrder(F)}return this},resize:function(z,y){switch(arguments.length){case 1:g.setMarginBox(this.node,z);break;case 2:g.setMarginBox(this.node,{w:z,h:y})}var F=g.getMarginBox(this.node),J=this.surface.getDimensions();return J.width!=F.w||J.height!=F.h?(this.surface.setDimensions(F.w,F.h),this.dirty=!0,this.render()):this},getGeometry:function(){var z={};p.forIn(this.axes,
function(y){y.initialized()&&(z[y.name]={name:y.name,vertical:y.vertical,scaler:y.scaler,ticks:y.ticks})});return z},setAxisWindow:function(z,y,F,J){var H=this.axes[z];H&&(H.setWindow(y,F),q.forEach(this.stack,function(E){if(E.hAxis==z||E.vAxis==z)E.zoom=J}));return this},setWindow:function(z,y,F,J,H){"plotArea"in this||this.calculateGeometry();p.forIn(this.axes,function(E){var w=E.getScaler().bounds;var C=w.span/(w.upper-w.lower);E.vertical?(w=y,C=J/C/w):(w=z,C=F/C/w);E.setWindow(w,C)});q.forEach(this.stack,
function(E){E.zoom=H});return this},zoomIn:function(z,y,F){var J=this.axes[z];if(J){J=J.getScaler().bounds;var H=Math.min(y[0],y[1]),E=Math.max(y[0],y[1]);H=y[0]<J.lower?J.lower:H;E=y[1]>J.upper?J.upper:E;this.setAxisWindow(z,(J.upper-J.lower)/(E-H),H-J.lower);F?this.delayedRender():this.render()}},calculateGeometry:function(){if(this.dirty)return this.fullGeometry();var z=q.filter(this.stack,function(y){return y.dirty||y.hAxis&&this.axes[y.hAxis].dirty||y.vAxis&&this.axes[y.vAxis].dirty},this);K(z,
this.plotArea);return this},fullGeometry:function(){this._makeDirty();q.forEach(this.stack,v);this.theme||this.setTheme(new l);q.forEach(this.series,function(H){if(!(H.plot in this.plots)){if(!T.plot2d||!T.plot2d.Default)throw Error("Can't find plot: Default - didn't you forget to dojo.require() it?");var E=new T.plot2d.Default(this,{});E.name=H.plot;this.plots[H.plot]=this.stack.length;this.stack.push(E)}this.stack[this.plots[H.plot]].addSeries(H)},this);q.forEach(this.stack,function(H){H.assignAxes&&
H.assignAxes(this.axes)},this);var z=this.dim=this.surface.getDimensions();z.width=t.normalizedLength(z.width);z.height=t.normalizedLength(z.height);p.forIn(this.axes,v);K(this.stack,z);var y=this.offsets={l:0,r:0,t:0,b:0},F=this;p.forIn(this.axes,function(H){d("dojo-bidi")&&F._resetLeftBottom(H);p.forIn(H.getOffsets(),function(E,w){y[w]=Math.max(E,y[w])})});if(this.title){this.titleGap=0==this.titleGap?0:this.titleGap||this.theme.chart.titleGap||20;this.titlePos=this.titlePos||this.theme.chart.titlePos||
"top";this.titleFont=this.titleFont||this.theme.chart.titleFont;this.titleFontColor=this.titleFontColor||this.theme.chart.titleFontColor||"black";this.titleAlign=this.titleAlign||this.theme&&this.theme.chart&&this.theme.chart.titleAlign||"middle";var J=t.normalizedLength(t.splitFontString(this.titleFont).size);y["top"==this.titlePos?"t":"b"]+=J+this.titleGap}p.forIn(this.margins,function(H,E){y[E]+=H});this.plotArea={width:z.width-y.l-y.r,height:z.height-y.t-y.b};p.forIn(this.axes,v);K(this.stack,
this.plotArea);return this},render:function(){this._delayedRenderHandle&&(clearTimeout(this._delayedRenderHandle),this._delayedRenderHandle=null);this.theme&&this.theme.clear();if(this.dirty)return this.fullRender();this.calculateGeometry();p.forEachRev(this.stack,function(z){z.render(this.dim,this.offsets)},this);p.forIn(this.axes,function(z){z.render(this.dim,this.offsets)},this);this._makeClean();return this},fullRender:function(){this.fullGeometry();var z=this.offsets,y=this.dim,F=Math.max(0,
y.width-z.l-z.r),J=Math.max(0,y.height-z.t-z.b);q.forEach(this.series,h.purgeGroup);p.forIn(this.axes,h.purgeGroup);q.forEach(this.stack,h.purgeGroup);var H=this.surface.children;if(m.dispose)for(var E=0;E<H.length;++E)m.dispose(H[E]);this.chartTitle&&this.chartTitle.tagName&&e.destroy(this.chartTitle);this.surface.clear();this.chartTitle=null;this._renderChartBackground(y,z);this._renderPlotBackground(y,z,F,J);p.foldr(this.stack,function(w,C){return C.render(y,z),0},0);this._nativeClip||this._renderChartBackground(y,
z);this.title&&this._renderTitle(y,z);p.forIn(this.axes,function(w){w.render(y,z)});this._makeClean();return this},_renderTitle:function(z,y){var F="canvas"==t.renderer&&this.htmlLabels||!d("ie")&&!d("opera")&&this.htmlLabels?"html":"gfx",J=t.normalizedLength(t.splitFontString(this.titleFont).size),H=t._base._getTextBox(this.title,{font:this.titleFont}),E=this.titleAlign,w=d("dojo-bidi")&&this.isRightToLeft(),C=z.width/2;"edge"===E?(E="left",C=w?z.width-(y.r+H.w):y.l):"middle"!=E&&(w&&(E="left"===
E?"right":"left"),"left"===E?C=this.margins.l:"right"===E&&(E="left",C=z.width-(this.margins.l+H.w)));this.chartTitle=k.createText[F](this,this.surface,C,"top"==this.titlePos?J+this.margins.t:z.height-this.margins.b,E,this.title,this.titleFont,this.titleFontColor)},_renderChartBackground:function(z,y){var F=this.theme,J=void 0!==this.fill?this.fill:F.chart&&F.chart.fill;F=void 0!==this.stroke?this.stroke:F.chart&&F.chart.stroke;if("inherit"==J){var H=this.node;for(J=new b(r.get(H,"backgroundColor"));0==
J.a&&H!=document.documentElement;)J=new b(r.get(H,"backgroundColor")),H=H.parentNode}J&&(this._nativeClip?(J=f.prototype._shapeFill(f.prototype._plotFill(J,z),{x:0,y:0,width:z.width+1,height:z.height+1}),this.surface.createRect({width:z.width+1,height:z.height+1}).setFill(J)):(J=f.prototype._plotFill(J,z,y),y.l&&(H={x:0,y:0,width:y.l,height:z.height+1},this.surface.createRect(H).setFill(f.prototype._shapeFill(J,H))),y.r&&(H={x:z.width-y.r,y:0,width:y.r+1,height:z.height+2},this.surface.createRect(H).setFill(f.prototype._shapeFill(J,
H))),y.t&&(H={x:0,y:0,width:z.width+1,height:y.t},this.surface.createRect(H).setFill(f.prototype._shapeFill(J,H))),y.b&&(H={x:0,y:z.height-y.b,width:z.width+1,height:y.b+2},this.surface.createRect(H).setFill(f.prototype._shapeFill(J,H)))));F&&this.surface.createRect({width:z.width-1,height:z.height-1}).setStroke(F)},_renderPlotBackground:function(z,y,F,J){var H=this.theme,E=H.plotarea&&H.plotarea.fill;H=H.plotarea&&H.plotarea.stroke;var w={x:y.l-1,y:y.t-1,width:F+2,height:J+2};E&&(E=f.prototype._shapeFill(f.prototype._plotFill(E,
z,y),w),this.surface.createRect(w).setFill(E));H&&this.surface.createRect({x:y.l,y:y.t,width:F+1,height:J+1}).setStroke(H)},delayedRender:function(){this._delayedRenderHandle||(this._delayedRenderHandle=setTimeout(B.hitch(this,function(){this.render()}),this.delayInMs));return this},connectToPlot:function(z,y,F){return z in this.plots?this.stack[this.plots[z]].connect(y,F):null},fireEvent:function(z,y,F){if(z in this.runs){var J=this.series[this.runs[z]].plot;J in this.plots&&(J=this.stack[this.plots[J]])&&
J.fireEvent(z,y,F)}return this},_makeClean:function(){q.forEach(this.axes,D);q.forEach(this.stack,D);q.forEach(this.series,D);this.dirty=!1},_makeDirty:function(){q.forEach(this.axes,I);q.forEach(this.stack,I);q.forEach(this.series,I);this.dirty=!0},_invalidateDependentPlots:function(z,y){if(z in this.plots){var F=this.stack[this.plots[z]],J=y?"vAxis":"hAxis";F[J]?(z=this.axes[F[J]])&&z.dependOnData()&&(z.dirty=!0,q.forEach(this.stack,function(H){H[J]&&H[J]==F[J]&&(H.dirty=!0)})):F.dirty=!0}},setDir:function(z){return this},
_resetLeftBottom:function(z){},formatTruncatedLabel:function(z,y,F){}});return d("dojo-bidi")?u("dojox.charting.Chart",[x,n]):x})},"dojox/charting/Element":function(){define(["dojo/_base/array","dojo/dom-construct","dojo/_base/declare","dojox/gfx","dojox/gfx/shape"],function(x,B,q,u,r){return q("dojox.charting.Element",null,{chart:null,group:null,htmlElements:null,dirty:!0,renderingOptions:null,constructor:function(a,g){this.chart=a;this.group=null;this.htmlElements=[];this.dirty=!0;this.trailingSymbol=
"...";this._events=[];g&&g.renderingOptions&&(this.renderingOptions=g.renderingOptions)},purgeGroup:function(){this.destroyHtmlElements();if(this.group){this.getGroup().removeShape();var a=this.getGroup().children;if(r.dispose)for(var g=0;g<a.length;++g)r.dispose(a[g],!0);this.getGroup().rawNode&&B.empty(this.getGroup().rawNode);this.getGroup().clear();r.dispose&&r.dispose(this.getGroup(),!0);this.getGroup()!=this.group&&(this.group.rawNode&&B.empty(this.group.rawNode),this.group.clear(),r.dispose&&
r.dispose(this.group,!0));this.group=null}this.dirty=!0;this._events.length&&(x.forEach(this._events,function(e){e.shape.disconnect(e.handle)}),this._events=[]);return this},cleanGroup:function(a){this.destroyHtmlElements();a||(a=this.chart.surface);if(this.group){a=this.getGroup().children;if(r.dispose)for(var g=0;g<a.length;++g)r.dispose(a[g],!0);if(this.getGroup().rawNode){var e=this.getGroup().bgNode;B.empty(this.getGroup().rawNode)}this.getGroup().clear();e&&this.getGroup().rawNode.appendChild(e)}else if(this.group=
a.createGroup(),this.renderingOptions&&this.group.rawNode&&"http://www.w3.org/2000/svg"==this.group.rawNode.namespaceURI)for(g in this.renderingOptions)this.group.rawNode.setAttribute(g,this.renderingOptions[g]);this.dirty=!0;return this},getGroup:function(){return this.group},destroyHtmlElements:function(){this.htmlElements.length&&(x.forEach(this.htmlElements,B.destroy),this.htmlElements=[])},destroy:function(){this.purgeGroup()},overrideShape:function(a,g){},getTextWidth:function(a,g){return u._base._getTextBox(a,
{font:g}).w||0},getTextWithLimitLength:function(a,g,e,b){if(!a||0>=a.length)return{text:"",truncated:b||!1};if(!e||0>=e)return{text:a,truncated:b||!1};var d=a.substring(0,1)+this.trailingSymbol,f=this.getTextWidth(d,g);if(e<=f)return{text:d,truncated:!0};if(this.getTextWidth(a,g)<=e)return{text:a,truncated:b||!1};b=0;for(d=a.length;b<d;){if(2>=d-b){for(;this.getTextWidth(a.substring(0,b)+this.trailingSymbol,g)>e;)--b;return{text:a.substring(0,b)+this.trailingSymbol,truncated:!0}}f=b+Math.round(.618*
(d-b));this.getTextWidth(a.substring(0,f),g)<e?b=f:d=f}},getTextWithLimitCharCount:function(a,g,e,b){return!a||0>=a.length?{text:"",truncated:b||!1}:!e||0>=e||a.length<=e?{text:a,truncated:b||!1}:{text:a.substring(0,e)+this.trailingSymbol,truncated:!0}},_plotFill:function(a,g,e){if(!a||!a.type||!a.space)return a;var b=a.space;switch(a.type){case "linear":if("plot"===b||"shapeX"===b||"shapeY"===b){a=u.makeParameters(u.defaultLinearGradient,a);a.space=b;if("plot"===b||"shapeX"===b){var d=g.height-e.t-
e.b;a.y1=e.t+d*a.y1/100;a.y2=e.t+d*a.y2/100}if("plot"===b||"shapeY"===b)d=g.width-e.l-e.r,a.x1=e.l+d*a.x1/100,a.x2=e.l+d*a.x2/100}break;case "radial":"plot"===b&&(a=u.makeParameters(u.defaultRadialGradient,a),a.space=b,b=g.width-e.l-e.r,g=g.height-e.t-e.b,a.cx=e.l+b*a.cx/100,a.cy=e.t+g*a.cy/100,a.r=a.r*Math.sqrt(b*b+g*g)/200);break;case "pattern":if("plot"===b||"shapeX"===b||"shapeY"===b){a=u.makeParameters(u.defaultPattern,a);a.space=b;if("plot"===b||"shapeX"===b)d=g.height-e.t-e.b,a.y=e.t+d*a.y/
100,a.height=d*a.height/100;if("plot"===b||"shapeY"===b)d=g.width-e.l-e.r,a.x=e.l+d*a.x/100,a.width=d*a.width/100}}return a},_shapeFill:function(a,g){if(!a||!a.space)return a;var e=a.space;switch(a.type){case "linear":if("shape"===e||"shapeX"===e||"shapeY"===e){a=u.makeParameters(u.defaultLinearGradient,a);a.space=e;if("shape"===e||"shapeX"===e){var b=g.width;a.x1=g.x+b*a.x1/100;a.x2=g.x+b*a.x2/100}if("shape"===e||"shapeY"===e)b=g.height,a.y1=g.y+b*a.y1/100,a.y2=g.y+b*a.y2/100}break;case "radial":"shape"===
e&&(a=u.makeParameters(u.defaultRadialGradient,a),a.space=e,a.cx=g.x+g.width/2,a.cy=g.y+g.height/2,a.r=a.r*g.width/200);break;case "pattern":if("shape"===e||"shapeX"===e||"shapeY"===e){a=u.makeParameters(u.defaultPattern,a);a.space=e;if("shape"===e||"shapeX"===e)b=g.width,a.x=g.x+b*a.x/100,a.width=b*a.width/100;if("shape"===e||"shapeY"===e)b=g.height,a.y=g.y+b*a.y/100,a.height=b*a.height/100}}return a},_pseudoRadialFill:function(a,g,e,b,d){if(!a||"radial"!==a.type||"shape"!==a.space)return a;var f=
a.space;a=u.makeParameters(u.defaultRadialGradient,a);a.space=f;if(4>arguments.length)return a.cx=g.x,a.cy=g.y,a.r=a.r*e/100,a;f=5>arguments.length?b:(d+b)/2;return{type:"linear",x1:g.x,y1:g.y,x2:g.x+a.r*e*Math.cos(f)/100,y2:g.y+a.r*e*Math.sin(f)/100,colors:a.colors}}})})},"dojox/gfx/shape":function(){define("./_base dojo/_base/lang dojo/_base/declare dojo/_base/kernel dojo/_base/sniff dojo/on dojo/_base/array dojo/dom-construct dojo/_base/Color ./matrix".split(" "),function(x,B,q,u,r,a,g,e,b,d){function f(c,
k){for(var h=c.length-1;k<h;)c[k]=c[++k];c.length=h}var l=x.shape={};l.Shape=q("dojox.gfx.shape.Shape",null,{constructor:function(){this.parentMatrix=this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=this.rawNode=null;if(r("gfxRegistry")){var c=l.register(this);this.getUID=function(){return c}}},destroy:function(){r("gfxRegistry")&&l.dispose(this);this.rawNode&&"__gfxObject__"in this.rawNode&&(this.rawNode.__gfxObject__=null);this.rawNode=null},getNode:function(){return this.rawNode},
getShape:function(){return this.shape},getTransform:function(){return this.matrix},getFill:function(){return this.fillStyle},getStroke:function(){return this.strokeStyle},getParent:function(){return this.parent},getBoundingBox:function(){return this.bbox},getTransformedBoundingBox:function(){var c=this.getBoundingBox();if(!c)return null;var k=this._getRealMatrix();return[d.multiplyPoint(k,c.x,c.y),d.multiplyPoint(k,c.x+c.width,c.y),d.multiplyPoint(k,c.x+c.width,c.y+c.height),d.multiplyPoint(k,c.x,
c.y+c.height)]},getEventSource:function(){return this.rawNode},setClip:function(c){this.clip=c},getClip:function(){return this.clip},setShape:function(c){this.shape=x.makeParameters(this.shape,c);this.bbox=null;return this},setFill:function(c){if(!c)return this.fillStyle=null,this;var k=null;if("object"==typeof c&&"type"in c)switch(c.type){case "linear":k=x.makeParameters(x.defaultLinearGradient,c);break;case "radial":k=x.makeParameters(x.defaultRadialGradient,c);break;case "pattern":k=x.makeParameters(x.defaultPattern,
c)}else k=x.normalizeColor(c);this.fillStyle=k;return this},setStroke:function(c){if(!c)return this.strokeStyle=null,this;if("string"==typeof c||B.isArray(c)||c instanceof b)c={color:c};c=this.strokeStyle=x.makeParameters(x.defaultStroke,c);c.color=x.normalizeColor(c.color);return this},setTransform:function(c){this.matrix=d.clone(c?d.normalize(c):d.identity);return this._applyTransform()},_applyTransform:function(){return this},moveToFront:function(){var c=this.getParent();c&&(c._moveChildToFront(this),
this._moveToFront());return this},moveToBack:function(){var c=this.getParent();c&&(c._moveChildToBack(this),this._moveToBack());return this},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(c){return c?this.setTransform([this.matrix,c]):this},applyLeftTransform:function(c){return c?this.setTransform([c,this.matrix]):this},applyTransform:function(c){return c?this.setTransform([this.matrix,c]):this},removeShape:function(c){this.parent&&this.parent.remove(this,c);return this},
_setParent:function(c,k){this.parent=c;return this._updateParentMatrix(k)},_updateParentMatrix:function(c){this.parentMatrix=c?d.clone(c):null;return this._applyTransform()},_getRealMatrix:function(){for(var c=this.matrix,k=this.parent;k;)k.matrix&&(c=d.multiply(k.matrix,c)),k=k.parent;return c}});l._eventsProcessing={on:function(c,k){return a(this.getEventSource(),c,l.fixCallback(this,x.fixTarget,k))},connect:function(c,k,h){"on"==c.substring(0,2)&&(c=c.substring(2));return this.on(c,h?B.hitch(k,
h):k)},disconnect:function(c){return c.remove()}};l.fixCallback=function(c,k,h,m){m||(m=h,h=null);if(B.isString(m)){h=h||u.global;if(!h[m])throw['dojox.gfx.shape.fixCallback: scope["',m,'"] is null (scope\x3d"',h,'")'].join("");return function(t){return k(t,c)?h[m].apply(h,arguments||[]):void 0}}return h?function(t){return k(t,c)?m.apply(h,arguments||[]):void 0}:function(t){return k(t,c)?m.apply(h,arguments):void 0}};B.extend(l.Shape,l._eventsProcessing);l.Container={_init:function(){this.children=
[];this._batch=0},openBatch:function(){return this},closeBatch:function(){return this},add:function(c){var k=c.getParent();k&&k.remove(c,!0);this.children.push(c);return c._setParent(this,this._getRealMatrix())},remove:function(c,k){for(var h=0;h<this.children.length;++h)if(this.children[h]==c){k||(c.parent=null,c.parentMatrix=null);f(this.children,h);break}return this},clear:function(c){for(var k,h=0;h<this.children.length;++h)k=this.children[h],k.parent=null,k.parentMatrix=null,c&&k.destroy();this.children=
[];return this},getBoundingBox:function(){if(this.children){var c=null;g.forEach(this.children,function(k){var h=k.getBoundingBox();h&&((k=k.getTransform())&&(h=d.multiplyRectangle(k,h)),c?(c.x=Math.min(c.x,h.x),c.y=Math.min(c.y,h.y),c.endX=Math.max(c.endX,h.x+h.width),c.endY=Math.max(c.endY,h.y+h.height)):c={x:h.x,y:h.y,endX:h.x+h.width,endY:h.y+h.height})});c&&(c.width=c.endX-c.x,c.height=c.endY-c.y);return c}return null},_moveChildToFront:function(c){for(var k=0;k<this.children.length;++k)if(this.children[k]==
c){f(this.children,k);this.children.push(c);break}return this},_moveChildToBack:function(c){for(var k=0;k<this.children.length;++k)if(this.children[k]==c){f(this.children,k);this.children.unshift(c);break}return this}};l.Surface=q("dojox.gfx.shape.Surface",null,{constructor:function(){this._parent=this.rawNode=null;this._nodes=[];this._events=[]},destroy:function(){g.forEach(this._nodes,e.destroy);this._nodes=[];g.forEach(this._events,function(c){c&&c.remove()});this._events=[];this.rawNode=null;
if(r("ie"))for(;this._parent.lastChild;)e.destroy(this._parent.lastChild);else this._parent.innerHTML="";this._parent=null},getEventSource:function(){return this.rawNode},_getRealMatrix:function(){return null},isLoaded:!0,onLoad:function(c){},whenLoaded:function(c,k){var h=B.hitch(c,k);if(this.isLoaded)h(this);else a.once(this,"load",function(m){h(m)})}});B.extend(l.Surface,l._eventsProcessing);l.Rect=q("dojox.gfx.shape.Rect",l.Shape,{constructor:function(c){this.shape=x.getDefault("Rect");this.rawNode=
c},getBoundingBox:function(){return this.shape}});l.Ellipse=q("dojox.gfx.shape.Ellipse",l.Shape,{constructor:function(c){this.shape=x.getDefault("Ellipse");this.rawNode=c},getBoundingBox:function(){if(!this.bbox){var c=this.shape;this.bbox={x:c.cx-c.rx,y:c.cy-c.ry,width:2*c.rx,height:2*c.ry}}return this.bbox}});l.Circle=q("dojox.gfx.shape.Circle",l.Shape,{constructor:function(c){this.shape=x.getDefault("Circle");this.rawNode=c},getBoundingBox:function(){if(!this.bbox){var c=this.shape;this.bbox={x:c.cx-
c.r,y:c.cy-c.r,width:2*c.r,height:2*c.r}}return this.bbox}});l.Line=q("dojox.gfx.shape.Line",l.Shape,{constructor:function(c){this.shape=x.getDefault("Line");this.rawNode=c},getBoundingBox:function(){if(!this.bbox){var c=this.shape;this.bbox={x:Math.min(c.x1,c.x2),y:Math.min(c.y1,c.y2),width:Math.abs(c.x2-c.x1),height:Math.abs(c.y2-c.y1)}}return this.bbox}});l.Polyline=q("dojox.gfx.shape.Polyline",l.Shape,{constructor:function(c){this.shape=x.getDefault("Polyline");this.rawNode=c},setShape:function(c,
k){c&&c instanceof Array?(this.inherited(arguments,[{points:c}]),k&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.inherited(arguments,[c]);return this},_normalizePoints:function(){var c=this.shape.points,k=c&&c.length;if(k&&"number"==typeof c[0]){for(var h=[],m=0;m<k;m+=2)h.push({x:c[m],y:c[m+1]});this.shape.points=h}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var c=this.shape.points,k=c.length,h=c[0],m=h.x,t=h.y,n=h.x,p=h.y,v=1;v<k;++v)h=
c[v],m>h.x&&(m=h.x),n<h.x&&(n=h.x),t>h.y&&(t=h.y),p<h.y&&(p=h.y);this.bbox={x:m,y:t,width:n-m,height:p-t}}return this.bbox}});l.Image=q("dojox.gfx.shape.Image",l.Shape,{constructor:function(c){this.shape=x.getDefault("Image");this.rawNode=c},getBoundingBox:function(){return this.shape},setStroke:function(){return this},setFill:function(){return this}});l.Text=q(l.Shape,{constructor:function(c){this.fontStyle=null;this.shape=x.getDefault("Text");this.rawNode=c},getFont:function(){return this.fontStyle},
setFont:function(c){this.fontStyle="string"==typeof c?x.splitFontString(c):x.makeParameters(x.defaultFont,c);this._setFont();return this},getBoundingBox:function(){var c=null;this.getShape().text&&(c=x._base._computeTextBoundingBox(this));return c}});l.Creator={createShape:function(c){switch(c.type){case x.defaultPath.type:return this.createPath(c);case x.defaultRect.type:return this.createRect(c);case x.defaultCircle.type:return this.createCircle(c);case x.defaultEllipse.type:return this.createEllipse(c);
case x.defaultLine.type:return this.createLine(c);case x.defaultPolyline.type:return this.createPolyline(c);case x.defaultImage.type:return this.createImage(c);case x.defaultText.type:return this.createText(c);case x.defaultTextPath.type:return this.createTextPath(c)}return null},createGroup:function(){return this.createObject(x.Group)},createRect:function(c){return this.createObject(x.Rect,c)},createEllipse:function(c){return this.createObject(x.Ellipse,c)},createCircle:function(c){return this.createObject(x.Circle,
c)},createLine:function(c){return this.createObject(x.Line,c)},createPolyline:function(c){return this.createObject(x.Polyline,c)},createImage:function(c){return this.createObject(x.Image,c)},createText:function(c){return this.createObject(x.Text,c)},createPath:function(c){return this.createObject(x.Path,c)},createTextPath:function(c){return this.createObject(x.TextPath,{}).setText(c)},createObject:function(c,k){return null}};return l})},"dojox/charting/SimpleTheme":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/_base/Color dojox/lang/utils dojox/gfx/gradutils".split(" "),
function(x,B,q,u,r,a){var g=q("dojox.charting.SimpleTheme",null,{shapeSpaces:{shape:1,shapeX:1,shapeY:1},constructor:function(e){e=e||{};var b=g.defaultTheme;B.forEach("chart plotarea axis grid series marker indicator".split(" "),function(d){this[d]=x.delegate(b[d],e[d])},this);e.seriesThemes&&e.seriesThemes.length?(this.colors=null,this.seriesThemes=e.seriesThemes.slice(0)):(this.seriesThemes=null,this.colors=(e.colors||g.defaultColors).slice(0));this.markerThemes=null;e.markerThemes&&e.markerThemes.length&&
(this.markerThemes=e.markerThemes.slice(0));this.markers=e.markers?x.clone(e.markers):x.delegate(g.defaultMarkers);this.noGradConv=e.noGradConv;this.noRadialConv=e.noRadialConv;e.reverseFills&&this.reverseFills();this._current=0;this._buildMarkerArray()},clone:function(){var e=new this.constructor({chart:this.chart,plotarea:this.plotarea,axis:this.axis,grid:this.grid,series:this.series,marker:this.marker,colors:this.colors,markers:this.markers,indicator:this.indicator,seriesThemes:this.seriesThemes,
markerThemes:this.markerThemes,noGradConv:this.noGradConv,noRadialConv:this.noRadialConv,pieInnerRadius:this.pieInnerRadius});B.forEach("clone clear next skip addMixin post getTick".split(" "),function(b){this.hasOwnProperty(b)&&(e[b]=this[b])},this);return e},clear:function(){this._current=0},next:function(e,b,d){var f=r.merge;if(this.colors){var l=x.delegate(this.series);f=x.delegate(this.marker);var c=new u(this.colors[this._current%this.colors.length]);if(l.stroke&&l.stroke.color){l.stroke=x.delegate(l.stroke);
var k=new u(l.stroke.color);l.stroke.color=new u(c);l.stroke.color.a=k.a}else l.stroke={color:c};f.stroke&&f.stroke.color?(f.stroke=x.delegate(f.stroke),k=new u(f.stroke.color),f.stroke.color=new u(c),f.stroke.color.a=k.a):f.stroke={color:c};!l.fill||l.fill.type?l.fill=c:(k=new u(l.fill),l.fill=new u(c),l.fill.a=k.a);!f.fill||f.fill.type?f.fill=c:(k=new u(f.fill),f.fill=new u(c),f.fill.a=k.a)}else l=this.seriesThemes?f(this.series,this.seriesThemes[this._current%this.seriesThemes.length]):this.series,
f=this.markerThemes?f(this.marker,this.markerThemes[this._current%this.markerThemes.length]):l;l={series:l,marker:f,symbol:f&&f.symbol||this._markers[this._current%this._markers.length]};++this._current;b&&(l=this.addMixin(l,e,b));d&&(l=this.post(l,e));return l},skip:function(){++this._current},addMixin:function(e,b,d,f){if(x.isArray(d))B.forEach(d,function(c){e=this.addMixin(e,b,c)},this);else{var l={};"color"in d&&("line"==b||"area"==b?(x.setObject("series.stroke.color",d.color,l),x.setObject("marker.stroke.color",
d.color,l)):x.setObject("series.fill",d.color,l));B.forEach("stroke outline shadow fill filter font fontColor labelWiring".split(" "),function(c){var k="marker"+c.charAt(0).toUpperCase()+c.substr(1),h=k in d;c in d&&(x.setObject("series."+c,d[c],l),h||x.setObject("marker."+c,d[c],l));h&&x.setObject("marker."+c,d[k],l)});"marker"in d&&(l.symbol=d.marker,l.symbol=d.marker);e=r.merge(e,l)}f&&(e=this.post(e,b));return e},post:function(e,b){var d=e.series.fill,f;return!this.noGradConv&&this.shapeSpaces[d.space]&&
"linear"==d.type&&("bar"==b?f={x1:d.y1,y1:d.x1,x2:d.y2,y2:d.x2}:this.noRadialConv||"shape"!=d.space||"slice"!=b&&"circle"!=b||(f={type:"radial",cx:0,cy:0,r:100}),f)?r.merge(e,{series:{fill:f}}):e},getTick:function(e,b){var d=this.axis.tick;e+="Tick";var f=r.merge;d?this.axis[e]&&(d=f(d,this.axis[e])):d=this.axis[e];b&&(d?b[e]&&(d=f(d,b[e])):d=b[e]);return d},inspectObjects:function(e){B.forEach("chart plotarea axis grid series marker indicator".split(" "),function(b){e(this[b])},this);this.seriesThemes&&
B.forEach(this.seriesThemes,e);this.markerThemes&&B.forEach(this.markerThemes,e)},reverseFills:function(){this.inspectObjects(function(e){e&&e.fill&&(e.fill=a.reverse(e.fill))})},addMarker:function(e,b){this.markers[e]=b;this._buildMarkerArray()},setMarkers:function(e){this.markers=e;this._buildMarkerArray()},_buildMarkerArray:function(){this._markers=[];for(var e in this.markers)this._markers.push(this.markers[e])}});x.mixin(g,{defaultMarkers:{CIRCLE:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",SQUARE:"m-3,-3 l0,6 6,0 0,-6 z",
DIAMOND:"m0,-3 l3,3 -3,3 -3,-3 z",CROSS:"m0,-3 l0,6 m-3,-3 l6,0",X:"m-3,-3 l6,6 m0,-6 l-6,6",TRIANGLE:"m-3,3 l3,-6 3,6 z",TRIANGLE_INVERTED:"m-3,-3 l3,6 3,-6 z"},defaultColors:["#54544c","#858e94","#6e767a","#948585","#474747"],defaultTheme:{chart:{stroke:null,fill:"white",pageStyle:null,titleGap:20,titlePos:"top",titleFont:"normal normal bold 14pt Tahoma",titleFontColor:"#333",titleAlign:"middle"},plotarea:{stroke:null,fill:"white"},axis:{stroke:{color:"#333",width:1},tick:{color:"#666",position:"center",
font:"normal normal normal 7pt Tahoma",fontColor:"#333",labelGap:4},majorTick:{width:1,length:6},minorTick:{width:.8,length:3},microTick:{width:.5,length:1},title:{gap:15,font:"normal normal normal 11pt Tahoma",fontColor:"#333",orientation:"axis"}},series:{stroke:{width:1.5,color:"#333"},outline:{width:.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000",labelWiring:{width:1,color:"#ccc"}},marker:{stroke:{width:1.5,color:"#333"},outline:{width:.1,color:"#ccc"},
shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000"},indicator:{lineStroke:{width:1.5,color:"#333"},lineOutline:{width:.1,color:"#ccc"},lineShadow:null,lineFill:null,stroke:{width:1.5,color:"#333"},outline:{width:.1,color:"#ccc"},shadow:null,fill:"#ccc",radius:3,font:"normal normal normal 10pt Tahoma",fontColor:"#000",markerFill:"#ccc",markerSymbol:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",markerStroke:{width:1.5,color:"#333"},markerOutline:{width:.1,color:"#ccc"},markerShadow:null}}});
return g})},"dojox/lang/utils":function(){define(["..","dojo/_base/lang"],function(x,B){var q=B.getObject("lang.utils",!0,x),u={},r=Object.prototype.toString,a=function(g){if(g)switch(r.call(g)){case "[object Array]":return g.slice(0);case "[object Object]":return B.delegate(g)}return g};B.mixin(q,{coerceType:function(g,e){switch(typeof g){case "number":return Number(eval("("+e+")"));case "string":return String(e);case "boolean":return!!eval("("+e+")")}return eval("("+e+")")},updateWithObject:function(g,
e,b){if(!e)return g;for(var d in g)if(d in e&&!(d in u)){var f=g[d];f&&"object"==typeof f?q.updateWithObject(f,e[d],b):g[d]=b?q.coerceType(f,e[d]):a(e[d])}return g},updateWithPattern:function(g,e,b,d){if(!e||!b)return g;for(var f in b)f in e&&!(f in u)&&(g[f]=d?q.coerceType(b[f],e[f]):a(e[f]));return g},merge:function(g,e){if(e){var b=r.call(g),d=r.call(e);switch(d){case "[object Array]":if(d==b){b=Array(Math.max(g.length,e.length));var f=0;for(d=b.length;f<d;++f)b[f]=q.merge(g[f],e[f]);return b}return e.slice(0);
case "[object Object]":if(d==b&&g){b=B.delegate(g);for(f in e)if(f in g){d=g[f];var l=e[f];l!==d&&(b[f]=q.merge(d,l))}else b[f]=B.clone(e[f]);return b}return B.clone(e)}}return e}});return q})},"dojox/gfx/gradutils":function(){define(["./_base","dojo/_base/lang","./matrix","dojo/_base/Color"],function(x,B,q,u){function r(a,g){if(0>=a)return g[0].color;var e=g.length;if(1<=a)return g[e-1].color;for(var b=0;b<e;++b){var d=g[b];if(d.offset>=a)return b?(g=g[b-1],u.blendColors(new u(g.color),new u(d.color),
(a-g.offset)/(d.offset-g.offset))):d.color}return g[e-1].color}x=x.gradutils={};x.getColor=function(a,g){if(a){switch(a.type){case "linear":var e=q.rotate(-Math.atan2(a.y2-a.y1,a.x2-a.x1));var b=q.project(a.x2-a.x1,a.y2-a.y1);g=q.multiplyPoint(b,g);var d=q.multiplyPoint(b,a.x1,a.y1);b=q.multiplyPoint(b,a.x2,a.y2);b=q.multiplyPoint(e,b.x-d.x,b.y-d.y).x;e=q.multiplyPoint(e,g.x-d.x,g.y-d.y).x/b;break;case "radial":e=g.x-a.cx,g=g.y-a.cy,e=Math.sqrt(e*e+g*g)/a.r}return r(e,a.colors)}return new u(a||[0,
0,0,0])};x.reverse=function(a){if(a)switch(a.type){case "linear":case "radial":if(a=B.delegate(a),a.colors){for(var g=a.colors,e=g.length,b=0,d,f=a.colors=Array(g.length);b<e;++b)d=g[b],f[b]={offset:1-d.offset,color:d.color};f.sort(function(l,c){return l.offset-c.offset})}}return a};return x})},"dojox/charting/Series":function(){define(["dojo/_base/lang","dojo/_base/declare","./Element"],function(x,B,q){return B("dojox.charting.Series",q,{constructor:function(u,r,a){x.mixin(this,a);"string"!=typeof this.plot&&
(this.plot="default");this.update(r)},clear:function(){this.dyn={}},update:function(u){x.isArray(u)?this.data=u:(this.source=u,this.data=this.source.data,this.source.setSeriesObject&&this.source.setSeriesObject(this));this.dirty=!0;this.clear()}})})},"dojox/charting/axis2d/common":function(){define(["dojo/_base/lang","dojo/_base/window","dojo/dom-geometry","dojox/gfx","dojo/has"],function(x,B,q,u,r){var a=x.getObject("dojox.charting.axis2d.common",!0),g=function(e){e.marginLeft="0px";e.marginTop=
"0px";e.marginRight="0px";e.marginBottom="0px";e.paddingLeft="0px";e.paddingTop="0px";e.paddingRight="0px";e.paddingBottom="0px";e.borderLeftWidth="0px";e.borderTopWidth="0px";e.borderRightWidth="0px";e.borderBottomWidth="0px"};return x.mixin(a,{createText:{gfx:function(e,b,d,f,l,c,k,h){return b.createText({x:d,y:f,text:c,align:l}).setFont(k).setFill(h)},html:function(e,b,d,f,l,c,k,h,m){b=B.doc.createElement("div");var t=b.style;e.getTextDir&&(b.dir=e.getTextDir(c));g(t);t.font=k;b.innerHTML=String(c).replace(/\s/g,
"\x26nbsp;");t.color=h;t.position="absolute";t.left="-10000px";B.body().appendChild(b);var n=u.normalizedLength(u.splitFontString(k).size);if(!m)if(b.getBoundingClientRect){var p=b.getBoundingClientRect();p=p.width||p.right-p.left}else p=q.getMarginBox(b).w;"rtl"==b.dir&&(d+=m?m:p);B.body().removeChild(b);t.position="relative";if(m)switch(t.width=m+"px",l){case "middle":t.textAlign="center";t.left=d-m/2+"px";break;case "end":t.textAlign="right";t.left=d-m+"px";break;default:t.left=d+"px",t.textAlign=
"left"}else switch(l){case "middle":t.left=Math.floor(d-p/2)+"px";break;case "end":t.left=Math.floor(d-p)+"px";break;default:t.left=Math.floor(d)+"px"}t.top=Math.floor(f-n)+"px";t.whiteSpace="nowrap";m=B.doc.createElement("div");t=m.style;g(t);t.width="0px";t.height="0px";m.appendChild(b);e.node.insertBefore(m,e.node.firstChild);r("dojo-bidi")&&e.htmlElementsRegistry.push([m,d,f,l,c,k,h]);return m}}})})},"dojox/charting/plot2d/common":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/Color dojox/gfx dojox/lang/functional ../scaler/common".split(" "),
function(x,B,q,u,r,a){var g=x.getObject("dojox.charting.plot2d.common",!0);return x.mixin(g,{doIfLoaded:a.doIfLoaded,makeStroke:function(e){if(!e)return e;if("string"==typeof e||e instanceof q)e={color:e};return u.makeParameters(u.defaultStroke,e)},augmentColor:function(e,b){e=new q(e);b=new q(b);b.a=e.a;return b},augmentStroke:function(e,b){if(e=g.makeStroke(e))e.color=g.augmentColor(e.color,b);return e},augmentFill:function(e,b){new q(b);return"string"==typeof e||e instanceof q?g.augmentColor(e,
b):e},defaultStats:{vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY,hmin:Number.POSITIVE_INFINITY,hmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(e,b){for(var d=x.delegate(g.defaultStats),f=0;f<e.length;++f)for(var l=e[f],c=0;c<l.data.length;c++)if(!b(l.data[c])){if("number"==typeof l.data[c]){c=d.vmin;var k=d.vmax;B.forEach(l.data,function(t,n){b(t)||(n+=1,isNaN(t)&&(t=0),d.hmin=Math.min(d.hmin,n),d.hmax=Math.max(d.hmax,n),d.vmin=Math.min(d.vmin,t),d.vmax=Math.max(d.vmax,t))})}else{var h=
d.hmin,m=d.hmax;c=d.vmin;k=d.vmax;"xmin"in l&&"xmax"in l&&"ymin"in l&&"ymax"in l||B.forEach(l.data,function(t,n){b(t)||(n="x"in t?t.x:n+1,t=t.y,isNaN(n)&&(n=0),isNaN(t)&&(t=0),d.hmin=Math.min(d.hmin,n),d.hmax=Math.max(d.hmax,n),d.vmin=Math.min(d.vmin,t),d.vmax=Math.max(d.vmax,t))});"xmin"in l&&(d.hmin=Math.min(h,l.xmin));"xmax"in l&&(d.hmax=Math.max(m,l.xmax))}"ymin"in l&&(d.vmin=Math.min(c,l.ymin));"ymax"in l&&(d.vmax=Math.max(k,l.ymax));break}return d},calculateBarSize:function(e,b,d){d||(d=1);
var f=(e-2*b.gap)/d;"minBarSize"in b&&(f=Math.max(f,b.minBarSize));"maxBarSize"in b&&(f=Math.min(f,b.maxBarSize));f=Math.max(f,1);return{size:f,gap:(e-f*d)/2}},collectStackedStats:function(e){var b=x.clone(g.defaultStats);if(e.length){b.hmin=Math.min(b.hmin,1);b.hmax=r.foldl(e,"seed, run -\x3e Math.max(seed, run.data.length)",b.hmax);for(var d=0;d<b.hmax;++d){var f=e[0].data[d];f=f&&("number"==typeof f?f:f.y);isNaN(f)&&(f=0);b.vmin=Math.min(b.vmin,f);for(var l=1;l<e.length;++l){var c=e[l].data[d];
c=c&&("number"==typeof c?c:c.y);isNaN(c)&&(c=0);f+=c}b.vmax=Math.max(b.vmax,f)}}return b},curve:function(e,b){var d=e.slice(0);"x"==b&&(d[d.length]=d[0]);return B.map(d,function(f,l){if(0==l)return"M"+f.x+","+f.y;if(!isNaN(b)){var c=f.x-d[l-1].x;return"C"+(f.x-c/b*(b-1))+","+d[l-1].y+" "+(f.x-c/b)+","+f.y+" "+f.x+","+f.y}if("X"==b||"x"==b||"S"==b){f=d[l-1];c=d[l];var k=1/6;if(1==l){var h="x"==b?d[d.length-2]:f;k=1/3}else h=d[l-2];l==d.length-1?(l="x"==b?d[1]:c,k=1/3):l=d[l+1];var m=Math.sqrt((c.x-
f.x)*(c.x-f.x)+(c.y-f.y)*(c.y-f.y));var t=Math.sqrt((c.x-h.x)*(c.x-h.x)+(c.y-h.y)*(c.y-h.y));var n=Math.sqrt((l.x-f.x)*(l.x-f.x)+(l.y-f.y)*(l.y-f.y));var p=t*k,v=n*k;p>m/2&&v>m/2?(p=m/2,v=m/2):p>m/2?(p=m/2,v=m/2*n/t):v>m/2&&(v=m/2,p=m/2*t/n);"S"==b&&(h==f&&(p=0),c==l&&(v=0));k=f.x+p*(c.x-h.x)/t;h=f.y+p*(c.y-h.y)/t;t=c.x-v*(l.x-f.x)/n;n=c.y-v*(l.y-f.y)/n}return"C"+(k+","+h+" "+t+","+n+" "+c.x+","+c.y)}).join(" ")},getLabel:function(e,b,d){return a.doIfLoaded("dojo/number",function(f){return(b?f.format(e,
{places:d}):f.format(e))||""},function(){return b?e.toFixed(d):e.toString()})},purgeGroup:function(e){return e.purgeGroup()}})})},"dojox/lang/functional":function(){define(["./functional/lambda","./functional/array","./functional/object"],function(x){return x})},"dojox/lang/functional/lambda":function(){define(["../..","dojo/_base/lang","dojo/_base/array"],function(x,B,q){var u=B.getObject("lang.functional",!0,x),r={},a=1<"ab".split(/a*/).length?String.prototype.split:function(b){var d=this.split.call(this,
b);(b=b.exec(this))&&0==b.index&&d.unshift("");return d},g=function(b){var d=[],f=a.call(b,/\s*->\s*/m);if(1<f.length)for(;f.length;)b=f.pop(),d=f.pop().split(/\s*,\s*|\s+/m),f.length&&f.push("(function("+d.join(", ")+"){ return ("+b+"); })");else if(b.match(/\b_\b/))d=["_"];else{f=b.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m);var l=b.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(f||l)f&&(d.push("$1"),b="$1"+b),l&&(d.push("$2"),b+="$2");else{f=b.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,
"").match(/([a-z_$][a-z_$\d]*)/gi)||[];var c={};q.forEach(f,function(k){c.hasOwnProperty(k)||(d.push(k),c[k]=1)})}}return{args:d,body:b}},e=function(b){return b.length?function(){var d=b.length-1,f=u.lambda(b[d]).apply(this,arguments);for(--d;0<=d;--d)f=u.lambda(b[d]).call(this,f);return f}:function(d){return d}};B.mixin(u,{rawLambda:function(b){return g(b)},buildLambda:function(b){b=g(b);return"function("+b.args.join(",")+"){return ("+b.body+");}"},lambda:function(b){if("function"==typeof b)return b;
if(b instanceof Array)return e(b);if(r.hasOwnProperty(b))return r[b];var d=g(b);return r[b]=new Function(d.args,"return ("+d.body+");")},clearLambdaCache:function(){r={}}});return u})},"dojox/lang/functional/array":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","./lambda"],function(x,B,q,u){var r={};B.mixin(u,{filter:function(a,g,e){"string"==typeof a&&(a=a.split(""));e=e||x.global;g=u.lambda(g);var b=[],d;if(B.isArray(a)){var f=0;for(d=a.length;f<d;++f){var l=a[f];g.call(e,
l,f,a)&&b.push(l)}}else if("function"==typeof a.hasNext&&"function"==typeof a.next)for(f=0;a.hasNext();)l=a.next(),g.call(e,l,f++,a)&&b.push(l);else for(f in a)f in r||(l=a[f],g.call(e,l,f,a)&&b.push(l));return b},forEach:function(a,g,e){"string"==typeof a&&(a=a.split(""));e=e||x.global;g=u.lambda(g);var b;if(B.isArray(a)){var d=0;for(b=a.length;d<b;g.call(e,a[d],d,a),++d);}else if("function"==typeof a.hasNext&&"function"==typeof a.next)for(d=0;a.hasNext();g.call(e,a.next(),d++,a));else for(d in a)d in
r||g.call(e,a[d],d,a);return e},map:function(a,g,e){"string"==typeof a&&(a=a.split(""));e=e||x.global;g=u.lambda(g);var b,d;if(B.isArray(a)){var f=Array(b=a.length);for(d=0;d<b;f[d]=g.call(e,a[d],d,a),++d);}else if("function"==typeof a.hasNext&&"function"==typeof a.next)for(f=[],d=0;a.hasNext();f.push(g.call(e,a.next(),d++,a)));else for(d in f=[],a)d in r||f.push(g.call(e,a[d],d,a));return f},every:function(a,g,e){"string"==typeof a&&(a=a.split(""));e=e||x.global;g=u.lambda(g);var b;if(B.isArray(a)){var d=
0;for(b=a.length;d<b;++d)if(!g.call(e,a[d],d,a))return!1}else if("function"==typeof a.hasNext&&"function"==typeof a.next)for(d=0;a.hasNext();){if(!g.call(e,a.next(),d++,a))return!1}else for(d in a)if(!(d in r||g.call(e,a[d],d,a)))return!1;return!0},some:function(a,g,e){"string"==typeof a&&(a=a.split(""));e=e||x.global;g=u.lambda(g);var b;if(B.isArray(a)){var d=0;for(b=a.length;d<b;++d)if(g.call(e,a[d],d,a))return!0}else if("function"==typeof a.hasNext&&"function"==typeof a.next)for(d=0;a.hasNext();){if(g.call(e,
a.next(),d++,a))return!0}else for(d in a)if(!(d in r)&&g.call(e,a[d],d,a))return!0;return!1}});return u})},"dojox/lang/functional/object":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(x,B,q){var u={};B.mixin(q,{keys:function(r){var a=[],g;for(g in r)g in u||a.push(g);return a},values:function(r){var a=[],g;for(g in r)g in u||a.push(r[g]);return a},filterIn:function(r,a,g){g=g||x.global;a=q.lambda(a);var e={},b;for(b in r)if(!(b in u)){var d=r[b];a.call(g,d,b,r)&&(e[b]=
d)}return e},forIn:function(r,a,g){g=g||x.global;a=q.lambda(a);for(var e in r)e in u||a.call(g,r[e],e,r);return g},mapIn:function(r,a,g){g=g||x.global;a=q.lambda(a);var e={},b;for(b in r)b in u||(e[b]=a.call(g,r[b],b,r));return e}});return q})},"dojox/charting/scaler/common":function(){define(["dojo/_base/lang"],function(x){var B=function(r,a){return Math.abs(r-a)<=1E-6*(Math.abs(r)+Math.abs(a))},q=x.getObject("dojox.charting.scaler.common",!0),u={};return x.mixin(q,{doIfLoaded:function(r,a,g){if(void 0===
u[r])try{u[r]=require(r)}catch(e){u[r]=null}return u[r]?a(u[r]):g()},getNumericLabel:function(r,a,g){var e="";q.doIfLoaded("dojo/number",function(c){e=(g.fixed?c.format(r,{places:0>a?-a:0}):c.format(r))||""},function(){e=g.fixed?r.toFixed(0>a?-a:0):r.toString()});if(g.labelFunc){var b=g.labelFunc(e,r,a);if(b)return b}if(g.labels){b=g.labels;for(var d=0,f=b.length;d<f;){var l=Math.floor((d+f)/2);b[l].value<r?d=l+1:f=l}if(d<b.length&&B(b[d].value,r))return b[d].text;--d;if(0<=d&&d<b.length&&B(b[d].value,
r))return b[d].text;d+=2;if(d<b.length&&B(b[d].value,r))return b[d].text}return e}})})},"dojox/lang/functional/fold":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/kernel","./lambda"],function(x,B,q,u){var r={};x.mixin(u,{foldl:function(a,g,e,b){"string"==typeof a&&(a=a.split(""));b=b||q.global;g=u.lambda(g);var d;if(x.isArray(a)){var f=0;for(d=a.length;f<d;e=g.call(b,e,a[f],f,a),++f);}else if("function"==typeof a.hasNext&&"function"==typeof a.next)for(f=0;a.hasNext();e=g.call(b,
e,a.next(),f++,a));else for(f in a)f in r||(e=g.call(b,e,a[f],f,a));return e},foldl1:function(a,g,e){"string"==typeof a&&(a=a.split(""));e=e||q.global;g=u.lambda(g);var b;if(x.isArray(a)){var d=a[0];var f=1;for(b=a.length;f<b;d=g.call(e,d,a[f],f,a),++f);}else if("function"==typeof a.hasNext&&"function"==typeof a.next){if(a.hasNext())for(d=a.next(),f=1;a.hasNext();d=g.call(e,d,a.next(),f++,a));}else for(f in b=!0,a)f in r||(b?(d=a[f],b=!1):d=g.call(e,d,a[f],f,a));return d},foldr:function(a,g,e,b){"string"==
typeof a&&(a=a.split(""));b=b||q.global;g=u.lambda(g);for(var d=a.length;0<d;--d,e=g.call(b,e,a[d],d,a));return e},foldr1:function(a,g,e){"string"==typeof a&&(a=a.split(""));e=e||q.global;g=u.lambda(g);var b=a.length,d=a[b-1];for(--b;0<b;--b,d=g.call(e,d,a[b],b,a));return d},reduce:function(a,g,e){return 3>arguments.length?u.foldl1(a,g):u.foldl(a,g,e)},reduceRight:function(a,g,e){return 3>arguments.length?u.foldr1(a,g):u.foldr(a,g,e)},unfold:function(a,g,e,b,d){d=d||q.global;g=u.lambda(g);e=u.lambda(e);
a=u.lambda(a);for(var f=[];!a.call(d,b);f.push(g.call(d,b)),b=e.call(d,b));return f}})})},"dojox/lang/functional/reversed":function(){define(["dojo/_base/lang","dojo/_base/kernel","./lambda"],function(x,B,q){x.mixin(q,{filterRev:function(u,r,a){"string"==typeof u&&(u=u.split(""));a=a||B.global;r=q.lambda(r);for(var g=[],e,b=u.length-1;0<=b;--b)e=u[b],r.call(a,e,b,u)&&g.push(e);return g},forEachRev:function(u,r,a){"string"==typeof u&&(u=u.split(""));a=a||B.global;r=q.lambda(r);for(var g=u.length-1;0<=
g;r.call(a,u[g],g,u),--g);},mapRev:function(u,r,a){"string"==typeof u&&(u=u.split(""));a=a||B.global;r=q.lambda(r);var g=u.length,e=Array(g);--g;for(var b=0;0<=g;e[b++]=r.call(a,u[g],g,u),--g);return e},everyRev:function(u,r,a){"string"==typeof u&&(u=u.split(""));a=a||B.global;r=q.lambda(r);for(var g=u.length-1;0<=g;--g)if(!r.call(a,u[g],g,u))return!1;return!0},someRev:function(u,r,a){"string"==typeof u&&(u=u.split(""));a=a||B.global;r=q.lambda(r);for(var g=u.length-1;0<=g;--g)if(r.call(a,u[g],g,
u))return!0;return!1}});return q})},"dojox/charting/plot2d/Bars":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/has ./CartesianBase ./_PlotEvents ./common dojox/gfx/fx dojox/lang/utils dojox/lang/functional".split(" "),function(x,B,q,u,r,a,g,e,b,d){var f=function(){return!1};return q("dojox.charting.plot2d.Bars",[r,a],{defaultParams:{gap:0,animate:null,enableCache:!1},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,
font:"",fontColor:""},constructor:function(l,c){this.opt=x.clone(x.mixin(this.opt,this.defaultParams));b.updateWithObject(this.opt,c);b.updateWithPattern(this.opt,c,this.optionalParams);this.animate=this.opt.animate;this.renderingOptions={"shape-rendering":"crispEdges"}},getSeriesStats:function(){var l=g.collectSimpleStats(this.series,x.hitch(this,"isNullValue"));l.hmin-=.5;l.hmax+=.5;var c=l.hmin;l.hmin=l.vmin;l.vmin=c;c=l.hmax;l.hmax=l.vmax;l.vmax=c;return l},createRect:function(l,c,k){if(this.opt.enableCache&&
0<l._rectFreePool.length){var h=l._rectFreePool.pop();h.setShape(k);c.add(h)}else h=c.createRect(k);this.opt.enableCache&&l._rectUsePool.push(h);return h},createLabel:function(l,c,k,h){this.opt.labels&&"outside"==this.opt.labelStyle?this.renderLabel(l,k.x+k.width+this.opt.labelOffset,k.y+k.height/2,this._getLabel(isNaN(c.y)?c:c.y),h,"start"):this.inherited(arguments)},render:function(l,c){if(this.zoom&&!this.isDataDirty())return this.performZoom(l,c);this.dirty=this.isDirty();this.resetEvents();if(this.dirty){B.forEach(this.series,
g.purgeGroup);this._eventSeries={};this.cleanGroup();var k=this.getGroup();d.forEachRev(this.series,function(O){O.cleanGroup(k)})}var h=this.chart.theme,m=this._hScaler.scaler.getTransformerFromModel(this._hScaler),t=this._vScaler.scaler.getTransformerFromModel(this._vScaler),n=Math.max(this._hScaler.bounds.lower,this._hAxis?this._hAxis.naturalBaseline:0),p=m(n),v=this.events(),A=this.getBarProperties(),D=this.series.length;B.forEach(this.series,function(O){O.hidden&&D--});var I=D,M=this.extractValues(this._vScaler);
M=this.rearrangeValues(M,m,p);for(var N=0;N<this.series.length;N++){var K=this.series[N];if(this.dirty||K.dirty){K.cleanGroup();this.opt.enableCache&&(K._rectFreePool=(K._rectFreePool?K._rectFreePool:[]).concat(K._rectUsePool?K._rectUsePool:[]),K._rectUsePool=[]);var T=h.next("bar",[this.opt,K]);if(K.hidden)K.dyn.fill=T.series.fill,K.dyn.stroke=T.series.stroke;else{I--;var W=Array(K.data.length);k=K.group;for(var z=B.some(K.data,function(O){return"number"==typeof O||O&&!O.hasOwnProperty("x")}),y=
z?Math.min(K.data.length,Math.ceil(this._vScaler.bounds.to)):K.data.length,F=z?Math.max(0,Math.floor(this._vScaler.bounds.from-1)):0;F<y;++F){var J=K.data[F];if(!this.isNullValue(J)){var H=this.getValue(J,F,N,z),E=M[N][F];if(this.opt.styleFunc||"number"!=typeof J){var w="number"!=typeof J?[J]:[];this.opt.styleFunc&&w.push(this.opt.styleFunc(J));w=h.addMixin(T,"bar",w,!0)}else w=h.post(T,"bar");if(E&&1<=A.height){var C={x:c.l+p+Math.min(E,0),y:l.height-c.b-t(H.x+1.5)+A.gap+A.thickness*(D-I-1),width:Math.abs(E),
height:A.height};if(w.series.shadow){var G=x.clone(C);G.x+=w.series.shadow.dx;G.y+=w.series.shadow.dy;G=this.createRect(K,k,G).setFill(w.series.shadow.color).setStroke(w.series.shadow);this.animate&&this._animateBar(G,c.l+p,-E)}var P=this._plotFill(w.series.fill,l,c);P=this._shapeFill(P,C);P=this.createRect(K,k,C).setFill(P).setStroke(w.series.stroke);P.setFilter&&w.series.filter&&P.setFilter(w.series.filter);K.dyn.fill=P.getFill();K.dyn.stroke=P.getStroke();if(v){var L={element:"bar",index:F,run:K,
shape:P,shadow:G,cx:H.y,cy:H.x+1.5,x:z?F:K.data[F].x,y:z?K.data[F]:K.data[F].y};this._connectEvents(L);W[F]=L}!isNaN(H.py)&&H.py>n&&(C.x+=m(H.py),C.width-=m(H.py));this.createLabel(k,J,C,w);this.animate&&this._animateBar(P,c.l+p,-Math.abs(E))}}}this._eventSeries[K.name]=W;K.dirty=!1}}else h.skip(),this._reconnectEvents(K.name)}this.dirty=!1;u("dojo-bidi")&&this._checkOrientation(this.group,l,c);return this},getValue:function(l,c,k,h){h?(k="number"==typeof l?l:l.y,l=c):(k=l.y,l=l.x-1);return{y:k,x:l}},
extractValues:function(l){for(var c=[],k=this.series.length-1;0<=k;--k){var h=this.series[k];if(this.dirty||h.dirty){var m=B.some(h.data,function(v){return"number"==typeof v||v&&!v.hasOwnProperty("x")}),t=m?Math.max(0,Math.floor(l.bounds.from-1)):0;m=m?Math.min(h.data.length,Math.ceil(l.bounds.to)):h.data.length;var n=c[k]=[];n.min=t;for(n.max=m;t<m;++t){var p=h.data[t];n[t]=this.isNullValue(p)?0:"number"==typeof p?p:p.y}}}return c},rearrangeValues:function(l,c,k){for(var h=0,m=l.length;h<m;++h){var t=
l[h];if(t)for(var n=t.min,p=t.max;n<p;++n){var v=t[n];t[n]=this.isNullValue(v)?0:c(v)-k}}return l},isNullValue:function(l){if(null===l||"undefined"==typeof l)return!0;var c=this._hAxis?this._hAxis.isNullValue:f,k=this._vAxis?this._vAxis.isNullValue:f;return"number"==typeof l?k(.5)||c(l):k(isNaN(l.x)?.5:l.x+.5)||null===l.y||c(l.y)},getBarProperties:function(){var l=g.calculateBarSize(this._vScaler.bounds.scale,this.opt);return{gap:l.gap,height:l.size,thickness:0}},_animateBar:function(l,c,k){0==k&&
(k=1);e.animateTransform(x.delegate({shape:l,duration:1200,transform:[{name:"translate",start:[c-c/k,0],end:[0,0]},{name:"scale",start:[1/k,1],end:[1,1]},{name:"original"}]},this.animate)).play()}})})},"dojox/charting/plot2d/CartesianBase":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/connect dojo/has ./Base ../scaler/primitive dojox/gfx dojox/gfx/fx dojox/lang/utils".split(" "),function(x,B,q,u,r,a,g,e,b){var d=function(){return!1};return B("dojox.charting.plot2d.CartesianBase",
r,{baseParams:{hAxis:"x",vAxis:"y",labels:!1,labelOffset:10,fixed:!0,precision:1,labelStyle:"inside",htmlLabels:!0,omitLabels:!0,labelFunc:null},constructor:function(f,l){this.axes=["hAxis","vAxis"];this.zoom=null;this.zoomQueue=[];this.lastWindow={vscale:1,hscale:1,xoffset:0,yoffset:0};this.hAxis=l&&l.hAxis||"x";this.vAxis=l&&l.vAxis||"y";this.series=[];this.opt=x.clone(this.baseParams);b.updateWithObject(this.opt,l)},clear:function(){this.inherited(arguments);this._vAxis=this._hAxis=null;return this},
cleanGroup:function(f,l){this.inherited(arguments);if(!l&&this.chart._nativeClip){var c=this.chart.offsets,k=this.chart.dim;this.group.setClip({x:c.l,y:c.t,width:Math.max(0,k.width-c.l-c.r),height:Math.max(0,k.height-c.t-c.b)});this._clippedGroup||(this._clippedGroup=this.group.createGroup())}},purgeGroup:function(){this.inherited(arguments);this._clippedGroup=null},getGroup:function(){return this._clippedGroup||this.group},setAxis:function(f){f&&(this[f.vertical?"_vAxis":"_hAxis"]=f);return this},
toPage:function(f){var l=this._hAxis,c=this._vAxis,k=l.getScaler(),h=c.getScaler(),m=k.scaler.getTransformerFromModel(k),t=h.scaler.getTransformerFromModel(h),n=this.chart.getCoords(),p=this.chart.offsets,v=this.chart.dim;k=function(A){var D={};D.x=m(A[l.name])+n.x+p.l;D.y=n.y+v.height-p.b-t(A[c.name]);return D};return f?k(f):k},toData:function(f){var l=this._hAxis,c=this._vAxis,k=l.getScaler(),h=c.getScaler(),m=k.scaler.getTransformerFromPlot(k),t=h.scaler.getTransformerFromPlot(h),n=this.chart.getCoords(),
p=this.chart.offsets,v=this.chart.dim;k=function(A){var D={};D[l.name]=m(A.x-n.x-p.l);D[c.name]=t(n.y+v.height-A.y-p.b);return D};return f?k(f):k},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty},createLabel:function(f,l,c,k){if(this.opt.labels){var h=this.opt.labelFunc?this.opt.labelFunc.apply(this,[l,this.opt.fixed,this.opt.precision]):this._getLabel(isNaN(l.y)?l:l.y);if("inside"==this.opt.labelStyle){var m=g._base._getTextBox(h,{font:k.series.font});
l=c.x+c.width/2;var t=c.y+c.height/2+m.h/4;if(m.w>c.width||m.h>c.height)return}else l=c.x+c.width/2,t=c.y-this.opt.labelOffset;this.renderLabel(f,l,t,h,k,"inside"==this.opt.labelStyle)}},performZoom:function(f,l){var c=this._vAxis.scale||1,k=this._hAxis.scale||1;f=f.height-l.b;var h=this._hScaler.bounds;h=(h.from-h.lower)*h.scale;var m=this._vScaler.bounds;m=(m.from-m.lower)*m.scale;var t=c/this.lastWindow.vscale,n=k/this.lastWindow.hscale,p=(this.lastWindow.xoffset-h)/(1==this.lastWindow.hscale?
k:this.lastWindow.hscale),v=(m-this.lastWindow.yoffset)/(1==this.lastWindow.vscale?c:this.lastWindow.vscale),A=this.getGroup();l=e.animateTransform(x.delegate({shape:A,duration:1200,transform:[{name:"translate",start:[0,0],end:[l.l*(1-n),f*(1-t)]},{name:"scale",start:[1,1],end:[n,t]},{name:"original"},{name:"translate",start:[0,0],end:[p,v]}]},this.zoom));x.mixin(this.lastWindow,{vscale:c,hscale:k,xoffset:h,yoffset:m});this.zoomQueue.push(l);q.connect(l,"onEnd",this,function(){this.zoom=null;this.zoomQueue.shift();
0<this.zoomQueue.length&&this.zoomQueue[0].play()});1==this.zoomQueue.length&&this.zoomQueue[0].play();return this},initializeScalers:function(f,l){this._hAxis?(this._hAxis.initialized()||this._hAxis.calculate(l.hmin,l.hmax,f.width),this._hScaler=this._hAxis.getScaler()):this._hScaler=a.buildScaler(l.hmin,l.hmax,f.width);this._vAxis?(this._vAxis.initialized()||this._vAxis.calculate(l.vmin,l.vmax,f.height),this._vScaler=this._vAxis.getScaler()):this._vScaler=a.buildScaler(l.vmin,l.vmax,f.height);return this},
isNullValue:function(f){if(null===f||"undefined"==typeof f)return!0;var l=this._hAxis?this._hAxis.isNullValue:d,c=this._vAxis?this._vAxis.isNullValue:d;return"number"==typeof f?l(1)||c(f):l(isNaN(f.x)?1:f.x)||null===f.y||c(f.y)}})})},"dojox/charting/plot2d/Base":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojox/gfx ../Element ./common ../axis2d/common dojo/has".split(" "),function(x,B,q,u,r,a,g,e){x=x("dojox.charting.plot2d.Base",r,{constructor:function(b,d){d&&d.tooltipFunc&&
(this.tooltipFunc=d.tooltipFunc)},clear:function(){this.series=[];this.dirty=!0;return this},setAxis:function(b){return this},assignAxes:function(b){B.forEach(this.axes,function(d){this[d]&&this.setAxis(b[this[d]])},this)},addSeries:function(b){this.series.push(b);return this},getSeriesStats:function(){return a.collectSimpleStats(this.series,q.hitch(this,"isNullValue"))},calculateAxes:function(b){this.initializeScalers(b,this.getSeriesStats());return this},initializeScalers:function(){return this},
isDataDirty:function(){return B.some(this.series,function(b){return b.dirty})},render:function(b,d){return this},renderLabel:function(b,d,f,l,c,k,h){b=g.createText[this.opt.htmlLabels&&"vml"!=u.renderer?"html":"gfx"](this.chart,b,d,f,h?h:"middle",l,c.series.font,c.series.fontColor);k&&(this.opt.htmlLabels&&"vml"!=u.renderer?b.style.pointerEvents="none":b.rawNode&&(b.rawNode.style.pointerEvents="none"));this.opt.htmlLabels&&"vml"!=u.renderer&&this.htmlElements.push(b);return b},getRequiredColors:function(){return this.series.length},
_getLabel:function(b){return a.getLabel(b,this.opt.fixed,this.opt.precision)}});e("dojo-bidi")&&x.extend({_checkOrientation:function(b,d,f){this.chart.applyMirroring(this.group,d,f)}});return x})},"dojox/charting/scaler/primitive":function(){define(["dojo/_base/lang"],function(x){var B=x.getObject("dojox.charting.scaler.primitive",!0);return x.mixin(B,{buildScaler:function(q,u,r,a){q==u&&(q-=.5,u+=.5);return{bounds:{lower:q,upper:u,from:q,to:u,scale:r/(u-q),span:r},scaler:B}},buildTicks:function(q,
u){return{major:[],minor:[],micro:[]}},getTransformerFromModel:function(q){var u=q.bounds.from,r=q.bounds.scale;return function(a){return(a-u)*r}},getTransformerFromPlot:function(q){var u=q.bounds.from,r=q.bounds.scale;return function(a){return a/r+u}}})})},"dojox/gfx/fx":function(){define("dojo/_base/lang ./_base ./matrix dojo/_base/Color dojo/_base/array dojo/_base/fx dojo/_base/connect dojo/sniff".split(" "),function(x,B,q,u,r,a,g,e){function b(n,p){this.start=n;this.end=p}function d(n,p,v){this.start=
n;this.end=p;this.units=v}function f(n,p){this.start=n;this.end=p;this.temp=new u}function l(n){this.values=n;this.length=n.length}function c(n,p){this.values=n;this.def=p?p:{}}function k(n,p){this.stack=n;this.original=p}function h(n,p,v,A){if(n.values)return new l(n.values);var D;var I=n.start?B.normalizeColor(n.start):D=p?v?p[v]:p:A;n.end?n=B.normalizeColor(n.end):(D||(D=p?v?p[v]:p:A),n=D);return new f(I,n)}var m=B.fx={};b.prototype.getValue=function(n){return(this.end-this.start)*n+this.start};
d.prototype.getValue=function(n){return(this.end-this.start)*n+this.start+this.units};f.prototype.getValue=function(n){return u.blendColors(this.start,this.end,n,this.temp)};l.prototype.getValue=function(n){return this.values[Math.min(Math.floor(n*this.length),this.length-1)]};c.prototype.getValue=function(n){var p=x.clone(this.def),v;for(v in this.values)p[v]=this.values[v].getValue(n);return p};k.prototype.getValue=function(n){var p=[];r.forEach(this.stack,function(v){if(v instanceof q.Matrix2D)p.push(v);
else if("original"==v.name&&this.original)p.push(this.original);else if("matrix"==v.name){if(v.start instanceof q.Matrix2D&&v.end instanceof q.Matrix2D){var A=new q.Matrix2D;for(D in v.start)A[D]=(v.end[D]-v.start[D])*n+v.start[D];p.push(A)}}else if(v.name in q)if(A=q[v.name],"function"!=typeof A)p.push(A);else{var D=r.map(v.start,function(I,M){return(v.end[M]-I)*n+I});A=A.apply(q,D);A instanceof q.Matrix2D&&p.push(A)}},this);return p};var t=new u(0,0,0,0);m.animateStroke=function(n){n.easing||(n.easing=
a._defaultEasing);var p=new a.Animation(n),v=n.shape,A;g.connect(p,"beforeBegin",p,function(){A=v.getStroke();var D=n.color,I={};D&&(I.color=h(D,A,"color",t));(D=n.style)&&D.values&&(I.style=new l(D.values));if(D=n.width){var M=D,N=A;if(M.values)var K=new l(M.values);else D=M.start?M.start:K=N?N.width:1,M.end?K=M.end:"number"!=typeof K&&(K=N?N.width:1),K=new b(D,K);I.width=K}(D=n.cap)&&D.values&&(I.cap=new l(D.values));if(D=n.join)D.values?I.join=new l(D.values):(K=D.start?D.start:A&&A.join||0,D=
D.end?D.end:A&&A.join||0,"number"==typeof K&&"number"==typeof D&&(I.join=new b(K,D)));this.curve=new c(I,A)});g.connect(p,"onAnimate",v,"setStroke");return p};m.animateFill=function(n){n.easing||(n.easing=a._defaultEasing);var p=new a.Animation(n),v=n.shape,A;g.connect(p,"beforeBegin",p,function(){A=v.getFill();var D=n.color;D&&(this.curve=h(D,A,"",t))});g.connect(p,"onAnimate",v,"setFill");return p};m.animateFont=function(n){n.easing||(n.easing=a._defaultEasing);var p=new a.Animation(n),v=n.shape,
A;g.connect(p,"beforeBegin",p,function(){A=v.getFont();var D=n.style,I={};D&&D.values&&(I.style=new l(D.values));(D=n.variant)&&D.values&&(I.variant=new l(D.values));(D=n.weight)&&D.values&&(I.weight=new l(D.values));(D=n.family)&&D.values&&(I.family=new l(D.values));if((D=n.size)&&D.units){var M=parseFloat(D.start?D.start:v.font&&v.font.size||"0");var N=parseFloat(D.end?D.end:v.font&&v.font.size||"0");I.size=new d(M,N,D.units)}this.curve=new c(I,A)});g.connect(p,"onAnimate",v,"setFont");return p};
m.animateTransform=function(n){n.easing||(n.easing=a._defaultEasing);var p=new a.Animation(n),v=n.shape,A;g.connect(p,"beforeBegin",p,function(){A=v.getTransform();this.curve=new k(n.transform,A)});g.connect(p,"onAnimate",v,"setTransform");if("svg"===B.renderer&&(9<=e("ie")||e("ff")))var D=[g.connect(p,"onBegin",p,function(){for(var I=v.getParent();I&&I.getParent;)I=I.getParent();I&&(v.__svgContainer=I.rawNode.parentNode,v.__svgRoot=I.rawNode,v.__svgRoot&&v.__svgRoot.getAttribute&&(v.__svgWidth=parseInt(v.__svgRoot.getAttribute("width"),
10),isNaN(v.__svgWidth)&&delete v.__svgWidth))}),g.connect(p,"onAnimate",p,function(){try{if(v.__svgContainer){var I=v.__svgContainer.style.visibility;v.__svgContainer.style.visibility="visible";v.__svgContainer.style.visibility=I;var M=v.__svgWidth;if(!isNaN(M))try{v.__svgRoot.setAttribute("width",M-5E-6),v.__svgRoot.setAttribute("width",M)}catch(N){}}}catch(N){}}),g.connect(p,"onEnd",p,function(){r.forEach(D,g.disconnect);if(v.__svgContainer){var I=v.__svgContainer;if(null==I.getAttribute("__gotVis")){I.setAttribute("__gotVis",
!0);var M=v.__svgContainer.style.visibility,N=v.__svgRoot,K=v.__svgWidth;I.style.visibility="visible";setTimeout(function(){try{I.style.visibility=M;I.removeAttribute("__gotVis");I=null;try{isNaN(K)||(N.setAttribute("width",K-5E-6),N.setAttribute("width",K))}catch(T){}}catch(T){}},100)}}delete v.__svgContainer;delete v.__svgRoot;delete v.__svgWidth})];return p};return m})},"dojox/charting/plot2d/_PlotEvents":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/connect"],
function(x,B,q,u){return q("dojox.charting.plot2d._PlotEvents",null,{constructor:function(){this._shapeEvents=[];this._eventSeries={}},destroy:function(){this.resetEvents();this.inherited(arguments)},plotEvent:function(r){},raiseEvent:function(r){this.plotEvent(r);var a=x.delegate(r);a.originalEvent=r.type;a.originalPlot=r.plot;a.type="onindirect";B.forEach(this.chart.stack,function(g){g!==this&&g.plotEvent&&(a.plot=g,g.plotEvent(a))},this)},connect:function(r,a){this.dirty=!0;return u.connect(this,
"plotEvent",r,a)},events:function(){return!!this.plotEvent.after},resetEvents:function(){this._shapeEvents.length&&(B.forEach(this._shapeEvents,function(r){r.shape.disconnect(r.handle)}),this._shapeEvents=[]);this.raiseEvent({type:"onplotreset",plot:this})},_connectSingleEvent:function(r,a){this._shapeEvents.push({shape:r.eventMask,handle:r.eventMask.connect(a,this,function(g){r.type=a;r.event=g;this.raiseEvent(r);r.event=null})})},_connectEvents:function(r){r&&(r.chart=this.chart,r.plot=this,r.hAxis=
this.hAxis||null,r.vAxis=this.vAxis||null,r.eventMask=r.eventMask||r.shape,this._connectSingleEvent(r,"onmouseover"),this._connectSingleEvent(r,"onmouseout"),this._connectSingleEvent(r,"onclick"))},_reconnectEvents:function(r){(r=this._eventSeries[r])&&B.forEach(r,this._connectEvents,this)},fireEvent:function(r,a,g,e){(r=this._eventSeries[r])&&r.length&&g<r.length&&(g=r[g],g.type=a,g.event=e||null,this.raiseEvent(g),g.event=null)}})})},"dojox/charting/plot2d/Pie":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/dom-geometry dojo/_base/Color ./Base ./_PlotEvents ./common dojox/gfx dojox/gfx/matrix dojox/lang/functional dojox/lang/utils dojo/has".split(" "),
function(x,B,q,u,r,a,g,e,b,d,f,l,c){return q("dojox.charting.plot2d.Pie",[a,g],{defaultParams:{labels:!0,ticks:!1,fixed:!0,precision:1,labelOffset:20,labelStyle:"default",htmlLabels:!0,radGrad:"native",fanSize:5,startAngle:0,innerRadius:0,minWidth:0,zeroDataMessage:""},optionalParams:{radius:0,omitLabels:!1,stroke:{},outline:{},shadow:{},fill:{},filter:{},styleFunc:null,font:"",fontColor:"",labelWiring:{}},constructor:function(k,h){this.opt=x.clone(this.defaultParams);l.updateWithObject(this.opt,
h);l.updateWithPattern(this.opt,h,this.optionalParams);this.axes=[];this.run=null;this.dyn=[];this.runFilter=[];h&&h.hasOwnProperty("innerRadius")&&(this._plotSetInnerRadius=!0)},clear:function(){this.inherited(arguments);this.dyn=[];this.run=null;return this},setAxis:function(k){return this},addSeries:function(k){this.run=k;return this},getSeriesStats:function(){return x.delegate(e.defaultStats)},getRequiredColors:function(){return this.run?this.run.data.length:0},render:function(k,h){if(!this.dirty)return this;
this.resetEvents();this.dirty=!1;this._eventSeries={};this.cleanGroup();var m=this.group,t=this.chart.theme;!this._plotSetInnerRadius&&t&&t.pieInnerRadius&&(this.opt.innerRadius=t.pieInnerRadius);var n=(k.width-h.l-h.r)/2,p=(k.height-h.t-h.b)/2,v=Math.min(n,p),A="font"in this.opt?this.opt.font:t.axis.tick.titleFont||"",D=A?b.normalizedLength(b.splitFontString(A).size):0,I=this.opt.hasOwnProperty("fontColor")?this.opt.fontColor:t.axis.tick.fontColor,M=d._degToRad(this.opt.startAngle),N=M,K,T=this.run.data,
W=this.events(),z=x.hitch(this,function(){var Q=t.clone(),S=f.map(T,function(da){var fa=[this.opt,this.run];null!==da&&"number"!=typeof da&&fa.push(da);this.opt.styleFunc&&fa.push(this.opt.styleFunc(da));return Q.next("slice",fa,!0)},this);"radius"in this.opt&&(v=this.opt.radius<v?this.opt.radius:v);var U={cx:h.l+n,cy:h.t+p,r:v},X=new r(I);this.opt.innerRadius&&(X.a=.1);var ea=this._createRing(m,U).setStroke(X);this.opt.innerRadius&&ea.setFill(X);this.opt.zeroDataMessage&&this.renderLabel(m,U.cx,
U.cy+D/3,this.opt.zeroDataMessage,{series:{font:A,fontColor:I}},null,"middle");this.dyn=[];B.forEach(T,function(da,fa){this.dyn.push({fill:this._plotFill(S[fa].series.fill,k,h),stroke:S[fa].series.stroke})},this)});if(!this.run&&!this.run.data.ength)return z(),this;if("number"==typeof T[0]){var y=f.map(T,"x ? Math.max(x, 0) : 0");if(f.every(y,"\x3c\x3d 0"))return z(),this;var F=f.map(y,"/this",f.foldl(y,"+",0));this.opt.labels&&(K=B.map(F,function(Q){return 0<Q?this._getLabel(100*Q)+"%":""},this))}else{y=
f.map(T,"x ? Math.max(x.y, 0) : 0");if(!y.length||f.every(y,"\x3c\x3d 0"))return z(),this;F=f.map(y,"/this",f.foldl(y,"+",0));this.opt.labels&&(K=B.map(F,function(Q,S){if(0>Q)return"";S=T[S];return S.hasOwnProperty("text")?S.text:this._getLabel(100*Q)+"%"},this))}var J=f.map(T,function(Q){var S=[this.opt,this.run];null!==Q&&"number"!=typeof Q&&S.push(Q);this.opt.styleFunc&&S.push(this.opt.styleFunc(Q));return t.next("slice",S,!0)},this);this.opt.labels&&(y=f.foldl1(f.map(K,function(Q,S){return b._base._getTextBox(Q,
{font:J[S].series.font}).w},this),"Math.max(a, b)")/2,0>this.opt.labelOffset&&(v=Math.min(n-2*y,p-D)+this.opt.labelOffset));this.opt.hasOwnProperty("radius")&&(v=this.opt.radius<.9*v?this.opt.radius:.9*v);!this.opt.radius&&this.opt.labels&&"columns"==this.opt.labelStyle?(v/=2,n>p&&n>2*v&&(v*=n/(2*v)),v>=.8*p&&(v=.8*p)):v>=.9*p&&(v=.9*p);var H=v-this.opt.labelOffset;var E={cx:h.l+n,cy:h.t+p,r:v};this.dyn=[];var w=Array(F.length),C=[],G=N,P=this.opt.minWidth;B.forEach(F,function(Q,S){if(0===Q)C[S]=
{step:0,end:G,start:G,weak:!1};else{Q=G+2*Q*Math.PI;S===F.length-1&&(Q=M+2*Math.PI);var U=Q-G;C[S]={step:U,start:G,end:Q,weak:U*v<P};G=Q}});if(0<P){y=0;var L=P/v;z=0;var O;for(O=C.length-1;0<=O;O--)C[O].weak&&(++y,z+=C[O].step,C[O].step=L);L*=y;if(L>Math.PI){L=Math.PI/y;for(O=0;O<C.length;++O)C[O].weak&&(C[O].step=L);L=Math.PI}if(0<y)for(L=1-(L-z)/2/Math.PI,O=0;O<C.length;++O)C[O].weak||(C[O].step*=L);for(O=0;O<C.length;++O)C[O].start=O?C[O].end:G,C[O].end=C[O].start+C[O].step;for(O=C.length-1;0<=
O;--O)if(0!==C[O].step){C[O].end=G+2*Math.PI;break}}G=N;var V,R;B.some(F,function(Q,S){var U=T[S],X=J[S];if(1<=Q){R=this._plotFill(X.series.fill,k,h);R=this._shapeFill(R,{x:E.cx-E.r,y:E.cy-E.r,width:2*E.r,height:2*E.r});R=this._pseudoRadialFill(R,{x:E.cx,y:E.cy},E.r);var ea=this._createRing(m,E).setFill(R).setStroke(X.series.stroke);this.dyn.push({fill:R,stroke:X.series.stroke});W&&(V={element:"slice",index:S,run:this.run,shape:ea,x:S,y:"number"==typeof U?U:U.y,cx:E.cx,cy:E.cy,cr:v},this._connectEvents(V),
w[S]=V);for(S+=1;S<F.length;S++)X=J[S],this.dyn.push({fill:X.series.fill,stroke:X.series.stroke});return!0}if(0===C[S].step)return this.dyn.push({fill:X.series.fill,stroke:X.series.stroke}),!1;Q=C[S].step;ea=E.cx+v*Math.cos(G);var da=E.cy+v*Math.sin(G),fa=E.cx+v*Math.cos(G+Q),aa=E.cy+v*Math.sin(G+Q),Y=d._degToRad(this.opt.fanSize);if(X.series.fill&&"radial"===X.series.fill.type&&"fan"===this.opt.radGrad&&Q>Y){var ka=m.createGroup();Y=Math.ceil(Q/Y);var la=Q/Y;R=this._shapeFill(X.series.fill,{x:E.cx-
E.r,y:E.cy-E.r,width:2*E.r,height:2*E.r});var ba;for(ba=0;ba<Y;++ba){var qa=G+(ba-.2)*la;var pa=G+(ba+1+.2)*la;var ra=0==ba?ea:E.cx+v*Math.cos(qa);var sa=0==ba?da:E.cy+v*Math.sin(qa);var ta=ba==Y-1?fa:E.cx+v*Math.cos(pa);pa=ba==Y-1?aa:E.cy+v*Math.sin(pa);this._createSlice(ka,E,v,ra,sa,ta,pa,qa,la).setFill(this._pseudoRadialFill(R,{x:E.cx,y:E.cy},v,G+(ba+.5)*la,G+(ba+.5)*la))}Y=X.series.stroke;this._createSlice(ka,E,v,ea,da,fa,aa,G,Q).setStroke(Y);ea=ka}else{Y=X.series.stroke;ea=this._createSlice(m,
E,v,ea,da,fa,aa,G,Q).setStroke(Y);if((R=X.series.fill)&&"radial"===R.type)R=this._shapeFill(R,{x:E.cx-E.r,y:E.cy-E.r,width:2*E.r,height:2*E.r}),"linear"===this.opt.radGrad&&(R=this._pseudoRadialFill(R,{x:E.cx,y:E.cy},v,G,G+Q));else if(R&&"linear"===R.type){da=x.clone(ea.getBoundingBox());if("svg"===b.renderer){fa={w:0,h:0};try{fa=u.position(ea.rawNode)}catch(ua){}fa.h>da.height&&(da.height=fa.h);fa.w>da.width&&(da.width=fa.w)}R=this._plotFill(R,k,h);R=this._shapeFill(R,da)}ea.setFill(R)}this.dyn.push({fill:R,
stroke:X.series.stroke});W&&(V={element:"slice",index:S,run:this.run,shape:ea,x:S,y:"number"==typeof U?U:U.y,cx:E.cx,cy:E.cy,cr:v},this._connectEvents(V),w[S]=V);G+=Q;return!1},this);if(this.opt.labels){var ca=c("dojo-bidi")&&this.chart.isRightToLeft();if("default"==this.opt.labelStyle)G=N=M,B.some(F,function(Q,S){if(0>=Q&&!this.opt.minWidth)return!1;var U=J[S];if(1<=Q)return this.renderLabel(m,E.cx,E.cy+D/2,K[S],U,0<this.opt.labelOffset),!0;Q=N+2*Q*Math.PI;S+1==F.length&&(Q=M+2*Math.PI);if(this.opt.omitLabels&&
.001>Q-N)return!1;var X=G+C[S].step/2,ea=E.cx+H*Math.cos(X);this.renderLabel(m,ca?k.width-ea:ea,E.cy+H*Math.sin(X)+D/2,K[S],U,0<this.opt.labelOffset);G+=C[S].step;N=Q;return!1},this);else if("columns"==this.opt.labelStyle){var ja=this.opt.omitLabels;G=N=M;var ia=[],ha=0;for(y=F.length-1;0<=y;--y)F[y]&&++ha;B.forEach(F,function(Q,S){Q=N+2*Q*Math.PI;S+1==F.length&&(Q=M+2*Math.PI);if(0!==this.minWidth||.001<=Q-N){var U=G+C[S].step/2;1!==ha||this.opt.minWidth||(U=(N+Q)/2);ia.push({angle:U,left:0>Math.cos(U),
theme:J[S],index:S,omit:ja?.001>Q-N:!1})}N=Q;G+=C[S].step},this);var ma=b._base._getTextBox("a",{font:A,whiteSpace:"nowrap"}).h;this._getProperLabelRadius(ia,ma,1.1*E.r);var na=E.cx-2*E.r,Z=E.cx+2*E.r;B.forEach(ia,function(Q){if(!Q.omit){var S=J[Q.index],U=0;S&&S.axis&&S.axis.tick&&S.axis.tick.labelGap&&(U=S.axis.tick.labelGap);var X=b._base._getTextBox(K[Q.index],{font:S.series.font,whiteSpace:"nowrap",paddingLeft:U+"px"}).w,ea=E.cx+Q.labelR*Math.cos(Q.angle),da=E.cy+Q.labelR*Math.sin(Q.angle),fa=
Q.left?na+X:Z-X;U=Q.left?na:fa+U;var aa=E.r;aa=m.createPath().moveTo(E.cx+aa*Math.cos(Q.angle),E.cy+aa*Math.sin(Q.angle));Math.abs(Q.labelR*Math.cos(Q.angle))<2*E.r-X&&aa.lineTo(ea,da);aa.lineTo(fa,da).setStroke(Q.theme.series.labelWiring);aa.moveToBack();ea=this.renderLabel(m,U,ma/3+da||0,K[Q.index],S,!1,"left");W&&!this.opt.htmlLabels&&(S=b._base._getTextBox(K[Q.index],{font:Q.theme.series.font}).w||0,X=b.normalizedLength(b.splitFontString(Q.theme.series.font).size),V={element:"labels",index:Q.index,
run:this.run,shape:ea,x:U,y:da,label:K[Q.index]},U=ea.getShape(),da=u.position(this.chart.node,!0),U=x.mixin({type:"rect"},{x:U.x,y:U.y-2*X}),U.x+=da.x,U.y+=da.y,U.x=Math.round(U.x),U.y=Math.round(U.y),U.width=Math.ceil(S),U.height=Math.ceil(X),V.aroundRect=U,this._connectEvents(V),w[F.length+Q.index]=V)}},this)}}var oa=0;this._eventSeries[this.run.name]=f.map(T,function(Q){return 0>=Q?null:w[oa++]});c("dojo-bidi")&&this._checkOrientation(this.group,k,h);return this},_getProperLabelRadius:function(k,
h,m){if(1==k.length)k[0].labelR=m;else{var t={},n={},p=2,v=2,A;for(A=0;A<k.length;++A){var D=Math.abs(Math.sin(k[A].angle));k[A].left?p>D&&(p=D,t=k[A]):v>D&&(v=D,n=k[A])}t.labelR=n.labelR=m;this._caculateLabelR(t,k,h);this._caculateLabelR(n,k,h)}},_caculateLabelR:function(k,h,m){var t,n=h.length,p=k.labelR,v=h[k.index].left?-m:m;var A=0;m=k.index;for(t=(m+1)%n;A<n&&h[m].left===h[t].left;++A)p=(Math.sin(h[m].angle)*p+v)/Math.sin(h[t].angle),p=Math.max(k.labelR,p),h[t].labelR=p,m=(m+1)%n,t=(t+1)%n;
A>=n&&(h[0].labelR=k.labelR);A=0;m=k.index;for(t=(m||n)-1;A<n&&h[m].left===h[t].left;++A)p=(Math.sin(h[m].angle)*p-v)/Math.sin(h[t].angle),p=Math.max(k.labelR,p),h[t].labelR=p,m=(m||n)-1,t=(t||n)-1},_createRing:function(k,h){var m=this.opt.innerRadius;0<m?m=m/100*h.r:0>m&&(m=-m);return m?k.createPath({}).setAbsoluteMode(!0).moveTo(h.cx,h.cy-h.r).arcTo(h.r,h.r,0,!1,!0,h.cx+h.r,h.cy).arcTo(h.r,h.r,0,!0,!0,h.cx,h.cy-h.r).closePath().moveTo(h.cx,h.cy-m).arcTo(m,m,0,!1,!0,h.cx+m,h.cy).arcTo(m,m,0,!0,!0,
h.cx,h.cy-m).closePath():k.createCircle(h)},_createSlice:function(k,h,m,t,n,p,v,A,D){var I=this.opt.innerRadius;0<I?I=I/100*h.r:0>I&&(I=-I);if(I){var M=h.cx+I*Math.cos(A),N=h.cy+I*Math.sin(A),K=h.cx+I*Math.cos(A+D);h=h.cy+I*Math.sin(A+D);return k.createPath({}).setAbsoluteMode(!0).moveTo(M,N).lineTo(t,n).arcTo(m,m,0,D>Math.PI,!0,p,v).lineTo(K,h).arcTo(I,I,0,D>Math.PI,!1,M,N).closePath()}return k.createPath({}).setAbsoluteMode(!0).moveTo(h.cx,h.cy).lineTo(t,n).arcTo(m,m,0,D>Math.PI,!0,p,v).lineTo(h.cx,
h.cy).closePath()}})})},"dojox/charting/action2d/Tooltip":function(){define("dijit/Tooltip dojo/_base/lang dojo/_base/declare dojo/_base/window dojo/_base/connect dojo/dom-style ./PlotAction dojox/gfx/matrix dojo/has dojo/has!dojo-bidi?../bidi/action2d/Tooltip dojox/lang/functional dojox/lang/functional/scan dojox/lang/functional/fold".split(" "),function(x,B,q,u,r,a,g,e,b,d,f){var l=function(h,m){var t=h.run&&h.run.data&&h.run.data[h.index];return t&&"number"!=typeof t&&(t.tooltip||t.text)?t.tooltip||
t.text:m.tooltipFunc?m.tooltipFunc(h):h.y},c=Math.PI/4,k=Math.PI/2;a=q(b("dojo-bidi")?"dojox.charting.action2d.NonBidiTooltip":"dojox.charting.action2d.Tooltip",g,{defaultParams:{text:l,mouseOver:!0,defaultPosition:["after-centered","before-centered"]},optionalParams:{},constructor:function(h,m,t){this.text=t&&t.text?t.text:l;this.mouseOver=t&&void 0!=t.mouseOver?t.mouseOver:!0;this.defaultPosition=t&&void 0!=t.defaultPosition?t.defaultPosition:["after-centered","before-centered"];this.connect()},
process:function(h){if("onplotreset"===h.type||"onmouseout"===h.type)x.hide(this.aroundRect),this.aroundRect=null,"onplotreset"===h.type&&delete this.angles;else if(!(!h.shape||this.mouseOver&&"onmouseover"!==h.type||!this.mouseOver&&"onclick"!==h.type)){var m={type:"rect"},t=this.defaultPosition;switch(h.element){case "marker":m.x=h.cx;m.y=h.cy;m.w=m.h=1;break;case "circle":m.x=h.cx-h.cr;m.y=h.cy-h.cr;m.w=m.h=2*h.cr;break;case "spider_circle":m.x=h.cx;m.y=h.cy;m.w=m.h=1;break;case "spider_plot":return;
case "column":t=["above-centered","below-centered"];case "bar":m=B.clone(h.shape.getShape());m.w=m.width;m.h=m.height;break;case "candlestick":m.x=h.x;m.y=h.y;m.w=h.width;m.h=h.height;break;default:if(!this.angles){var n="number"==typeof h.run.data[0]?f.map(h.run.data,"x ? Math.max(x, 0) : 0"):f.map(h.run.data,"x ? Math.max(x.y, 0) : 0");this.angles=f.map(f.scanl(n,"+",0),"* 2 * Math.PI / this",f.foldl(n,"+",0))}n=e._degToRad(h.plot.opt.startAngle);var p=(this.angles[h.index]+this.angles[h.index+
1])/2+n;m.x=h.cx+h.cr*Math.cos(p);m.y=h.cy+h.cr*Math.sin(p);m.w=m.h=1;n&&(0>p||p>2*Math.PI)&&(p=Math.abs(2*Math.PI-Math.abs(p)));p<c||(p<k+c?t=["below-centered","above-centered"]:p<Math.PI+c?t=["before-centered","after-centered"]:p<2*Math.PI-c&&(t=["above-centered","below-centered"]))}b("dojo-bidi")&&this._recheckPosition(h,m,t);n=this.chart.getCoords();m.x+=n.x;m.y+=n.y;m.x=Math.round(m.x);m.y=Math.round(m.y);m.w=Math.ceil(m.w);m.h=Math.ceil(m.h);this.aroundRect=m;(h=this.text(h,this.plot))&&x.show(this._format(h),
this.aroundRect,t);this.mouseOver||(this._handle=r.connect(u.doc,"onclick",this,"onClick"))}},onClick:function(){this.process({type:"onmouseout"})},_recheckPosition:function(h,m,t){},_format:function(h){return h}});return b("dojo-bidi")?q("dojox.charting.action2d.Tooltip",[a,d]):a})},"dojox/charting/action2d/PlotAction":function(){define(["dojo/_base/connect","dojo/_base/declare","./Base","dojo/fx/easing","dojox/lang/functional"],function(x,B,q,u,r){var a=u.backOut;return B("dojox.charting.action2d.PlotAction",
q,{overOutEvents:{onmouseover:1,onmouseout:1},constructor:function(g,e,b){this.anim={};b||(b={});this.duration=b.duration?b.duration:400;this.easing=b.easing?b.easing:a},connect:function(){this.handle=this.chart.connectToPlot(this.plot.name,this,"process")},disconnect:function(){this.handle&&(x.disconnect(this.handle),this.handle=null)},reset:function(){},destroy:function(){this.inherited(arguments);r.forIn(this.anim,function(g){r.forIn(g,function(e){e.action.stop(!0)})});this.anim={}}})})},"dojox/charting/action2d/Base":function(){define(["dojo/_base/lang",
"dojo/_base/declare","dojo/Evented"],function(x,B,q){return B("dojox.charting.action2d.Base",q,{constructor:function(u,r){this.chart=u;this.plot=r?x.isString(r)?this.chart.getPlot(r):r:this.chart.getPlot("default")},connect:function(){},disconnect:function(){},destroy:function(){this.disconnect()}})})},"dojo/fx/easing":function(){define(["../_base/lang"],function(x){var B={linear:function(q){return q},quadIn:function(q){return Math.pow(q,2)},quadOut:function(q){return q*(q-2)*-1},quadInOut:function(q){q*=
2;return 1>q?Math.pow(q,2)/2:-1*(--q*(q-2)-1)/2},cubicIn:function(q){return Math.pow(q,3)},cubicOut:function(q){return Math.pow(q-1,3)+1},cubicInOut:function(q){q*=2;return 1>q?Math.pow(q,3)/2:(Math.pow(q-2,3)+2)/2},quartIn:function(q){return Math.pow(q,4)},quartOut:function(q){return-1*(Math.pow(q-1,4)-1)},quartInOut:function(q){q*=2;return 1>q?Math.pow(q,4)/2:-.5*(Math.pow(q-2,4)-2)},quintIn:function(q){return Math.pow(q,5)},quintOut:function(q){return Math.pow(q-1,5)+1},quintInOut:function(q){q*=
2;return 1>q?Math.pow(q,5)/2:(Math.pow(q-2,5)+2)/2},sineIn:function(q){return-1*Math.cos(Math.PI/2*q)+1},sineOut:function(q){return Math.sin(Math.PI/2*q)},sineInOut:function(q){return-1*(Math.cos(Math.PI*q)-1)/2},expoIn:function(q){return 0==q?0:Math.pow(2,10*(q-1))},expoOut:function(q){return 1==q?1:-1*Math.pow(2,-10*q)+1},expoInOut:function(q){if(0==q)return 0;if(1==q)return 1;q*=2;if(1>q)return Math.pow(2,10*(q-1))/2;--q;return(-1*Math.pow(2,-10*q)+2)/2},circIn:function(q){return-1*(Math.sqrt(1-
Math.pow(q,2))-1)},circOut:function(q){return Math.sqrt(1-Math.pow(q-1,2))},circInOut:function(q){q*=2;return 1>q?-.5*(Math.sqrt(1-Math.pow(q,2))-1):.5*(Math.sqrt(1-Math.pow(q-2,2))+1)},backIn:function(q){return Math.pow(q,2)*(2.70158*q-1.70158)},backOut:function(q){--q;return Math.pow(q,2)*(2.70158*q+1.70158)+1},backInOut:function(q){q*=2;if(1>q)return Math.pow(q,2)*(3.5949095*q-2.5949095)/2;q-=2;return(Math.pow(q,2)*(3.5949095*q+2.5949095)+2)/2},elasticIn:function(q){if(0==q||1==q)return q;--q;
return-1*Math.pow(2,10*q)*Math.sin(2*(q-.075)*Math.PI/.3)},elasticOut:function(q){return 0==q||1==q?q:Math.pow(2,-10*q)*Math.sin(2*(q-.075)*Math.PI/.3)+1},elasticInOut:function(q){if(0==q)return 0;q*=2;if(2==q)return 1;var u=.3*1.5,r=u/4;if(1>q)return--q,-.5*Math.pow(2,10*q)*Math.sin(2*(q-r)*Math.PI/u);--q;return.5*Math.pow(2,-10*q)*Math.sin(2*(q-r)*Math.PI/u)+1},bounceIn:function(q){return 1-B.bounceOut(1-q)},bounceOut:function(q){return q<1/2.75?7.5625*Math.pow(q,2):q<2/2.75?7.5625*Math.pow(q-1.5/
2.75,2)+.75:q<2.5/2.75?7.5625*Math.pow(q-2.25/2.75,2)+.9375:7.5625*Math.pow(q-2.625/2.75,2)+.984375},bounceInOut:function(q){return.5>q?B.bounceIn(2*q)/2:B.bounceOut(2*q-1)/2+.5}};x.setObject("dojo.fx.easing",B);return B})},"dojox/lang/functional/scan":function(){define(["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(x,B,q){var u={};B.mixin(q,{scanl:function(r,a,g,e){"string"==typeof r&&(r=r.split(""));e=e||x.global;a=q.lambda(a);var b,d;if(B.isArray(r)){var f=Array((b=r.length)+1);f[0]=
g;for(d=0;d<b;g=a.call(e,g,r[d],d,r),f[++d]=g);}else if("function"==typeof r.hasNext&&"function"==typeof r.next)for(f=[g],d=0;r.hasNext();f.push(g=a.call(e,g,r.next(),d++,r)));else for(d in f=[g],r)d in u||f.push(g=a.call(e,g,r[d],d,r));return f},scanl1:function(r,a,g){"string"==typeof r&&(r=r.split(""));g=g||x.global;a=q.lambda(a);var e;var b=!0;if(B.isArray(r)){var d=Array(b=r.length);d[0]=e=r[0];for(var f=1;f<b;d[f]=e=a.call(g,e,r[f],f,r),++f);}else if("function"==typeof r.hasNext&&"function"==
typeof r.next){if(r.hasNext())for(d=[e=r.next()],f=1;r.hasNext();d.push(e=a.call(g,e,r.next(),f++,r)));}else for(f in r)f in u||(b?(d=[e=r[f]],b=!1):d.push(e=a.call(g,e,r[f],f,r)));return d},scanr:function(r,a,g,e){"string"==typeof r&&(r=r.split(""));e=e||x.global;a=q.lambda(a);var b=r.length,d=Array(b+1),f=b;for(d[b]=g;0<f;--f,g=a.call(e,g,r[f],f,r),d[f]=g);return d},scanr1:function(r,a,g){"string"==typeof r&&(r=r.split(""));g=g||x.global;a=q.lambda(a);var e=r.length,b=Array(e),d=r[e-1];--e;for(b[e]=
d;0<e;--e,d=a.call(g,d,r[e],e,r),b[e]=d);return b}})})},"dojox/charting/action2d/MoveSlice":function(){define("dojo/_base/connect dojo/_base/declare dojo/_base/array ./PlotAction dojo/fx/easing dojox/gfx/matrix dojox/gfx/fx dojox/lang/functional dojox/lang/functional/scan dojox/lang/functional/fold".split(" "),function(x,B,q,u,r,a,g,e){return B("dojox.charting.action2d.MoveSlice",u,{defaultParams:{duration:400,easing:r.backOut,scale:1.05,shift:7},optionalParams:{},constructor:function(b,d,f){f||(f=
{});this.scale="number"==typeof f.scale?f.scale:1.05;this.shift="number"==typeof f.shift?f.shift:7;this.connect()},process:function(b){if(b.shape&&"slice"==b.element&&b.type in this.overOutEvents){if(!this.angles){var d=a._degToRad(b.plot.opt.startAngle);this.angles="number"==typeof b.run.data[0]?e.map(e.scanl(b.run.data,"+",0),"* 2 * Math.PI / this",e.foldl(b.run.data,"+",0)):e.map(e.scanl(b.run.data,"a + b.y",0),"* 2 * Math.PI / this",e.foldl(b.run.data,"a + b.y",0));this.angles=q.map(this.angles,
function(p){return p+d})}var f=b.index;var l=(this.angles[f]+this.angles[f+1])/2;var c=a.rotateAt(-l,b.cx,b.cy),k=a.rotateAt(l,b.cx,b.cy);(l=this.anim[f])?l.action.stop(!0):this.anim[f]=l={};if("onmouseover"==b.type){var h=0;var m=this.shift;var t=1;var n=this.scale}else h=this.shift,m=0,t=this.scale,n=1;l.action=g.animateTransform({shape:b.shape,duration:this.duration,easing:this.easing,transform:[k,{name:"translate",start:[h,0],end:[m,0]},{name:"scaleAt",start:[t,b.cx,b.cy],end:[n,b.cx,b.cy]},c]});
"onmouseout"==b.type&&x.connect(l.action,"onEnd",this,function(){delete this.anim[f]});l.action.play()}},reset:function(){delete this.angles}})})},"dojox/charting/axis2d/Default":function(){define("dojo/_base/lang dojo/_base/array dojo/sniff dojo/_base/declare dojo/_base/connect dojo/dom-geometry ./Invisible ../scaler/linear ./common dojox/gfx dojox/lang/utils dojox/lang/functional dojo/has!dojo-bidi?../bidi/axis2d/Default".split(" "),function(x,B,q,u,r,a,g,e,b,d,f,l,c){g=u(q("dojo-bidi")?"dojox.charting.axis2d.NonBidiDefault":
"dojox.charting.axis2d.Default",g,{defaultParams:{vertical:!1,fixUpper:"none",fixLower:"none",natural:!1,leftBottom:!0,includeZero:!1,fixed:!0,majorLabels:!0,minorTicks:!0,minorLabels:!0,microTicks:!1,rotation:0,htmlLabels:!0,enableCache:!1,dropLabels:!0,labelSizeChange:!1,position:"leftOrBottom"},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],labelFunc:null,maxLabelSize:0,maxLabelCharCount:0,trailingSymbol:null,stroke:{},majorTick:{},minorTick:{},
microTick:{},tick:{},font:"",fontColor:"",title:"",titleGap:0,titleFont:"",titleFontColor:"",titleOrientation:""},constructor:function(k,h){this.opt=x.clone(this.defaultParams);f.updateWithObject(this.opt,h);f.updateWithPattern(this.opt,h,this.optionalParams);this.opt.enableCache&&(this._textFreePool=[],this._lineFreePool=[],this._textUsePool=[],this._lineUsePool=[]);this._invalidMaxLabelSize=!0;h&&"position"in h||(this.opt.position=this.opt.leftBottom?"leftOrBottom":"rightOrTop");this.renderingOptions=
{"shape-rendering":"crispEdges"}},setWindow:function(k,h){k!=this.scale&&(this._invalidMaxLabelSize=!0);return this.inherited(arguments)},_groupLabelWidth:function(k,h,m){if(!k.length)return 0;50<k.length&&(k.length=50);x.isObject(k[0])&&(k=l.map(k,function(t){return t.text}));m&&(k=l.map(k,function(t){return 0==x.trim(t).length?"":t.substring(0,m)+this.trailingSymbol},this));k=k.join("\x3cbr\x3e");return d._base._getTextBox(k,{font:h}).w||0},_getMaxLabelSize:function(k,h,m,t,n,p){if(null==this._maxLabelSize&&
6==arguments.length){var v=this.opt;this.scaler.minMinorStep=this._prevMinMinorStep=0;var A=x.clone(v);delete A.to;delete A.from;var D=e.buildScaler(k,h,m,A,v.to-v.from);D.minMinorStep=0;this._majorStart=D.major.start;v=e.buildTicks(D,v);if(p&&v){var I=D=0,M=function(K){K.label&&this.push(K.label)},N=[];this.opt.majorLabels&&(B.forEach(v.major,M,N),D=this._groupLabelWidth(N,n,A.maxLabelCharCount),A.maxLabelSize&&(D=Math.min(A.maxLabelSize,D)));N=[];this.opt.dropLabels&&this.opt.minorLabels&&(B.forEach(v.minor,
M,N),I=this._groupLabelWidth(N,n,A.maxLabelCharCount),A.maxLabelSize&&(I=Math.min(A.maxLabelSize,I)));this._maxLabelSize={majLabelW:D,minLabelW:I,majLabelH:p,minLabelH:p}}else this._maxLabelSize=null}return this._maxLabelSize},calculate:function(k,h,m){this.inherited(arguments);this.scaler.minMinorStep=this._prevMinMinorStep;if((this._invalidMaxLabelSize||m!=this._oldSpan)&&Infinity!=k&&-Infinity!=h){this._invalidMaxLabelSize=!1;this.opt.labelSizeChange&&(this._maxLabelSize=null);this._oldSpan=m;
var t=this.opt,n=this.chart.theme.axis,p=t.rotation%360,v=this.chart.theme.axis.tick.labelGap,A=t.font||n.majorTick&&n.majorTick.font||n.tick&&n.tick.font;n=A?d.normalizedLength(d.splitFontString(A).size):0;A=this._getMaxLabelSize(k,h,m,p,A,n);"number"!=typeof v&&(v=4);if(A&&t.dropLabels){t=Math.abs(Math.cos(p*Math.PI/180));var D=Math.abs(Math.sin(p*Math.PI/180));0>p&&(p+=360);switch(p){case 0:case 180:this.vertical?p=n:(p=A.majLabelW,n=A.minLabelW);break;case 90:case 270:this.vertical?(p=A.majLabelW,
n=A.minLabelW):p=n;break;default:p=this.vertical?Math.min(A.majLabelW,n/t):Math.min(A.majLabelW,n/D),n=Math.min(Math.sqrt(A.minLabelW*A.minLabelW+n*n),this.vertical?n*t+A.minLabelW*D:A.minLabelW*t+n*D)}this.scaler.minMinorStep=this._prevMinMinorStep=Math.max(p,n)+v;this._skipInterval=this.scaler.minMinorStep<=this.scaler.minor.tick*this.scaler.bounds.scale?0:Math.floor((p+v)/(this.scaler.major.tick*this.scaler.bounds.scale))}else this._skipInterval=0}this.ticks=e.buildTicks(this.scaler,this.opt);
return this},getOffsets:function(){var k={l:0,r:0,t:0,b:0};if(!this.scaler)return k;var h=this.opt,m=this.chart.theme.axis,t=this.chart.theme.axis.tick.labelGap,n=h.titleFont||m.title&&m.title.font;m=0==h.titleGap?0:h.titleGap||m.title&&m.title.gap;var p=this.chart.theme.getTick("major",h),v=this.chart.theme.getTick("minor",h);n=n?d.normalizedLength(d.splitFontString(n).size):0;var A=h.rotation%360,D=h.position,I="rightOrTop"!==D,M=Math.abs(Math.cos(A*Math.PI/180)),N=Math.abs(Math.sin(A*Math.PI/180));
this.trailingSymbol=void 0===h.trailingSymbol||null===h.trailingSymbol?this.trailingSymbol:h.trailingSymbol;"number"!=typeof t&&(t=4);0>A&&(A+=360);var K=this._getMaxLabelSize();if(K){var T=Math.ceil(Math.max(K.majLabelW,K.minLabelW))+1,W=Math.ceil(Math.max(K.majLabelH,K.minLabelH))+1;if(this.vertical)switch(K=I?"l":"r",A){case 0:case 180:k[K]="center"===D?0:T;k.t=k.b=W/2;break;case 90:case 270:k[K]=W;k.t=k.b=T/2;break;default:45>=A||180<A&&225>=A?(k[K]=W*N/2+T*M,k[I?"t":"b"]=W*M/2+T*N,k[I?"b":"t"]=
W*M/2):315<A||180>A&&135<A?(k[K]=W*N/2+T*M,k[I?"b":"t"]=W*M/2+T*N,k[I?"t":"b"]=W*M/2):90>A||180<A&&270>A?(k[K]=W*N+T*M,k[I?"t":"b"]=W*M+T*N):(k[K]=W*N+T*M,k[I?"b":"t"]=W*M+T*N)}else switch(K=I?"b":"t",A){case 0:case 180:k[K]="center"===D?0:W;k.l=k.r=T/2;break;case 90:case 270:k[K]=T;k.l=k.r=W/2;break;default:45<=A&&90>=A||225<=A&&270>=A?(k[K]=W*M/2+T*N,k[I?"r":"l"]=W*N/2+T*M,k[I?"l":"r"]=W*N/2):90<=A&&135>=A||270<=A&&315>=A?(k[K]=W*M/2+T*N,k[I?"l":"r"]=W*N/2+T*M,k[I?"r":"l"]=W*N/2):45>A||180<A&&225>
A?(k[K]=W*M+T*N,k[I?"r":"l"]=W*N+T*M):(k[K]=W*M+T*N,k[I?"l":"r"]=W*N+T*M)}k[K]="center"===D?0:k[K]+(t+Math.max(0<p.length?p.length:0,0<v.length?v.length:0)+(h.title?n+m:0))}return k},cleanGroup:function(k){this.opt.enableCache&&this.group&&(this._lineFreePool=this._lineFreePool.concat(this._lineUsePool),this._lineUsePool=[],this._textFreePool=this._textFreePool.concat(this._textUsePool),this._textUsePool=[]);this.inherited(arguments)},createText:function(k,h,m,t,n,p,v,A,D){if(!this.opt.enableCache||
"html"==k)return b.createText[k](this.chart,h,m,t,n,p,v,A,D);0<this._textFreePool.length?(k=this._textFreePool.pop(),k.setShape({x:m,y:t,text:p,align:n}),h.add(k)):k=b.createText[k](this.chart,h,m,t,n,p,v,A);this._textUsePool.push(k);return k},createLine:function(k,h){if(this.opt.enableCache&&0<this._lineFreePool.length){var m=this._lineFreePool.pop();m.setShape(h);k.add(m)}else m=k.createLine(h);this.opt.enableCache&&this._lineUsePool.push(m);return m},render:function(k,h){var m,t=this._isRtl();
if(!this.dirty||!this.scaler)return this;var n=this.opt;var p=this.chart.theme.axis;var v=n.position,A="rightOrTop"!==v,D=n.rotation%360,I=0;I=this.chart.theme.axis.tick.labelGap;var M=n.font||p.majorTick&&p.majorTick.font||p.tick&&p.tick.font,N=n.titleFont||p.title&&p.title.font,K=n.fontColor||p.majorTick&&p.majorTick.fontColor||p.tick&&p.tick.fontColor||"black",T=n.titleFontColor||p.title&&p.title.fontColor||"black";var W=0==n.titleGap?0:n.titleGap||p.title&&p.title.gap||15;var z=n.titleOrientation||
p.title&&p.title.orientation||"axis",y=this.chart.theme.getTick("major",n),F=this.chart.theme.getTick("minor",n),J=this.chart.theme.getTick("micro",n),H="stroke"in n?n.stroke:p.stroke,E=M?d.normalizedLength(d.splitFontString(M).size):0;var w=Math.abs(Math.cos(D*Math.PI/180));var C=Math.abs(Math.sin(D*Math.PI/180));var G=N?d.normalizedLength(d.splitFontString(N).size):0;"number"!=typeof I&&(I=4);0>D&&(D+=360);var P=this._getMaxLabelSize();P=P&&P.majLabelW;if(this.vertical){var L=k.height-h.b;var O=
void 0;var V=h.t;var R=void 0;p=(k.height-h.b+h.t)/2;var ca=void 0;C=E*C+(P||0)*w+I+Math.max(0<y.length?y.length:0,0<F.length?F.length:0)+G+W;var ja=0;var ia=-1;var ha=m=0;W=1;w=0;var ma=I;var na=0;switch(D){case 0:var Z="end";ha=.4*E;break;case 90:Z="middle";m=-E;break;case 180:Z="start";ha=.4*-E;break;case 270:Z="middle";break;default:45>D?(Z="end",ha=.4*E):90>D?(Z="end",ha=.4*E):135>D?Z="start":225>D?(Z="start",ha=.4*-E):270>D?(Z="start",m=A?0:.4*E):315>D?(Z="end",m=A?0:.4*E):(Z="end",ha=.4*E)}if(A)O=
R="center"===v?k.width/2:h.l,I=z&&"away"==z?90:270,ca=h.l-C+(270==I?G:0),W=-1,ma=-ma;else switch(O=R=k.width-h.r,I=z&&"axis"==z?90:270,ca=k.width-h.r+C-(270==I?0:G),Z){case "start":Z="end";break;case "end":Z="start";break;case "middle":m+=E}}else{O=h.l;L=void 0;R=k.width-h.r;V=void 0;ca=(k.width-h.r+h.l)/2;p=void 0;C=E*w+(P||0)*C+I+Math.max(0<y.length?y.length:0,0<F.length?F.length:0)+G+W;ja=t?-1:1;W=ha=m=ia=0;w=1;ma=0;na=I;switch(D){case 0:Z="middle";ha=E;break;case 90:Z="start";m=.4*-E;break;case 180:Z=
"middle";break;case 270:Z="end";m=.4*E;break;default:45>D?(Z="start",ha=A?E:0):135>D?(Z="start",m=.4*-E):180>D?(Z="start",ha=A?0:-E):225>D?(Z="end",ha=A?0:-E):315>D?(Z="end",ha=A?.4*E:0):(Z="end",ha=A?E:0)}if(A)L=V="center"===v?k.height/2:k.height-h.b,I=z&&"axis"==z?180:0,p=k.height-h.b+C-(I?G:0);else switch(L=V=h.t,I=z&&"away"==z?180:0,p=h.t-C+(I?0:G),w=-1,na=-na,Z){case "start":Z="end";break;case "end":Z="start";break;case "middle":ha-=E}}this.cleanGroup();var oa=this.group;k=this.scaler;h=this.ticks;
var Q=e.getTransformerFromModel(this.scaler),S=n.title&&I||D||!this.opt.htmlLabels||q("ie")||q("opera")?"gfx":"html",U=W*y.length,X=w*y.length,ea=this._skipInterval;oa.createLine({x1:O,y1:L,x2:R,y2:V}).setStroke(H);n.title&&(N=b.createText[S](this.chart,oa,ca,p,"middle",n.title,N,T),"html"==S?this.htmlElements.push(N):N.setTransform(d.matrix.rotategAt(I,ca,p)));if(null==h)return this.dirty=!1,this;var da=0<h.major.length?(h.major[0].value-this._majorStart)/k.major.tick:0,fa=this.opt.majorLabels;B.forEach(h.major,
function(aa,Y){var ka=Q(aa.value),la=(t?R:O)+ja*ka;ka=L+ia*ka;Y+=da;this.createLine(oa,{x1:la,y1:ka,x2:la+U,y2:ka+X}).setStroke(y);if(aa.label&&(!ea||0==(Y-(1+ea))%(1+ea))){var ba=n.maxLabelCharCount?this.getTextWithLimitCharCount(aa.label,M,n.maxLabelCharCount):{text:aa.label,truncated:!1};ba=n.maxLabelSize?this.getTextWithLimitLength(ba.text,M,n.maxLabelSize,ba.truncated):ba;Y=this.createText(S,oa,la+(0<y.length?U:0)+ma+(D?0:m),ka+(0<y.length?X:0)+na+(D?0:ha),Z,ba.text,M,K);ba.truncated&&this.chart.formatTruncatedLabel(Y,
aa.label,S);ba.truncated&&this.labelTooltip(Y,this.chart,aa.label,ba.text,M,S);"html"==S?this.htmlElements.push(Y):D&&Y.setTransform([{dx:m,dy:ha},d.matrix.rotategAt(D,la+(0<y.length?U:0)+ma,ka+(0<y.length?X:0)+na)])}},this);U=W*F.length;X=w*F.length;fa=this.opt.minorLabels&&k.minMinorStep<=k.minor.tick*k.bounds.scale;B.forEach(h.minor,function(aa){var Y=Q(aa.value),ka=(t?R:O)+ja*Y,la=L+ia*Y;this.createLine(oa,{x1:ka,y1:la,x2:ka+U,y2:la+X}).setStroke(F);if(fa&&aa.label){var ba=n.maxLabelCharCount?
this.getTextWithLimitCharCount(aa.label,M,n.maxLabelCharCount):{text:aa.label,truncated:!1};ba=n.maxLabelSize?this.getTextWithLimitLength(ba.text,M,n.maxLabelSize,ba.truncated):ba;Y=this.createText(S,oa,ka+(0<F.length?U:0)+ma+(D?0:m),la+(0<F.length?X:0)+na+(D?0:ha),Z,ba.text,M,K);ba.truncated&&this.chart.formatTruncatedLabel(Y,aa.label,S);ba.truncated&&this.labelTooltip(Y,this.chart,aa.label,ba.text,M,S);"html"==S?this.htmlElements.push(Y):D&&Y.setTransform([{dx:m,dy:ha},d.matrix.rotategAt(D,ka+(0<
F.length?U:0)+ma,la+(0<F.length?X:0)+na)])}},this);U=W*J.length;X=w*J.length;B.forEach(h.micro,function(aa){var Y=Q(aa.value);aa=O+ja*Y;Y=L+ia*Y;this.createLine(oa,{x1:aa,y1:Y,x2:aa+U,y2:Y+X}).setStroke(J)},this);this.dirty=!1;return this},labelTooltip:function(k,h,m,t,n,p){var v=["dijit/Tooltip"],A={type:"rect"},D=["above","below"];t=d._base._getTextBox(t,{font:n}).w||0;n=n?d.normalizedLength(d.splitFontString(n).size):0;"html"==p?(x.mixin(A,a.position(k.firstChild,!0)),A.width=Math.ceil(t),A.height=
Math.ceil(n),this._events.push({shape:dojo,handle:r.connect(k.firstChild,"onmouseover",this,function(I){require(v,function(M){M.show(m,A,D)})})}),this._events.push({shape:dojo,handle:r.connect(k.firstChild,"onmouseout",this,function(I){require(v,function(M){M.hide(A)})})})):(p=k.getShape(),h=h.getCoords(),A=x.mixin(A,{x:p.x-t/2,y:p.y}),A.x+=h.x,A.y+=h.y,A.x=Math.round(A.x),A.y=Math.round(A.y),A.width=Math.ceil(t),A.height=Math.ceil(n),this._events.push({shape:k,handle:k.connect("onmouseenter",this,
function(I){require(v,function(M){M.show(m,A,D)})})}),this._events.push({shape:k,handle:k.connect("onmouseleave",this,function(I){require(v,function(M){M.hide(A)})})}))},_isRtl:function(){return!1}});return q("dojo-bidi")?u("dojox.charting.axis2d.Default",[g,c]):g})},"dojox/charting/axis2d/Invisible":function(){define(["dojo/_base/lang","dojo/_base/declare","./Base","../scaler/linear","dojox/lang/utils"],function(x,B,q,u,r){return B("dojox.charting.axis2d.Invisible",q,{defaultParams:{vertical:!1,
fixUpper:"none",fixLower:"none",natural:!1,leftBottom:!0,includeZero:!1,fixed:!0},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1},constructor:function(a,g){this.opt=x.clone(this.defaultParams);r.updateWithObject(this.opt,g);r.updateWithPattern(this.opt,g,this.optionalParams)},dependOnData:function(){return!("min"in this.opt)||!("max"in this.opt)},clear:function(){delete this.scaler;delete this.ticks;this.dirty=!0;return this},initialized:function(){return"scaler"in
this&&!(this.dirty&&this.dependOnData())},setWindow:function(a,g){this.scale=a;this.offset=g;return this.clear()},getWindowScale:function(){return"scale"in this?this.scale:1},getWindowOffset:function(){return"offset"in this?this.offset:0},calculate:function(a,g,e,b){if(this.initialized())return this;var d=this.opt;this.labels=d.labels;this.scaler=(b||u).buildScaler(a,g,e,d);var f=this.scaler.bounds;"scale"in this&&(d.from=f.lower+this.offset,d.to=(f.upper-f.lower)/this.scale+d.from,!isFinite(d.from)||
isNaN(d.from)||!isFinite(d.to)||isNaN(d.to)||d.to-d.from>=f.upper-f.lower?(delete d.from,delete d.to,delete this.scale,delete this.offset):(d.from<f.lower?(d.to+=f.lower-d.from,d.from=f.lower):d.to>f.upper&&(d.from+=f.upper-d.to,d.to=f.upper),this.offset=d.from-f.lower),this.scaler=(b||u).buildScaler(a,g,e,d),f=this.scaler.bounds,1==this.scale&&0==this.offset&&(delete this.scale,delete this.offset));return this},getScaler:function(){return this.scaler},getTicks:function(){return this.ticks}})})},
"dojox/charting/axis2d/Base":function(){define(["dojo/_base/declare","../Element"],function(x,B){return x("dojox.charting.axis2d.Base",B,{constructor:function(q,u){this.vertical=u&&u.vertical;this.opt={};this.opt.min=u&&u.min;this.opt.max=u&&u.max},clear:function(){return this},initialized:function(){return!1},calculate:function(q,u,r){return this},getScaler:function(){return null},getTicks:function(){return null},getOffsets:function(){return{l:0,r:0,t:0,b:0}},render:function(q,u){this.dirty=!1;return this},
isNullValue:function(q){return!1},naturalBaseline:0})})},"dojox/charting/scaler/linear":function(){define(["dojo/_base/lang","./common"],function(x,B){function q(g,e){g=g.toLowerCase();for(var b=e.length-1;0<=b;--b)if(g===e[b])return!0;return!1}var u=x.getObject("dojox.charting.scaler.linear",!0),r=B.getNumericLabel,a=function(g,e,b,d,f,l,c){b=x.delegate(b);d||("major"==b.fixUpper&&(b.fixUpper="minor"),"major"==b.fixLower&&(b.fixLower="minor"));f||("minor"==b.fixUpper&&(b.fixUpper="micro"),"minor"==
b.fixLower&&(b.fixLower="micro"));l||("micro"==b.fixUpper&&(b.fixUpper="none"),"micro"==b.fixLower&&(b.fixLower="none"));var k=q(b.fixLower,["major"])?Math.floor(b.min/d)*d:q(b.fixLower,["minor"])?Math.floor(b.min/f)*f:q(b.fixLower,["micro"])?Math.floor(b.min/l)*l:b.min,h=q(b.fixUpper,["major"])?Math.ceil(b.max/d)*d:q(b.fixUpper,["minor"])?Math.ceil(b.max/f)*f:q(b.fixUpper,["micro"])?Math.ceil(b.max/l)*l:b.max;b.useMin&&(g=k);b.useMax&&(e=h);var m=!d||b.useMin&&q(b.fixLower,["major"])?g:Math.ceil(g/
d)*d,t=!f||b.useMin&&q(b.fixLower,["major","minor"])?g:Math.ceil(g/f)*f,n=!l||b.useMin&&q(b.fixLower,["major","minor","micro"])?g:Math.ceil(g/l)*l,p=d?(b.useMax&&q(b.fixUpper,["major"])?Math.round((e-m)/d):Math.floor((e-m)/d))+1:0,v=f?(b.useMax&&q(b.fixUpper,["major","minor"])?Math.round((e-t)/f):Math.floor((e-t)/f))+1:0;b=l?(b.useMax&&q(b.fixUpper,["major","minor","micro"])?Math.round((e-n)/l):Math.floor((e-n)/l))+1:0;var A=f?Math.round(d/f):0,D=l?Math.round(f/l):0,I=d?Math.floor(Math.log(d)/Math.LN10):
0,M=f?Math.floor(Math.log(f)/Math.LN10):0,N=c/(e-g);isFinite(N)||(N=1);return{bounds:{lower:k,upper:h,from:g,to:e,scale:N,span:c},major:{tick:d,start:m,count:p,prec:I},minor:{tick:f,start:t,count:v,prec:M},micro:{tick:l,start:n,count:b,prec:0},minorPerMajor:A,microPerMinor:D,scaler:u}};return x.mixin(u,{buildScaler:function(g,e,b,d,f,l){var c={fixUpper:"none",fixLower:"none",natural:!1};d&&("fixUpper"in d&&(c.fixUpper=String(d.fixUpper)),"fixLower"in d&&(c.fixLower=String(d.fixLower)),"natural"in
d&&(c.natural=!!d.natural));l=!l||3>l?3:l;"min"in d&&(g=d.min);"max"in d&&(e=d.max);d.includeZero&&(0<g&&(g=0),0>e&&(e=0));c.min=g;c.useMin=!0;c.max=e;c.useMax=!0;"from"in d&&(g=d.from,c.useMin=!1);"to"in d&&(e=d.to,c.useMax=!1);if(e<=g)return a(g,e,c,0,0,0,b);f||(f=e-g);f=Math.floor(Math.log(f)/Math.LN10);f=d&&"majorTickStep"in d?d.majorTickStep:Math.pow(10,f);var k=0,h=0;if(d&&"minorTickStep"in d)k=d.minorTickStep;else{do{k=f/10;if(!c.natural||.9<k){var m=a(g,e,c,f,k,0,b);if(m.bounds.scale*m.minor.tick>
l)break}k=f/5;if(!c.natural||.9<k)if(m=a(g,e,c,f,k,0,b),m.bounds.scale*m.minor.tick>l)break;k=f/2;if(!c.natural||.9<k)if(m=a(g,e,c,f,k,0,b),m.bounds.scale*m.minor.tick>l)break;return a(g,e,c,f,0,0,b)}while(0)}if(d&&"microTickStep"in d)h=d.microTickStep,m=a(g,e,c,f,k,h,b);else{do{h=k/10;if(!c.natural||.9<h)if(m=a(g,e,c,f,k,h,b),3<m.bounds.scale*m.micro.tick)break;h=k/5;if(!c.natural||.9<h)if(m=a(g,e,c,f,k,h,b),3<m.bounds.scale*m.micro.tick)break;h=k/2;if(!c.natural||.9<h)if(m=a(g,e,c,f,k,h,b),3<m.bounds.scale*
m.micro.tick)break;h=0}while(0)}return h?m:a(g,e,c,f,k,0,b)},buildTicks:function(g,e){var b=g.major.start,d=g.minor.start,f=g.micro.start;if(e.microTicks&&g.micro.tick){var l=g.micro.tick;var c=f}else if(e.minorTicks&&g.minor.tick)l=g.minor.tick,c=d;else if(g.major.tick)l=g.major.tick,c=b;else return null;var k=1/g.bounds.scale;if(g.bounds.to<=g.bounds.from||isNaN(k)||!isFinite(k)||0>=l||isNaN(l)||!isFinite(l))return null;for(var h=[],m=[],t=[];c<=g.bounds.to+k;){if(Math.abs(b-c)<l/2){var n={value:b};
e.majorLabels&&(n.label=r(b,g.major.prec,e));h.push(n);b+=g.major.tick;d+=g.minor.tick}else Math.abs(d-c)<l/2?(e.minorTicks&&(n={value:d},e.minorLabels&&g.minMinorStep<=g.minor.tick*g.bounds.scale&&(n.label=r(d,g.minor.prec,e)),m.push(n)),d+=g.minor.tick):e.microTicks&&t.push({value:f});f+=g.micro.tick;c+=l}return{major:h,minor:m,micro:t}},getTransformerFromModel:function(g){var e=g.bounds.from,b=g.bounds.scale;return function(d){return(d-e)*b}},getTransformerFromPlot:function(g){var e=g.bounds.from,
b=g.bounds.scale;return function(d){return d/b+e}}})})},"widgets/ReviewerDashboard/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/ReviewerDashboard/Widget.html":'\x3cdiv onselectstart\x3d"return false;"\x3e\r\n   \x3cdiv class\x3d"chart-content" data-dojo-attach-point\x3d"content"\x3e\r\n      \x3cdiv class\x3d"chart-tab-node" data-dojo-attach-point\x3d"selectTabNode"\x3e\r\n          \x3cdiv class\x3d\'sectionHeading\'/\x3e${nls.selectAttributeFilters}\x3c/div\x3e\r\n\r\n        \x3cdiv id\x3d"filterContainer" data-dojo-attach-point\x3d"filterContainer"\x3e  \r\n           \x3cul data-dojo-attach-point\x3d"filterList"\x3e\r\n           \x3c/ul\x3e\r\n    \r\n         \x3c/div\x3e\r\n         \r\n     \x3cdiv style\x3d\'margin:15px 10px 15px 0px;\'/\x3e\r\n        \x3cdiv class\x3d\'sectionHeading\'\x3e${nls.spatialFilterSelection}\x3c/div\x3e\r\n\r\n      \x3cdiv id\x3d"filterContainer"\x3e\r\n      \x3cul data-dojo-attach-point\x3d"spatialFilterList"\x3e\r\n        \x3cli\x3e\x3ca href\x3d"#" id\x3d"spatialFilterLink"\x3e\x3cdiv  data-dojo-attach-point\x3d"drawSpatialFilter" class\x3d\'spatialFilterLabel\'/\x3e\r\n          ${nls.drawSelectionArea}\r\n        \x3c/div\x3e\x3c/a\x3e\x3c/li\x3e\r\n        \x3cli\x3e\x3ca href\x3d"#"  id\x3d"currentMapExtentLink"\x3e\x3cdiv  data-dojo-attach-point\x3d"currentMapExtent" class\x3d\'spatialFilterLabel\'/\x3e\r\n            ${nls.currentSelection}\r\n        \x3c/div\x3e\x3c/a\x3e\x3c/li\x3e\r\n          \x3cli class\x3d\'dynamicRow\'\x3e\x3ca href\x3d"#"  id\x3d"censusBlockLink"\x3e\x3cdiv  data-dojo-attach-point\x3d"censusBlockGroup" class\x3d\'spatialFilterLabel\'/\x3e\r\n          ${nls.censusBlockGroup}\r\n        \x3c/div\x3e\x3c/a\x3e\x3c/li\x3e\r\n        \x3cli\x3e\x3ca href\x3d"#"  id\x3d"clearSpatialFilterLink" class\x3d"current"\x3e\x3cdiv  data-dojo-attach-point\x3d"clearSpatialFilter" class\x3d\'spatialFilterLabel\'/\x3e\r\n         ${nls.noSpatialFilter}\r\n        \x3c/div\x3e\x3c/a\x3e\x3c/li\x3e\r\n      \x3c/ul\x3e\r\n    \x3c/div\x3e\r\n \x3c/div\x3e\r\n    \x3cdiv style\x3d\'margin:15px 10px 15px 0px;\'/\x3e\r\n      \x3cdiv class\x3d\'sectionHeading\'\x3e${nls.reviewerSessionFilter}\x3c/div\x3e\r\n      \x3cselect data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"sessionNameSelect" style\x3d"width:90%;height:25px;margin: 10px 5px 0px 7px;"\x3e\r\n\x3coption value\x3d"All"\x3e ${nls.allSessions}\x3c/option\x3e\r\n      \x3c/select\x3e\r\n    \x3c/div\x3e\r\n     \r\n      \x3cdiv class\x3d"chart-tab-node" data-dojo-attach-point\x3d"resultsTabNode"\x3e\r\n         \x3cdiv class\x3d"results-section" data-dojo-attach-point\x3d"resultsSection" style\x3d"display:none;"\x3e\r\n            \x3cdiv class\x3d"results-header"\x3e\r\n               \x3cdiv class\x3d"sectionHeading trimContent" style\x3d"border:none !important;width:80%;" data-dojo-attach-point\x3d"chartTitle"\x3e\x3c/div\x3e\r\n               \x3cdiv style\x3d"margin-top: -26px;width: 77px;float: right; display:none;" data-dojo-attach-point\x3d"backButtonContainer" \x3e\r\n                \x3c/div\x3e\r\n               \x3cdiv class\x3d"paging-section" style\x3d"margin-top:-30px"\x3e\r\n                  \x3cul data-dojo-attach-point\x3d"pagingUl"\x3e\x3c/ul\x3e\r\n               \x3c/div\x3e\r\n            \x3cdiv class\x3d"paging-section jimu-trailing-margin4 otherBackButton" style\x3d"margin-top:-26px"\x3e\r\n            \x3cinput type\x3d"Button" value\x3d"${nls.backButton}" text\x3d"${nls.backButton}" style\x3d"width:37px;" data-dojo-attach-point\x3d"backButton"/\x3e\x3c/div\x3e\r\n            \x3c/div\x3e \r\n            \x3cdiv class\x3d"chart-section"\x3e\r\n               \r\n              \r\n                \x3cdiv id\x3d\'mainChartContainer\' class\x3d"mainChartContainer"\x3e\r\n                  \x3ctable\x3e\r\n                    \x3ctr\x3e\r\n                    \r\n                    \x3c/tr\x3e\r\n                    \x3ctr style\x3d"border 1px solid;"\x3e\r\n                      \x3ctd style\x3d"width:320px !important; height:235px;"\x3e\x3cdiv class\x3d"chart-section-item chart-container" data-dojo-attach-point\x3d"chartContainer"\x3e\x3c/td\x3e\r\n                    \x3c/tr\x3e\r\n                  \x3c/table\x3e\r\n                \x3c/div\x3e\r\n               \x3c/div\x3e\r\n               \r\n            \x3c/div\x3e\r\n      \x3c/div\x3e\r\n   \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/ReviewerDashboard/css/style.css":'.drs-widget-dashboard{position: relative; width:100%; height:100%; min-width:270px; min-height:330px;}.drs-widget-dashboard .chart-content{position: relative; width:100%; height:100%;}.drs-widget-dashboard .chart-tab-node{position: absolute !important; width: 100% !important; height: auto !important; top:0 !important; bottom: 0 !important;}.drs-widget-dashboard\x3e.jimu-tab\x3e.control{margin:-14px -14px 0 -14px;}.drs-widget-dashboard\x3e.jimu-tab\x3e.jimu-viewstack{position: absolute !important; top: 45px !important; left: 0 !important; right: 0 !important; bottom: 0 !important; height: auto !important; margin-bottom:-14px;}.drs-widget-dashboard .results-section{width:100%;}.drs-widget-dashboard .noresults-section{width:100%;}.drs-widget-dashboard .results-header{width:100%; height:30px;}.drs-widget-dashboard .chart-title{float:left; height:100%;}.drs-widget-dashboard .paging-section ul{margin:0; padding:0; height:100%; list-style:none;}.drs-widget-dashboard .paging-section ul li{float:left; height:100%;}.drs-widget-dashboard .paging-section ul li a{display: block; width:5px; height:100%; padding:0 5px; margin-left:10px; background-repeat: no-repeat; background-position: center center; background-image:url(../images/dot1.png); cursor:pointer;}.drs-widget-dashboard .paging-section ul li a:hover,.drs-widget-dashboard .paging-section ul li.selected a{background-image:url(../images/dot2.png);}.drs-widget-dashboard .chart-section{position:relative; width:100%; height:280px;}.drs-widget-dashboard .chart-section .chart-section-item{position:absolute; height:100%; top:0;}.drs-widget-dashboard .TabTheme .jimu-tab\x3e.control\x3e.tab.jimu-state-selected{border-top: 0;}.drs-widget-dashboard input[type\x3d"radio"] {margin-right: 10; margin-bottom: 20; margin-left: 20;}#filterContainer ul{margin: 0;padding: 0;list-style-type: none;}#filterContainer li {margin: 0 0 .2em 0; border-bottom: 1px solid #eef2f5; font-size: 13px;}#filterContainer a{display: block; padding: 2px 4px; margin: -1px 0 0 0px; width: 100%; height: 100%; text-decoration: none; color: #7989a0;}#filterContainer a:hover {width: 100%; height: 100%;}#filterContainer li a.current {background-color: #d3d3d3; padding: 2px 4px; margin: -1px 0 0 0px; width: 100%; height: 100%;}#filterContainer li a.current:hover {}#filterContainer li.selected a:active {background: #e2f6ff !important;}.drs-widget-dashboard .spatialFilterLabel{margin: 6px 4px;}.drs-widget-dashboard .sectionHeading{margin: 5px 0px; font-weight: bold; color: #82878B; border-bottom:1px solid #D4E5F7;}.drs-widget-dashboard .radioButtonLabel{margin:6px 5px !important;}.drs-widget-dashboard body {font: 12px Myriad,Helvetica,Tahoma,Arial,clean,sans-serif;}.drs-widget-dashboard .chart-section {margin-top: -11px;}.drs-widget-dashboard .mainChartContainer{direction: ltr;}.drs-widget-dashboard .chart-section .chart-container {margin: 0 auto; width: 78%;}.drs-widget-dashboard .paging-section {float: right; height: 100%;}[dir\x3drtl] .drs-widget-dashboard .paging-section {float: left; height: 100%;}.drs-widget-dashboard .trimContent {overflow: hidden; white-space: nowrap; -o-text-overflow: ellipsis; -ms-text-overflow: ellipsis; text-overflow: ellipsis; display: block; width: inherit;}',
"*now":function(x){x(['dojo/i18n!*preload*widgets/ReviewerDashboard/nls/Widget*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/on dojo/query dojo/_base/lang dojo/_base/array dojo/_base/html dijit/_WidgetsInTemplateMixin jimu/BaseWidget esri/tasks/datareviewer/DashboardTask esri/tasks/datareviewer/ReviewerFilters ./ReviewerMapHelper esri/tasks/datareviewer/ReviewerResultsTask esri/tasks/datareviewer/DashboardResult esri/tasks/datareviewer/ReviewerLifecycle jimu/dijit/TabContainer esri/graphic esri/layers/ArcGISDynamicMapServiceLayer esri/tasks/GeometryService esri/symbols/SimpleFillSymbol esri/tasks/query esri/tasks/QueryTask esri/geometry/Extent esri/layers/FeatureLayer esri/geometry/Polygon esri/toolbars/draw dojo/dom dojox/charting/Chart dojox/charting/plot2d/Bars dojox/charting/plot2d/Pie dojox/charting/SimpleTheme dojox/charting/action2d/Tooltip dojox/charting/action2d/MoveSlice dojo/dom-class dijit/Dialog dojox/charting/axis2d/Default dijit/form/RadioButton dijit/form/Select".split(" "),function(x,
B,q,u,r,a,g,e,b,d,f,l,c,k,h,m,t,n,p,v,A,D,I,M,N,K,T,W,z,y,F,J,H,E){return x([e,g],{baseClass:"drs-widget-dashboard",name:"Dashboard",charts:null,currentChartIndex:0,dashboardTask:null,reviewerHelper:null,reviewerPointLayer:null,reviewerLineLayer:null,reviewerPolygonLayer:null,spatialFilterLayer:null,reviewerResultsTask:null,useCurrentMapExtent:!1,useSpatialFilter:!1,mapSpatialFilter:null,esriQuery:null,queryTask:null,toolbar:null,otherCategoryChartColors:null,mapClickEvent:null,tabContainer:null,
isClosed:!1,otherDashboardResult:null,dashboardResult:null,layerDrawingOptions:null,selectedFieldName:null,selectedFieldAlias:null,layerUrl:null,chartPageLevel:0,postCreate:function(){this.inherited(arguments);this.charts=[];this.otherDashboardResult=[];u.hitch(this,this._initResultsTab());this._createCharts=u.hitch(this,this._createCharts);this.dashboardTask=new b(this.config.drsSOEURL);this.reviewerResultsTask=new l(this.config.drsSOEURL);this.reviewerHelper=new f(this.config.drsSOEURL,null,null,
null,null);this.dashboardTask.getReviewerSessions().then(u.hitch(this,function(w){r.forEach(w.reviewerSessions,u.hitch(this,function(C){this.sessionNameSelect.addOption({value:C.sessionId,label:C.toString()})}));this._displayResult(null,!0)}),u.hitch(this,function(w){this._showDialog("Error",w.message)}));this.own(B(this.sessionNameSelect,"change",u.hitch(this,function(){this.chartPageLevel=0;this.showHideBackButton(!1);if(this.useCurrentMapExtent){var w=this._getMapExtent();u.hitch(this,this._displayResult(w))}else u.hitch(this,
this._displayResult(this.mapSpatialFilter,!0))})));this.own(B(this.currentMapExtent,"click",u.hitch(this,function(){u.hitch(this,this.setSpatialFilters("currentMapExtentLink","spatialFilterLink","clearSpatialFilterLink","censusBlockLink"));this.useSpatialFilter=!1;this.queryTask=null;this.useCurrentMapExtent=!0;var w=this._getMapExtent();u.hitch(this,this._displayResult(w))})));this.own(B(this.clearSpatialFilter,"click",u.hitch(this,function(){u.hitch(this,this.setSpatialFilters("clearSpatialFilterLink",
"spatialFilterLink","currentMapExtentLink","censusBlockLink"));this.useSpatialFilter=this.useCurrentMapExtent=!1;H.remove("spatialFilterLink","current");this.queryTask=null;u.hitch(this,this._displayResult())})));this.own(B(this.drawSpatialFilter,"click",u.hitch(this,function(){u.hitch(this,this.setSpatialFilters("spatialFilterLink","clearSpatialFilterLink","currentMapExtentLink","censusBlockLink"));this.map.graphics.clear();this.useCurrentMapExtent=!1;this.queryTask=null;this.useSpatialFilter=!0;
this._initDraw()})));this.own(B(this.censusBlockGroup,"click",u.hitch(this,function(){u.hitch(this,this.setSpatialFilters("censusBlockLink","clearSpatialFilterLink","currentMapExtentLink","spatialFilterLink"));this.useSpatialFilter=this.useCurrentMapExtent=!1;this.mapSpatialFilter=null;this.queryTask=new A(this.config.selectUrl);this.mapClickEvent=this.map.on("click",u.hitch(this,this._executeQuery))})));this.own(B(this.map,"extent-change",u.hitch(this,function(){if(!0===this.useCurrentMapExtent){var w=
this._getMapExtent();u.hitch(this,this._displayResult(w))}})));this.own(B(this.backButton,"click",u.hitch(this,function(){if(null!==this.dashboardResult){--this.chartPageLevel;0===this.chartPageLevel&&this.showHideBackButton(!1);var w=this._createDrilledChartData();this._createCharts(w,this.layerDrawingOptions,this.selectedFieldName)}})))},setSpatialFilters:function(w,C,G,P){null!==this.mapClickEvent&&this.mapClickEvent.remove();this._clear();this.showHideBackButton(!1);H.add(w,"current");H.remove(C,
"current");H.remove(G,"current");H.remove(P,"current")},startup:function(){this.inherited(arguments);this.tabContainer=new h({tabs:[{title:this.nls.dashboardTab,content:this.resultsTabNode},{title:this.nls.filtersTab,content:this.selectTabNode}],selected:this.nls.dashboardTab},this.content);this.tabContainer.startup();var w=this.getDashboardFieldNames();this._createRadioButtons(w);"false"===this.config.includeGeographicFilter&&(w=q(".dynamicRow",this.spatialFilterList),void 0!==w&&null!==w&&0<w.length&&
(w[0].style.display="none"))},onOpen:function(){null!==this.mapClickEvent&&this.mapClickEvent.remove();this.queryTask=null;this.showHideBackButton(!1);this.useSpatialFilter=this.useCurrentMapExtent=!1;H.add("clearSpatialFilterLink","current");H.remove("currentMapExtentLink","current");H.remove("spatialFilterLink","current");H.remove("censusBlockLink","current");this.sessionNameSelect.set("value","All");this._displaySpatialLayer();!0===this.isClosed&&this._displayResult(null,!0)},getDashboardFieldNames:function(){var w=
this.config.dashboardFieldNames,C=[];0<w.length&&r.forEach(w,function(G){G.isVisible&&C.push({fieldName:G.dashboardFieldName,alias:G.alias})});return C},_displaySpatialLayer:function(){this.layerUrl=this.dashboardTask.getReviewerMapServerUrl();this.spatialFilterLayer=t(this.config.selectMapUrl);this.map.addLayer(this.spatialFilterLayer);var w=[],C=this.config.selectUrl;w.push(C.substring(C.lastIndexOf("/")+1,C.length));this.spatialFilterLayer.setVisibleLayers(w)},_createRadioButtons:function(w){for(var C=
r.filter(this.config.dashboardFieldNames,function(L){return!0===L.isDefault}),G=0;G<w.length;G++){var P="\x3cli\x3e\x3clabel for\x3d'"+w[G].fieldName+"Radio'\x3e\x3ca href\x3d'#' id\x3d'"+w[G].fieldName+"'\x3e\x3cinput type\x3d'radio' name\x3d'fieldNamesRadio' value\x3d'"+w[G].fieldName+"'";C[0].dashboardFieldName.toLowerCase()===w[G].fieldName.toLowerCase()&&(P+=" checked\x3d'checked'");P+="data-dojo-type\x3d'dijit/form/RadioButton' id\x3d'"+w[G].fieldName+"Radio' class\x3d'radioButtonLabel' innerText\x3d'"+
w[G].alias+"'/\x3e";P+=w[G].alias+"\x3c/label\x3e\x3c/a\x3e\x3c/li\x3e";P=a.toDom(P);a.place(P,this.filterList);B(K.byId(w[G].fieldName+"Radio"),"change",u.hitch(this,this._radioChange));B(K.byId(w[G].fieldName),"click",u.hitch(this,this._fieldNameClick))}},_fieldNameClick:function(w){w=K.byId(w.target.id+"Radio");void 0!==w&&null!==w&&(w.checked=!0,this._radioChange())},_radioChange:function(){this.chartPageLevel=0;this.showHideBackButton(!1);if(this.useCurrentMapExtent)var w=this._getMapExtent();
else!1===this.useCurrentMapExtent&&(w=this.mapSpatialFilter);u.hitch(this,this._displayResult(w,!0))},_initResultsTab:function(){this.own(B(this.pagingUl,"click",u.hitch(this,function(w){w=w.target||w.srcElement;if("a"===w.tagName.toLowerCase()){var C=q("a",this.pagingUl);w=r.indexOf(C,w);0<=w&&(this.currentChartIndex=w,this._showChart(w))}})))},_initDraw:function(){this.toolbar=new N(this.map);this.toolbar.activate(N.POLYGON);this.toolbar.on("draw-end",u.hitch(this,function(w){this._clear();var C=
new p;C=new m(w.geometry,C);this.map.graphics.add(C);this.mapSpatialFilter=w.geometry;this._displayResult(this.mapSpatialFilter)}))},_executeQuery:function(w){var C=new v;C.returnGeometry=!0;w=w.mapPoint;w=new D({xmin:w.x,ymin:w.y,xmax:w.x,ymax:w.y,spatialReference:w.spatialReference});C.geometry=w;this.queryTask.execute(C,u.hitch(this,this._handleQueryResults))},_handleQueryResults:function(w){var C=[];w=w.features;var G=new n(this.config.geometryServiceURL),P=this.map.graphics.graphics;r.forEach(w,
u.hitch(this,function(L){L.setSymbol(new p);if(0===P.length)this.map.graphics.add(L);else{var O=!1;r.forEach(P,u.hitch(this,function(V){var R=L.geometry.getExtent().getCenter().x;V.geometry.getExtent().getCenter().x===R&&(O=!0,L=V)}));O?this.map.graphics.remove(L):this.map.graphics.add(L)}}));P=this.map.graphics;r.forEach(P.graphics,u.hitch(this,function(L){C.push(L.geometry)}));1<C.length?G.union(C,u.hitch(this,function(L){this.mapSpatialFilter=L;this._updateChart(L)}),u.hitch(this,function(L){this._showDialog("Error",
L.message)})):(this.mapSpatialFilter=C[0],this._updateChart(C[0]))},_getMapExtent:function(){var w=this.map.extent,C=new M(w.spatialReference),G=w.xmin,P=w.xmax,L=w.ymin;w=w.ymax;C.addRing([[G,L],[G,w],[P,w],[P,L],[G,L]]);return C},_displayResult:function(w,C){a.setStyle(this.resultsSection,"display","block");this.tabContainer.selectTab(this.nls.dashboardTab);var G="",P;q('[name\x3d"fieldNamesRadio"]').forEach(u.hitch(this,function(V){V.checked&&(G=V.value,P=V.getAttribute("innerText"))}));if(""!==
G){this.selectedFieldName=G;this.selectedFieldAlias=P;var L=this.sessionNameSelect.get("value"),O=new d;"All"!==L&&O.addAttributeFilter("SESSIONID",parseInt(L,10));(1<=O.getCount()?this.dashboardTask.getDashboardResults(G.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?this.nls.statusFieldName:G,O):this.dashboardTask.getDashboardResults(G.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?this.nls.statusFieldName:G)).then(u.hitch(this,function(V){G.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?
this.dashboardResult=this.getLifecyclePhaseresult(V.dashboardResult):this.dashboardResult=V.dashboardResult;this.reviewerHelper.getLayerDrawingOptions(this.dashboardResult,null,null).then(u.hitch(this,function(R){var ca=this.dashboardResult;0<ca.fieldValues.length?(w&&C?this._updateChart(w,R.layerDrawingOptions):!w||null!==C&&void 0!==C?void 0===w&&void 0===C?this._updateChart(null,this.layerDrawingOptions):(this.layerDrawingOptions=R.layerDrawingOptions,this._createCharts(ca,R.layerDrawingOptions,
G)):this._updateChart(w,this.layerDrawingOptions),C&&(null===ca||null===ca.filters||0===ca.filters.getCount()?(this._applyUniqueValueRenderer(R.layerDrawingOptions.layerDrawingOptionsArray),this.layerDrawingOptions=R.layerDrawingOptions):this.reviewerResultsTask.getLayerDefinition(ca.filters).then(u.hitch(this,function(ja){this._applyUniqueValueRenderer(R.layerDrawingOptions.layerDrawingOptionsArray,ja.whereClause);this.layerDrawingOptions=R.layerDrawingOptions}),u.hitch(this,function(ja){this._showDialog("Error",
ja.message)})))):(this._clearCharts(),this.chartTitle.innerHTML=this.nls.noResults)}),u.hitch(this,function(R){this._showDialog("Error",R.message)}))}),u.hitch(this,function(V){this._showDialog("Error",V.message)}))}},_applyUniqueValueRenderer:function(w,C){for(var G=this.map.graphicsLayerIds,P=[],L=0;L<G.length;L++){var O=this.map.graphicsLayerIds[L];"reviewerPointLayer"!==O&&"reviewerLineLayer"!==O&&"reviewerPolygonLayer"!==O||P.push(this.map.getLayer(O))}for(L=0;L<P.length;L++)this.map.removeLayer(P[L]);
this.reviewerPointLayer=new I(this.layerUrl+"/0",{id:"reviewerPointLayer",mode:I.MODE_ONDEMAND,outFields:["*"]});this.reviewerLineLayer=new I(this.layerUrl+"/1",{id:"reviewerLineLayer",mode:I.MODE_ONDEMAND,outFields:["*"]});this.reviewerPolygonLayer=new I(this.layerUrl+"/2",{id:"reviewerPolygonLayer",mode:I.MODE_ONDEMAND,outFields:["*"]});"undefined"!==w&&3===w.length&&(this.reviewerPointLayer.setRenderer(w[0].renderer),this.reviewerLineLayer.setRenderer(w[1].renderer),this.reviewerPolygonLayer.setRenderer(w[2].renderer));
C&&(this.reviewerPointLayer.setDefinitionExpression(C),this.reviewerLineLayer.setDefinitionExpression(C),this.reviewerPolygonLayer.setDefinitionExpression(C));this.map.addLayer(this.reviewerPointLayer);this.map.addLayer(this.reviewerLineLayer);this.map.addLayer(this.reviewerPolygonLayer)},_updateChart:function(w,C){a.setStyle(this.resultsSection,"display","block");this.tabContainer.selectTab(this.nls.dashboardTab);var G=new d,P=this.sessionNameSelect.get("value");"All"!==P&&G.addAttributeFilter("SESSIONID",
parseInt(P,10));w&&G.addSpatialFilter(w);(1<=G.getCount()?this.dashboardTask.getDashboardResults(this.selectedFieldName.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?this.nls.statusFieldName:this.selectedFieldName,G):this.dashboardTask.getDashboardResults(this.selectedFieldName.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?this.nls.statusFieldName:this.selectedFieldName)).then(u.hitch(this,function(L){this.selectedFieldName.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?this.dashboardResult=
this.getLifecyclePhaseresult(L.dashboardResult):this.dashboardResult=L.dashboardResult;0<this.dashboardResult.fieldValues.length?C?(this.layerDrawingOptions=C,this._createCharts(this.dashboardResult,C,this.selectedFieldName)):this._createCharts(this.dashboardResult,this.layerDrawingOptions,this.selectedFieldName):(this._clearCharts(),this.chartTitle.innerHTML=this.nls.noResults)}),u.hitch(this,function(L){this._showDialog("Error",L.message)}))},_createCharts:function(w,C,G){this._clearCharts(G);var P=
[],L,O;var V=this._createOtherCategory(w);r.forEach(V.fieldValues,u.hitch(this,function(ia){L=V.fieldName.toLowerCase()===this.nls.statusFieldName.toLowerCase()&&ia!==this.nls.OtherCategory?k.toLifecycleStatusString(ia):V.fieldName.toLowerCase()===this.nls.phaseFieldName.toLowerCase()?k.toLifecyclePhaseString(parseInt(ia,10)):ia;C.colorMap&&L!==this.nls.OtherCategory&&(O=C.colorMap[ia].toHex());L===this.nls.OtherCategory&&(O="#000000");P.push({text:V.getCount(ia),y:V.getCount(ia),name:ia.toString(),
tooltip:L+": "+V.getCount(ia),color:O})}));var R={chartField:w.fieldName,description:"",title:G,type:"pieChart"},ca=a.create("div",{"class":"chart-div",id:"pieChart",style:{width:"280px",height:"210px;"}},this.chartContainer),ja=this._createPieChart(ca,R,P);ja.media=R;this.charts.push(ja);a.setStyle(ca,"display","none");R=a.create("div",{"class":"chart-div",style:{width:"320px",height:"210px;"}},this.chartContainer);w={chartField:w.fieldName,description:"",title:G,type:"barsChart"};G=this._creatBarsChart(R,
P);G.media=w;this.charts.push(G);a.setStyle(R,"display","none");w=this.charts.length;for(G=0;G<w;G++)R=a.toDom("\x3cli\x3e\x3ca title\x3d'"+this.charts[G].media.type+"'\x3e\x3c/a\x3e\x3c/li\x3e"),a.place(R,this.pagingUl);this._showChart(this.currentChartIndex)},_showChart:function(w){this.chartTitle.innerHTML="";var C=q(".chart-div",this.chartContainer);C.style({display:"none"});var G=q("li",this.pagingUl);G.removeClass("selected");if(!(0>w)){if(C=C[w])this.currentChartIndex=w,a.setStyle(C,{display:"block"});
this.chartTitle.innerHTML=this.nls.resultsBy+this.selectedFieldAlias;this.chartTitle.title=this.nls.resultsBy+this.selectedFieldAlias;(w=G[w])&&a.addClass(w,"selected")}},_creatBarsChart:function(w,C){w=new T(w);var G=[];r.forEach(C,function(L){G.push(L.name)});w.addPlot("default",{type:W,enableCache:!0,markers:!0,minBarSize:1,maxBarSize:15,label:!1});w.addAxis("x",{fixLower:"minor",fixUpper:"minor",natural:!0,includeZero:!0});w.addAxis("y",{vertical:!0,includeZero:!0,fixLower:"minor",fixUpper:"micro",
natural:!0,labels:r.map(G,function(L,O){return{value:O+1,text:L}}),maxLabelSize:40});var P=new y;P.plotarea.fill="transparent";P.chart.fill="transparent";w.setTheme(P);w.addSeries("default",C,{stroke:{color:"#FFFFFF"},fill:"#1f77b4"});new F(w,"default");w.connectToPlot("default",u.hitch(this,function(L){"onclick"===L.type&&L.run.chart.series[0].data[L.index].name===this.nls.OtherCategory&&(this.chartPageLevel+=1,this._createCharts(this.otherDashboardResult,this.layerDrawingOptions,this.selectedFieldName),
this.showHideBackButton(!0))}));w.render();return w},_createPieChart:function(w,C,G){w=new T(w);w.addPlot("default",{type:z,stroke:{color:"white"},radius:80,min:10,labelStyle:"default",htmlLabels:!0,majorLabels:!0,labelOffset:-15});var P=new y;P.plotarea.fill="transparent";P.chart.fill="transparent";w.setTheme(P);w.addSeries(C.title,G);new F(w,"default");new J(w,"default");w.render();w.connectToPlot("default",u.hitch(this,function(L){"onclick"===L.type&&L.run.chart.series[0].data[L.index].name===
this.nls.OtherCategory&&(this.chartPageLevel+=1,this._createCharts(this.otherDashboardResult,this.layerDrawingOptions,this.selectedFieldName),this.showHideBackButton(!0))}));return w},getLifecyclePhaseresult:function(w){var C=new c;C.fieldName=this.nls.phaseFieldName;var G=-1,P=-1,L=-1;r.forEach(w.fieldValues,u.hitch(this,function(R,ca){R=k.getCurrentLifecyclePhase(parseInt(R,10));R===this.nls.reviewed?(-1===G&&(G=C.fieldValues.push(2)-1),C.counts.length>G?C.counts[G]+=w.counts[ca]:G=C.counts.push(w.counts[ca])-
1):R===this.nls.corrected?(-1===P&&(P=C.fieldValues.push(4)-1),C.counts.length>P?C.counts[P]+=w.counts[ca]:P=C.counts.push(w.counts[ca])-1):R===this.nls.verified&&(-1===L&&(L=C.fieldValues.push(6)-1),C.counts.length>L?C.counts[L]+=w.counts[ca]:L=C.counts.push(w.counts[ca])-1)}));var O=this.sessionNameSelect.get("value"),V=new d;"All"!==O&&V.addAttributeFilter("SESSIONID",parseInt(O,10));C.filters=V;return C},_createOtherCategory:function(w){var C={},G=0,P=[],L=[],O=new c;this.otherDashboardResult=
new c;this.otherDashboardResult.fieldName=w.fieldName;if(w.fieldValues.length>this.config.numberChartSections){r.forEach(w.fieldValues,u.hitch(this,function(ca,ja){C[w.fieldValues[ja]]=w.getCount(ca)}));var V=[],R;for(R in C)V.push([R,C[R]]);V.sort(function(ca,ja){return ja[1]-ca[1]});for(R=0;R<V.length;R++)R<this.config.numberChartSections?(O.fieldValues.push(V[R][0]),O.counts.push(V[R][1])):(G+=V[R][1],P.push(V[R][0]),L.push(V[R][1]),this.otherDashboardResult.fieldValues.push(V[R][0]),this.otherDashboardResult.counts.push(V[R][1]));
O.fieldValues.push(this.nls.OtherCategory);O.counts.push(G);O.fieldName=w.fieldName;return O}return w},_createDrilledChartData:function(){var w=new c,C={},G;r.forEach(this.dashboardResult.fieldValues,u.hitch(this,function(O,V){C[this.dashboardResult.fieldValues[V]]=this.dashboardResult.getCount(O)}));var P=[],L;for(L in C)P.push([L,C[L]]);P.sort(function(O,V){return V[1]-O[1]});0===this.chartPageLevel?w=this.dashboardResult:G=this.chartPageLevel*this.config.numberChartSections;for(G=parseInt(G,10);G<
P.length;G++)w.fieldValues.push(P[G][0]),w.counts.push(P[G][1]);return w},showHideBackButton:function(w){var C=q(".otherBackButton",this.resultsTabNode);w?C.style({display:"block"}):C.style({display:"none"})},_showDialog:function(w,C){w=new E({title:w,style:"width: 200px"});w.set("content",C);w.show()},_clearCharts:function(){this.chartTitle.innerHTML="";q(".chart-div",this.chartContainer).style({display:"none"});q("li",this.pagingUl).removeClass("selected");for(var w=0;w<this.charts.length;w++){var C=
this.charts[w];C&&C.destroy()}this.charts=[];a.empty(this.pagingUl);a.empty(this.chartContainer);a.setStyle(this.resultsSection,"display","block")},_clear:function(){null!==this.toolbar&&this.toolbar.deactivate();this.mapSpatialFilter=null;this.map.graphics.clear()},onClose:function(){for(var w=this.map.graphicsLayerIds,C=[],G=0;G<w.length;G++){var P=this.map.graphicsLayerIds[G];"reviewerPointLayer"!==P&&"reviewerLineLayer"!==P&&"reviewerPolygonLayer"!==P||C.push(this.map.getLayer(P))}for(G=0;G<C.length;G++)this.map.removeLayer(C[G]);
this._clear();this._clearCharts();this.map.removeLayer(this.spatialFilterLayer);this.isClosed=!0}})});