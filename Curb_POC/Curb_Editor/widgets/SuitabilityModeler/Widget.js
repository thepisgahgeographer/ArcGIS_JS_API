// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/SuitabilityModeler/WroContext":function(){define(["dojo/_base/declare","./wro/Context","jimu/dijit/Message"],function(a,y,p){return a([y],{showError:function(q,m){m&&m.message?this.showMessage(q,m.message):this.showMessage(q,m)},showMessage:function(q,m){new p({titleLabel:q,message:m})},showMessages:function(q,m,w){var z=document.createElement("div");if("string"===typeof m&&0<m.length){var r=document.createElement("p");r.appendChild(document.createTextNode(m));z.appendChild(r)}r=
document.createElement("ul");z.appendChild(r);for(m=0;m<w.length;m++){var u=document.createElement("li");u.appendChild(document.createTextNode(w[m]));r.appendChild(u)}new p({titleLabel:q,message:z})}})})},"widgets/SuitabilityModeler/wro/Context":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(a,y){return a([],{allowSaveAs:!0,i18n:null,constructor:function(p){y.mixin(this,p)},checkMixedContent:function(p){"string"===typeof window.location.href&&0===window.location.href.indexOf("https://")&&
"string"===typeof p&&0===p.indexOf("http://")&&(p="https:"+p.substring("5"));return p},generateRandomId:function(){var p=null;p="function"===typeof Date.now?Date.now():(new Date).getTime();var q=(""+Math.random()).replace("0.","r");return(p+""+q).replace(/-/g,"")},getMap:function(){return null},showError:function(p,q){console.warn("wro/Context.showError",p,q)},showMessage:function(p,q){console.warn("wro/Context.showMessage",p,q)},showMessages:function(p,q,m){console.warn("wro/Context.showMessages",
p,q,m)}})})},"widgets/SuitabilityModeler/wro/PortalUtil":function(){define(["dojo/_base/declare","dojo/_base/lang","esri/request"],function(a,y,p){return a([],{portal:!0,portalUser:null,userContentUrl:null,constructor:function(q){y.mixin(this,q)},getItemUrl:function(q){return this.portal.portalUrl+"/sharing/rest/content/items/"+encodeURIComponent(q)},getSaveItemUrl:function(q,m,w){w=this.getUserContentUrl(w);q?(m&&(w+="/"+encodeURIComponent(m)),w+="/items/"+encodeURIComponent(q)+"/update"):(m&&(w+=
"/"+encodeURIComponent(m)),w+="/addItem");return w},getUserContentUrl:function(){return this.userContentUrl},makeMultiPartFormData:function(q){var m,w=new FormData;for(m in q)if(q.hasOwnProperty(m)){var z=q[m];"snippet"!==m&&"description"!==m&&"text"!==m||null!==z||(z="");w.append(m,z)}return w},saveItem:function(q,m,w,z){q=this.getSaveItemUrl(q,w,z);m.f="json";m=this.makeMultiPartFormData(m);return p({url:q,form:m,handleAs:"json"},{usePost:!0})},readItem:function(q){q=this.getItemUrl(q);return p({url:q,
content:{f:"json"},handleAs:"json"},{})},readItemJsonData:function(q){q=this.getItemUrl(q)+"/data";return p({url:q,content:{f:"json"},handleAs:"json"},{})}})})},"widgets/SuitabilityModeler/wro/WeightedOverlayWidget":function(){define("dojo/text!./templates/WeightedOverlayWidget.html dojo/_base/declare dojo/_base/array dojo/dom-class dojo/dom-attr dojo/Deferred dojo/aspect dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./config ./WeightedOverlayService ./WeightedOverlayLayersSelector ./WeightedOverlayModelDesigner".split(" "),
function(a,y,p,q,m,w,z,r,u,v,B,t,C,A){var d=function(c,e){c&&(e?(c.setAttribute("disabled","disabled"),q.add(c,"jimu-state-disabled")):(c.removeAttribute("disabled"),q.remove(c,"jimu-state-disabled")))};return y([r,u,v],{chart:null,context:null,i18n:null,templateString:a,baseClass:"weighted-overlay-widget",widgetsInTemplate:!0,isRTL:!1,_tabsContainer:null,_layersTab:null,_modelTab:null,_chartTab:null,postCreate:function(){this.inherited(arguments);var c=this,e=B.getOptions(this.i18n);this.isRTL="ltr"===
document.dir?!1:!0;this.weightedOverlayService=new t(null,e);this.weightedOverlayService.context=this.context;this.weightedOverlayService.i18n=this.i18n;this.selectLayersView=new C({context:this.context,i18n:this.i18n,parent:this},this.selectLayersView);this.designModelView=new A({context:this.context,i18n:this.i18n,parent:this},this.designModelView);this.own(this.selectLayersView.on("selection-changed",function(){c._updateDesignModelButton(c.weightedOverlayModel)}),this.designModelView.on("model-validated",
function(h){h?(d(c.runModelButton,!1),d(c.saveAsButton,!1)):(d(c.runModelButton,!0),d(c.saveAsButton,!0))}));this.context.allowSaveAs||(this.saveAsButton.style.display="none");this.setupConnections()},initializeTabs:function(c){var e=this,h=this._layersTab={title:this.i18n.tabs.layers,content:this.selectLayersViewNode},l=this._modelTab={title:this.i18n.tabs.model,content:this.designModelViewNode},k=this._chartTab={title:this.i18n.tabs.chart,content:this.chartViewNode};this._tabsContainer=new c({tabs:[h,
l,k]},this.tabsNode);this._tabsContainer.startup();this.own(z.after(this._tabsContainer,"selectTab",function(n){n===h.title?(e._activeTab="layers",e.showSelectOverlayLayersView()):n===l.title?(e._activeTab="model",e.showDesignModelView()):n===k.title&&(e._activeTab="chart",e.showChartView())},!0))},onClose:function(){this.selectLayersView&&this.selectLayersView.hidePreviewLayer();this.chart&&this.chart.deactivate()},onOpen:function(){this.chart&&"chart"===this._activeTab&&this.chart.activate()},_setImageServiceLayerAttr:function(c){var e=
this;this.imageServiceLayer=c;this.weightedOverlayService.imageServiceLayer=this.imageServiceLayer;this._initModel();this.imageServiceLayer&&this.imageServiceLayer.url&&this.weightedOverlayService.initRasterLayers().then(function(){e._rasterLayersInitialized()})},_rasterLayersInitialized:function(){p.forEach(this.weightedOverlayModel.overlayLayers,function(c){var e=this.weightedOverlayService.getRasterLayer(c.id);this.weightedOverlayService.setOverlayLayerDefaults(c,e)},this);this.selectLayersView.set("model",
this.weightedOverlayModel);this.selectLayersView.set("weightedOverlayService",this.weightedOverlayService);this.selectLayersView.startup();this.designModelView.set("weightedOverlayService",this.weightedOverlayService);this.designModelView.set("model",this.weightedOverlayModel);this.designModelView.startup();this.weightedOverlayModel.overlayLayers&&0<this.weightedOverlayModel.overlayLayers.length?this._onShowModelClicked():this._onShowLayersClicked()},_initModel:function(){this.weightedOverlayModel=
this.imageServiceLayer&&this.imageServiceLayer.renderingRule?this.weightedOverlayService.imageServiceLayerToModel({renderingRule:this.imageServiceLayer.renderingRule.toJson()}):this.weightedOverlayService.createNewModel()},setupConnections:function(){var c=this;this.own(this.designModelView.on("model-clear",function(e){c.set("weightedOverlayModel",e);c.selectLayersView.set("model",e)}));this.own(this.designModelView.on("model-validated",function(e){e?(m.remove(c.runModelButton,"disabled"),m.remove(c.saveAsButton,
"disabled")):(m.set(c.runModelButton,"disabled","disabled"),m.set(c.saveAsButton,"disabled","disabled"))}))},showHideTransparencySlider:function(){if(this.selectLayersView&&this.selectLayersView.previewSlider){var c=this.transparentSliderToggle.getElementsByTagName("SPAN")[0];c&&(this.isTransparencySliderShow?(q.remove(this.selectLayersViewNode,"transparency-slider-show"),q.replace(c,"esri-icon-down","esri-icon-up")):(q.add(this.selectLayersViewNode,"transparency-slider-show"),q.replace(c,"esri-icon-up",
"esri-icon-down")),this.isTransparencySliderShow=!this.isTransparencySliderShow)}},showSelectOverlayLayersView:function(c){c&&c.preventDefault();this.chart&&this.chart.deactivate();c=this.isRTL?"right":"left";this.selectLayersView.set("model",this.weightedOverlayModel);this.designModelViewNode.style[c]="100%";this.selectLayersViewNode.style[c]="0%";this._updateDesignModelButton(this.weightedOverlayModel)},showDesignModelView:function(){var c=this.isRTL?"right":"left";this.selectLayersView.hidePreviewLayer();
this.chart&&this.chart.deactivate();this.designModelView.set("model",this.weightedOverlayModel);this.designModelViewNode.style[c]="0%";this.selectLayersViewNode.style[c]="-100%"},showChartView:function(){this.selectLayersView.hidePreviewLayer();this.chart&&this.chart.activate()},showSavePanel:function(){var c=this.savePanelNode;c.style.display="block";q.add(c,"show-panel-animated");setTimeout(function(){q.remove(c,"show-panel-animated")},400)},hideSavePanel:function(){var c=this.savePanelNode,e=new w;
setTimeout(function(){c.style.display="none";q.remove(c,"hide-panel-animated");e.resolve(!0)},400);q.add(c,"hide-panel-animated");return e},_onClearClick:function(c){this.clear();this._onShowLayersClicked(c)},_onRunClick:function(){this.imageServiceLayer&&this.imageServiceLayer.xtnModeler&&(this.imageServiceLayer.xtnModeler.forSaveAs=!1);this.designModelView&&this.designModelView.runModel()},_onSaveAsClick:function(){this.imageServiceLayer&&this.imageServiceLayer.xtnModeler&&(this.imageServiceLayer.xtnModeler.forSaveAs=
!0);this.designModelView&&this.designModelView.runModel({saveAs:!0})},_onShowLayersClicked:function(){this._tabsContainer&&this._layersTab?this._tabsContainer.selectTab(this._layersTab.title):this.showSelectOverlayLayersView()},_onShowModelClicked:function(){this._tabsContainer&&this._modelTab?this._tabsContainer.selectTab(this._modelTab.title):this.showDesignModelView()},clear:function(){this.designModelView&&this.designModelView.weightedOverlayService&&(this._resetRemapRangeValues(),this.designModelView.clearModel())},
_resetRemapRangeValues:function(){this.weightedOverlayService&&p.forEach(this.weightedOverlayService.rasterLayers,function(c){p.forEach(c.remapRanges,function(e){try{var h=e.originalOutputValue;var l=typeof h;"undefined"!==l&&null!==h&&"number"===l&&!isNaN(h)&&isFinite(h)&&(e.outputValue=h)}catch(k){}})},this)},_updateDesignModelButton:function(c){c&&c.overlayLayers&&c.overlayLayers.length?d(this.designModelButton,!1):d(this.designModelButton,!0)}})})},"widgets/SuitabilityModeler/wro/config":function(){define([],
function(){return{getOptions:function(a){return{rasterFunctionName:"WeightedOverlay_7_1_9_colormap",histogramRasterFunctionName:"WeightedOverlay_7_0_9_histogram",rastersInFunction:15,colorMapArgName:"Colormap",colormapDefinitions:[{name:"1_9_green_yellow_red",label:a.wro.colorRampLabel["Green Yellow Red"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[38,115,0]},{label:a.util.colorRamp["2"],value:2,rgb:[86,148,0]},{label:a.util.colorRamp["3"],value:3,rgb:[39,181,0]},{label:a.util.colorRamp["4"],
value:4,rgb:[197,219,0]},{label:a.util.colorRamp["5"],value:5,rgb:[255,255,0]},{label:a.util.colorRamp["6"],value:6,rgb:[255,195,0]},{label:a.util.colorRamp["7"],value:7,rgb:[250,142,0]},{label:a.util.colorRamp["8"],value:8,rgb:[242,85,0]},{label:a.util.colorRamp["9"],value:9,rgb:[230,0,0]}]},{name:"1_9_red_yellow_green",label:a.wro.colorRampLabel["Red Yellow Green"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[230,0,0]},{label:a.util.colorRamp["2"],value:2,rgb:[242,85,0]},{label:a.util.colorRamp["3"],
value:3,rgb:[250,142,0]},{label:a.util.colorRamp["4"],value:4,rgb:[255,195,0]},{label:a.util.colorRamp["5"],value:5,rgb:[255,255,0]},{label:a.util.colorRamp["6"],value:6,rgb:[197,219,0]},{label:a.util.colorRamp["7"],value:7,rgb:[39,181,0]},{label:a.util.colorRamp["8"],value:8,rgb:[86,148,0]},{label:a.util.colorRamp["9"],value:9,rgb:[38,115,0]}]},{name:"1_9_yellow_to_dark_red",label:a.wro.colorRampLabel["Yellow to Dark Red"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[255,255,128]},{label:a.util.colorRamp["2"],
value:2,rgb:[252,233,106]},{label:a.util.colorRamp["3"],value:3,rgb:[250,209,85]},{label:a.util.colorRamp["4"],value:4,rgb:[247,190,67]},{label:a.util.colorRamp["5"],value:5,rgb:[242,167,46]},{label:a.util.colorRamp["6"],value:6,rgb:[207,122,31]},{label:a.util.colorRamp["7"],value:7,rgb:[173,83,19]},{label:a.util.colorRamp["8"],value:8,rgb:[138,46,10]},{label:a.util.colorRamp["9"],value:9,rgb:[107,0,0]}]},{name:"1_9_dark_red_to_yellow",label:a.wro.colorRampLabel["Dark Red to Yellow"],colors:[{label:a.util.colorRamp["1"],
value:1,rgb:[107,0,0]},{label:a.util.colorRamp["2"],value:2,rgb:[138,46,10]},{label:a.util.colorRamp["3"],value:3,rgb:[173,83,19]},{label:a.util.colorRamp["4"],value:4,rgb:[207,122,31]},{label:a.util.colorRamp["5"],value:5,rgb:[242,167,46]},{label:a.util.colorRamp["6"],value:6,rgb:[247,190,67]},{label:a.util.colorRamp["7"],value:7,rgb:[250,209,85]},{label:a.util.colorRamp["8"],value:8,rgb:[252,233,106]},{label:a.util.colorRamp["9"],value:9,rgb:[255,255,128]}]},{name:"1_9_light_gray_to_dark_gray",
label:a.wro.colorRampLabel["Light Gray to Dark Gray"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[219,219,219]},{label:a.util.colorRamp["2"],value:2,rgb:[196,196,196]},{label:a.util.colorRamp["3"],value:3,rgb:[176,176,176]},{label:a.util.colorRamp["4"],value:4,rgb:[156,156,156]},{label:a.util.colorRamp["5"],value:5,rgb:[135,135,135]},{label:a.util.colorRamp["6"],value:6,rgb:[117,117,117]},{label:a.util.colorRamp["7"],value:7,rgb:[99,99,99]},{label:a.util.colorRamp["8"],value:8,rgb:[84,84,84]},
{label:a.util.colorRamp["9"],value:9,rgb:[69,69,69]}]},{name:"1_9_dark_gray_to_light_gray",label:a.wro.colorRampLabel["Dark Gray to Light Gray"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[69,69,69]},{label:a.util.colorRamp["2"],value:2,rgb:[84,84,84]},{label:a.util.colorRamp["3"],value:3,rgb:[99,99,99]},{label:a.util.colorRamp["4"],value:4,rgb:[117,117,117]},{label:a.util.colorRamp["5"],value:5,rgb:[135,135,135]},{label:a.util.colorRamp["6"],value:6,rgb:[156,156,156]},{label:a.util.colorRamp["7"],
value:7,rgb:[176,176,176]},{label:a.util.colorRamp["8"],value:8,rgb:[196,196,196]},{label:a.util.colorRamp["9"],value:9,rgb:[219,219,219]}]},{name:"1_9_light_brown_to_dark_brown",label:a.wro.colorRampLabel["Light Brown to Dark Brown"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[250,233,212]},{label:a.util.colorRamp["2"],value:2,rgb:[242,208,184]},{label:a.util.colorRamp["3"],value:3,rgb:[235,187,160]},{label:a.util.colorRamp["4"],value:4,rgb:[224,163,135]},{label:a.util.colorRamp["5"],value:5,
rgb:[217,144,113]},{label:a.util.colorRamp["6"],value:6,rgb:[207,124,91]},{label:a.util.colorRamp["7"],value:7,rgb:[194,103,70]},{label:a.util.colorRamp["8"],value:8,rgb:[184,84,53]},{label:a.util.colorRamp["9"],value:9,rgb:[171,65,36]}]},{name:"1_9_dark_brown_to_light_brown",label:a.wro.colorRampLabel["Dark Brown to Light Brown"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[171,65,36]},{label:a.util.colorRamp["2"],value:2,rgb:[184,84,53]},{label:a.util.colorRamp["3"],value:3,rgb:[194,103,70]},
{label:a.util.colorRamp["4"],value:4,rgb:[207,124,91]},{label:a.util.colorRamp["5"],value:5,rgb:[217,144,113]},{label:a.util.colorRamp["6"],value:6,rgb:[224,163,135]},{label:a.util.colorRamp["7"],value:7,rgb:[235,187,160]},{label:a.util.colorRamp["8"],value:8,rgb:[242,208,184]},{label:a.util.colorRamp["9"],value:9,rgb:[250,233,212]}]},{name:"1_9_full_spectrum_bright_red_to_blue",label:a.wro.colorRampLabel["Full Spectrum - Bright Red to Blue"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[255,
0,0]},{label:a.util.colorRamp["2"],value:2,rgb:[255,119,0]},{label:a.util.colorRamp["3"],value:3,rgb:[255,200,0]},{label:a.util.colorRamp["4"],value:4,rgb:[238,255,56]},{label:a.util.colorRamp["5"],value:5,rgb:[182,255,143]},{label:a.util.colorRamp["6"],value:6,rgb:[89,255,225]},{label:a.util.colorRamp["7"],value:7,rgb:[51,194,255]},{label:a.util.colorRamp["8"],value:8,rgb:[56,106,255]},{label:a.util.colorRamp["9"],value:9,rgb:[0,0,255]}]},{name:"1_9_full_spectrum_bright_blue_to_red",label:a.wro.colorRampLabel["Full Spectrum - Bright Blue to Red"],
colors:[{label:a.util.colorRamp["1"],value:1,rgb:[0,0,255]},{label:a.util.colorRamp["2"],value:2,rgb:[56,106,255]},{label:a.util.colorRamp["3"],value:3,rgb:[51,194,255]},{label:a.util.colorRamp["4"],value:4,rgb:[89,255,225]},{label:a.util.colorRamp["5"],value:5,rgb:[182,255,143]},{label:a.util.colorRamp["6"],value:6,rgb:[238,255,56]},{label:a.util.colorRamp["7"],value:7,rgb:[255,200,0]},{label:a.util.colorRamp["8"],value:8,rgb:[255,119,0]},{label:a.util.colorRamp["9"],value:9,rgb:[255,0,0]}]},{name:"1_9_partial_spectrum_yellow_to_blue",
label:a.wro.colorRampLabel["Partial Spectrum - Yellow to Blue"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[242,241,162]},{label:a.util.colorRamp["2"],value:2,rgb:[252,250,98]},{label:a.util.colorRamp["3"],value:3,rgb:[255,255,0]},{label:a.util.colorRamp["4"],value:4,rgb:[255,149,0]},{label:a.util.colorRamp["5"],value:5,rgb:[255,0,0]},{label:a.util.colorRamp["6"],value:6,rgb:[245,5,189]},{label:a.util.colorRamp["7"],value:7,rgb:[176,7,237]},{label:a.util.colorRamp["8"],value:8,rgb:[99,24,204]},
{label:a.util.colorRamp["9"],value:9,rgb:[7,29,173]}]},{name:"1_9_partial_spectrum_blue_to_yellow",label:a.wro.colorRampLabel["Partial Spectrum - Blue to Yellow"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[7,29,173]},{label:a.util.colorRamp["2"],value:2,rgb:[99,24,204]},{label:a.util.colorRamp["3"],value:3,rgb:[176,7,237]},{label:a.util.colorRamp["4"],value:4,rgb:[245,5,189]},{label:a.util.colorRamp["5"],value:5,rgb:[255,0,0]},{label:a.util.colorRamp["6"],value:6,rgb:[255,149,0]},{label:a.util.colorRamp["7"],
value:7,rgb:[255,255,0]},{label:a.util.colorRamp["8"],value:8,rgb:[252,250,98]},{label:a.util.colorRamp["9"],value:9,rgb:[242,241,162]}]},{name:"1_9_yellow_green_to_dark_blue",label:a.wro.colorRampLabel["Yellow-Green to Dark Blue"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[255,255,128]},{label:a.util.colorRamp["2"],value:2,rgb:[182,245,88]},{label:a.util.colorRamp["3"],value:3,rgb:[113,235,47]},{label:a.util.colorRamp["4"],value:4,rgb:[59,214,45]},{label:a.util.colorRamp["5"],value:5,rgb:[61,
184,104]},{label:a.util.colorRamp["6"],value:6,rgb:[42,156,154]},{label:a.util.colorRamp["7"],value:7,rgb:[33,110,158]},{label:a.util.colorRamp["8"],value:8,rgb:[31,62,140]},{label:a.util.colorRamp["9"],value:9,rgb:[12,16,120]}]},{name:"1_9_dark_blue_to_yellow_green",label:a.wro.colorRampLabel["Dark Blue to Yellow-Green"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[12,16,120]},{label:a.util.colorRamp["2"],value:2,rgb:[31,62,140]},{label:a.util.colorRamp["3"],value:3,rgb:[33,110,158]},{label:a.util.colorRamp["4"],
value:4,rgb:[42,156,154]},{label:a.util.colorRamp["5"],value:5,rgb:[61,184,104]},{label:a.util.colorRamp["6"],value:6,rgb:[59,214,45]},{label:a.util.colorRamp["7"],value:7,rgb:[113,235,47]},{label:a.util.colorRamp["8"],value:8,rgb:[182,245,88]},{label:a.util.colorRamp["9"],value:9,rgb:[255,255,128]}]},{name:"1_9_cold_to_hot_diverging",label:a.wro.colorRampLabel["Cold to Hot Diverging"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[40,146,199]},{label:a.util.colorRamp["2"],value:2,rgb:[109,169,
179]},{label:a.util.colorRamp["3"],value:3,rgb:[160,194,155]},{label:a.util.colorRamp["4"],value:4,rgb:[206,222,129]},{label:a.util.colorRamp["5"],value:5,rgb:[250,250,100]},{label:a.util.colorRamp["6"],value:6,rgb:[252,196,76]},{label:a.util.colorRamp["7"],value:7,rgb:[250,141,52]},{label:a.util.colorRamp["8"],value:8,rgb:[242,89,34]},{label:a.util.colorRamp["9"],value:9,rgb:[232,16,20]}]},{name:"1_9_hot_to_cold_diverging",label:a.wro.colorRampLabel["Hot to Cold Diverging"],colors:[{label:a.util.colorRamp["1"],
value:1,rgb:[232,16,20]},{label:a.util.colorRamp["2"],value:2,rgb:[242,89,34]},{label:a.util.colorRamp["3"],value:3,rgb:[250,141,52]},{label:a.util.colorRamp["4"],value:4,rgb:[252,196,76]},{label:a.util.colorRamp["5"],value:5,rgb:[250,250,100]},{label:a.util.colorRamp["6"],value:6,rgb:[206,222,129]},{label:a.util.colorRamp["7"],value:7,rgb:[160,194,155]},{label:a.util.colorRamp["8"],value:8,rgb:[109,169,179]},{label:a.util.colorRamp["9"],value:9,rgb:[40,146,199]}]},{name:"1_9_surface_low_to_high",
label:a.wro.colorRampLabel["Surface - Low to High"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[112,153,89]},{label:a.util.colorRamp["2"],value:2,rgb:[176,196,124]},{label:a.util.colorRamp["3"],value:3,rgb:[242,238,162]},{label:a.util.colorRamp["4"],value:4,rgb:[242,224,150]},{label:a.util.colorRamp["5"],value:5,rgb:[242,206,133]},{label:a.util.colorRamp["6"],value:6,rgb:[217,169,130]},{label:a.util.colorRamp["7"],value:7,rgb:[194,140,124]},{label:a.util.colorRamp["8"],value:8,rgb:[255,184,
193]},{label:a.util.colorRamp["9"],value:9,rgb:[255,242,255]}]},{name:"1_9_surface_high_to_low",label:a.wro.colorRampLabel["Surface - High to Low"],colors:[{label:a.util.colorRamp["1"],value:1,rgb:[255,242,255]},{label:a.util.colorRamp["2"],value:2,rgb:[255,184,193]},{label:a.util.colorRamp["3"],value:3,rgb:[194,140,124]},{label:a.util.colorRamp["4"],value:4,rgb:[217,169,130]},{label:a.util.colorRamp["5"],value:5,rgb:[242,206,133]},{label:a.util.colorRamp["6"],value:6,rgb:[242,224,150]},{label:a.util.colorRamp["7"],
value:7,rgb:[242,238,162]},{label:a.util.colorRamp["8"],value:8,rgb:[176,196,124]},{label:a.util.colorRamp["9"],value:9,rgb:[112,153,89]}]}]}}}})},"widgets/SuitabilityModeler/wro/WeightedOverlayService":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/string dojo/number esri/request esri/layers/RasterFunction ./rasterFunctions".split(" "),function(a,y,p,q,m,w,z,r){var u=function(d,c){if(!d||!c)return!1;var e=d.length;if(e!==c.length)return!1;for(var h=0;h<e;h++)if(d[h]instanceof
Array&&c[h]instanceof Array){if(!d[h].compare(c[h]))return!1}else if(d[h]!==c[h])return!1;return!0},v=function(d){try{if(d.attributes&&"ForestFragmentation_US_USFS_2002"===d.attributes.Name&&"Forest Fragmentation"===d.attributes.Title&&49===d.attributes.OBJECTID)return null}catch(g){}d=d.attributes;var c,e;if(d){var h={id:d.OBJECTID,name:d.Name,title:d.Title,url:d.Url,metadata:d.Metadata};if(d.InputRanges&&d.InputRanges.split&&"undefined"!==typeof d.OutputValues&&d.OutputValues.split){var l=p.map(d.InputRanges.split(","),
function(g){return parseFloat(g.trim())});var k=p.map(d.OutputValues.split(","),function(g){return parseInt(g.trim(),10)});d.RangeLabels&&d.RangeLabels.split&&(c=p.map(d.RangeLabels.split(","),function(g){return g.trim()}))}if(d.NoDataRanges&&d.NoDataRanges.split){var n=p.map(d.NoDataRanges.split(","),function(g){return parseFloat(g.trim())});d.NoDataRangeLabels&&d.NoDataRangeLabels.split&&(e=p.map(d.NoDataRangeLabels.split(","),function(g){return g.trim()}))}h.remapRanges=A.createRemapRanges(l,k,
n,{labels:c,noDataLabels:e})}return h},B=function(d){return p.map(d.colors,function(c){return[c.value].concat(c.rgb)})},t=function(d,c){var e=[],h=0;d&&d.overlayLayers&&d.overlayLayers.push?0<d.overlayLayers.length?(p.forEach(d.overlayLayers,function(l,k){h+=l.weight;l.remapRanges&&l.remapRanges.push&&0<l.remapRanges.length?p.forEach(l.remapRanges,function(n,g){(isNaN(n.outputValue)||null===n.outputValue)&&e.push(q.substitute(c.wro.validation.overlayLayerOutputInvalid,[k,g]));(isNaN(n.inputMin)||
null===n.inputMin||isNaN(n.inputMax)||null===n.inputMax||n.inputMin>n.inputMax)&&e.push(q.substitute(c.wro.validation.overlayLayerInputInvalid,[k,g]))}):e.push(q.substitute(c.wro.validation.overlayLayerRangesMissing,[k]))}),100!==h&&e.push(c.wro.validation.overlayLayerWeight)):e.push(c.wro.validation.overlayLayerRequired):e.push(c.wro.validation.overlayLayerNotDefined);return e},C=function(d,c,e){d+="/computeHistograms";var h={geometryType:"esriGeometryPolygon",f:"json"};h.geometry=window.JSON.stringify(c);
e&&(e.renderingRule&&(h.renderingRule=window.JSON.stringify(e.renderingRule)),e.pixelSize&&(h.pixelSize=window.JSON.stringify(e.pixelSize)));return w({url:d,content:h,handleAs:"json",callbackParamName:"callback"})},A={rasterFunctionArgumentsToRemapRanges:function(d,c){if(d){var e=y.mixin({inputRangesArgumentName:"InputRanges",outputValuesArgumentName:"OutputValues",noDataRangesArgumentName:"NoDataRanges",labelsArgumentName:"Labels",noDataLabelsArgumentName:"NoDataLabels"},c);c=d[e.inputRangesArgumentName];
var h=d[e.outputValuesArgumentName];var l=d[e.noDataRangesArgumentName];var k=d[e.labelsArgumentName];d=d[e.noDataLabelsArgumentName];h=this.createRemapRanges(c,h,l,{labels:k,noDataLabels:d,sortBy:"inputMin"})}return h},createRemapRanges:function(d,c,e,h){var l=[],k=!1;if(h){var n=h.labels;var g=h.noDataLabels;var b=h.sortBy}d&&d.push&&c&&c.push&&d.length===2*c.length&&(k=n&&n.push&&n.length===c.length,p.forEach(c,function(f,x){var D=2*x;f={inputMin:d[D],inputMax:d[D+1],outputValue:f,originalOutputValue:f};
f.label=k?n[x]:this.getRangeString(f.inputMin,f.inputMax);l.push(f)},this));e&&e.push&&0<e.length&&(k=g&&g.push&&g.length===e.length/2,p.forEach(e,function(f,x){0===x%2&&(f={inputMin:f,inputMax:e[x+1],outputValue:0,originalOutputValue:0},f.label=k?g[x]:this.getRangeString(f.inputMin,f.inputMax),l.push(f))},this));if(0<l.length)return b&&l.sort(function(f,x){return f[b]<x[b]?-1:f[b]>x[b]?1:0}),l},getRangeString:function(d,c){return d===c?d+"":d+" - "+c},remapRangesToRasterFunctionArguments:function(d,
c){if(d){var e={};c=y.mixin({includeLabels:!0,inputRangesArgumentName:"InputRanges",outputValuesArgumentName:"OutputValues",noDataRangesArgumentName:"NoDataRanges",labelsArgumentName:"Labels",noDataLabelsArgumentName:"NoDataLabels"},c);var h=[];var l=[];var k=[];var n=[];var g=[];p.forEach(d,function(b){var f=b.label||this.getRangeString(b.inputMin,b.inputMax);b.outputValue?(h.push(b.inputMin),h.push(b.inputMax),l.push(b.outputValue),n.push(f)):(k.push(b.inputMin),k.push(b.inputMax),g.push(f))},this);
0<l.length&&(e[c.inputRangesArgumentName]=h,e[c.outputValuesArgumentName]=l,c.includeLabels&&(e[c.labelsArgumentName]=n));0<k.length&&(e[c.noDataRangesArgumentName]=k,c.includeLabels&&(e[c.noDataLabelsArgumentName]=g))}return e},getRemapRangeByValue:function(d,c){var e;(c||0===c)&&p.some(d,function(h){return c===h.inputMin&&c===h.inputMax||c>=h.inputMin&&c<h.inputMax?(e=h,!0):!1});return e},findRemapRange:function(d,c){var e,h;if(d&&c)return p.some(d,function(l){if((c.inputMin||0===c.inputMin)&&(c.inputMax||
0===c.inputMax))return(e=l.inputMin===c.inputMin&&l.inputMax===c.inputMax)&&(h=l),e}),h}};return a([],{context:null,i18n:null,constructor:function(d,c){c=c||{};this.imageServiceLayer=d;this.rasterFunctionName=c.rasterFunctionName||"";this.histogramRasterFunctionName=c.histogramRasterFunctionName||"";this.rastersInFunction=c.rastersInFunction||0;this.variableName=c.variableName||"Raster";this.colorMapArgName=c.colorMapArgName||"Colormap";this.dummyRasterId=c.dummyRasterId||1;this.colormapDefinitions=
c.colormapDefinitions||[];this.argumentNamePrefixes=y.mixin({id:"Raster",weight:"Weight_Raster",inputRanges:"InputRanges_Raster",outputValues:"OutputValues_Raster",noDataRanges:"NoDataRanges_Raster",labels:"Labels_Raster",noDataLabels:"NoDataLabels"},c.argumentNamePrefixes);this.queryParameters=y.mixin({where:"1\x3d1",outFields:["*"],returnGeometry:!1},c.queryParameters);this.rasterLayers=c.rasterLayers||[]},initRasterLayers:function(d){var c=this;return this.queryRasters().then(function(e){return c._initRasterLayers(e.features,
d)})},queryRasters:function(d){var c=this.imageServiceLayer.url+"/query";d=y.mixin(y.mixin({f:"json"},d),this.queryParameters);d.outFields&&d.outFields.join&&(d.outFields=d.outFields.join(","));return w({url:c,content:d,handleAs:"json",callbackParamName:"callback"})},_initRasterLayers:function(d,c){var e=this.context;try{this.dummyRasterId=1,this.imageServiceLayer&&this.imageServiceLayer.url&&-1!==this.imageServiceLayer.url.indexOf("//landscape3.arcgis.com")&&(this.dummyRasterId=53)}catch(k){}var h=
this,l;c=(c||{}).featureCompareFunc||function(k,n){return k.attributes.Title<n.attributes.Title?-1:k.attributes.Title>n.attributes.Title?1:0};d&&d.length&&0<d.length&&d[0].attributes&&(h.rasterLayers&&h.rasterLayers.push?h.rasterLayers.length=0:h.rasterLayers=[],c&&d.sort(c),p.forEach(d,function(k){if(l=v(k))l.url=e.checkMixedContent(l.url),h.rasterLayers.push(l)}));return h.rasterLayers},createNewModel:function(){var d={overlayLayers:[]};this.colormapDefinitions&&this.colormapDefinitions instanceof
Array&&0<this.colormapDefinitions.length&&(d.colormapDefinition=this.colormapDefinitions[0]);return d},getRasterLayer:function(d){var c;p.some(this.rasterLayers,function(e){if(e.id===d)return c=e,!1});return c},setOverlayLayerDefaults:function(d,c){c&&(c.remapRanges&&d.remapRanges&&p.forEach(c.remapRanges,function(e){var h;e.label&&(h=A.findRemapRange(d.remapRanges,{inputMin:e.inputMin,inputMax:e.inputMax}))&&(h.label=e.label)},this),d.title=c.title)},operationalLayersToModel:function(d){var c,e=
this.rasterFunctionName;e&&p.some(d,function(h){return h.renderingRule&&h.renderingRule&&h.renderingRule.rasterFunction===e?(c=h,!0):!1},this);return this.imageServiceLayerToModel(c)},imageServiceLayerToModel:function(d){var c=this;var e=d.renderingRule;if(d&&e){var h={overlayLayers:[]};if(this.rasterFunctionName===e.rasterFunction){var l=new RegExp("^"+this.argumentNamePrefixes.id+"[1-9]+$");e=e.rasterFunctionArguments;d.remapRangeLabels&&y.mixin(e,d.remapRangeLabels);d.noDataRangeLabels&&y.mixin(e,
d.noDataRangeLabels);for(var k in e)if(k.match(l)){var n=k.replace(this.argumentNamePrefixes.id,"");var g={id:parseInt(e[k].replace("$",""),10)};d=this.argumentNamePrefixes.weight+n;g.weight=e[d];g.weight&&0<g.weight&&(g.weight*=100,g=y.mixin(this.getRasterLayer(g.id)||{},g),g.remapRanges=A.rasterFunctionArgumentsToRemapRanges(e,{inputRangesArgumentName:this.argumentNamePrefixes.inputRanges+n,outputValuesArgumentName:this.argumentNamePrefixes.outputValues+n,noDataRangesArgumentName:this.argumentNamePrefixes.noDataRanges+
n,labelsArgumentName:this.argumentNamePrefixes.labels+n,noDataLabelsArgumentName:this.argumentNamePrefixes.noDataLabels+n}),h.overlayLayers.push(g))}else k===this.colorMapArgName&&(h.colormapDefinition=this.findColormapDefinition(e[k]))}else l=e,e=l.rasterFunctionArguments,"Colormap"===l.rasterFunction&&(h.colormapDefinition=this.findColormapDefinition(e.Colormap),l=e.Raster,e=l.rasterFunctionArguments),"Local"===l.rasterFunction&&49===e.Operation?(l=e.Rasters[0],e=l.rasterFunctionArguments):"Local"===
l.rasterFunction&&48===e.Operation&&(e.Operation=49,l=e.Rasters[0],e=l.rasterFunctionArguments),"Local"===l.rasterFunction&&55===e.Operation&&(h.overlayLayers=p.map(e.Rasters,function(b){var f={};p.forEach(b.rasterFunctionArguments.Rasters,function(x){isNaN(x)?(f.id=parseInt(x.rasterFunctionArguments.Raster.substr(1),10),f=y.mixin(c.getRasterLayer(f.id)||{},f),f.remapRanges=A.rasterFunctionArgumentsToRemapRanges(x.rasterFunctionArguments)):f.weight=100*x});return f}));return h}},findColormapDefinition:function(d){var c;
p.some(this.colormapDefinitions,function(e){var h=!1;return(h=p.every(e.colors,function(l,k){return u([l.value].concat(l.rgb),d[k])}))?(c=e,!0):!1});return c},modelToOperationalLayers:function(d,c){return[this.modelToImageServiceLayer(d,c)]},modelToImageServiceLayer:function(d,c){var e={id:this.imageServiceLayer.id,url:this.imageServiceLayer.url,opacity:this.imageServiceLayer.opacity,title:"Weighted Overlay Model"};d=this.getRasterFunction(d.overlayLayers,d.colormapDefinition,{includeLabels:!0});
var h={},l={},k;for(k in d.arguments)0===k.indexOf(this.argumentNamePrefixes.labels)?(h[k]=d.arguments[k],delete d.arguments[k]):0===k.indexOf(this.argumentNamePrefixes.noDataLabels)&&(l[k]=d.arguments[k],delete d.arguments[k]);e.renderingRule=d.toJson();e.remapRangeLabels=h;e.noDataRangeLabels=l;c&&c.modelTitle&&(e.title=c.modelTitle);return e},getRasterFunction:function(d,c,e){var h=[];p.forEach(d,function(f){0<f.weight&&h.push(f)});if(10.3<=this.imageServiceLayer.version){var l=p.map(h,function(f){var x=
A.remapRangesToRasterFunctionArguments(f.remapRanges);x.Raster="$"+f.id;x.weight=f.weight/100;return x}),k;c&&(k=B(c));c=r.createWeightedSumParams(l,k);return new z(c)}k=new z;d=h.length;var n={};e=y.mixin({rasterFunctionName:this.rasterFunctionName,rastersInFunction:this.rastersInFunction,argumentNamePrefixes:this.argumentNamePrefixes,variableName:this.variableName,dummyRasterId:this.dummyRasterId,includeLabels:!1},e);k.functionName=e.rasterFunctionName;e.variableName&&(k.variableName=e.variableName);
for(var g=1;g<=e.rastersInFunction;g++){var b=g<=d?h[g-1]:{id:e.dummyRasterId,weight:0};n[e.argumentNamePrefixes.id+g]="$"+b.id;n[e.argumentNamePrefixes.weight+g]=m.round(b.weight/100,2);0<b.weight&&b.remapRanges&&(b=A.remapRangesToRasterFunctionArguments(b.remapRanges,{includeLabels:e.includeLabels,inputRangesArgumentName:e.argumentNamePrefixes.inputRanges+g,outputValuesArgumentName:e.argumentNamePrefixes.outputValues+g,noDataRangesArgumentName:e.argumentNamePrefixes.noDataRanges+g,labelsArgumentName:e.argumentNamePrefixes.labels+
g,noDataLabelsArgumentName:e.argumentNamePrefixes.noDataLabels+g}),y.mixin(n,b))}if(this.colorMapArgName){c&&(l=B(c));if(!l)throw this.i18n.wro.validation.requiresColormap;n[this.colorMapArgName]=l}k.arguments=n;return k},validateModel:function(d){d=t(d,this.i18n);return{isValid:1>d.length,modelErrors:d}},runModel:function(d){if(this.imageServiceLayer){var c=t(d,this.i18n);if(1>c.length)this.imageServiceLayer.setRenderingRule(this.getRasterFunction(d.overlayLayers,d.colormapDefinition));else throw this.context.showMessages(this.i18n.wro.validation.createModelError,
"",c),this.wro.validation.invalidModel+":\n\n"+c.join("\n");}else throw this.i18n.wro.validation.imageServiceNotDefined;},clearModel:function(){this.imageServiceLayer&&null!==this.imageServiceLayer.renderingRule&&this.imageServiceLayer.setRenderingRule(null)},getHistogram:function(d,c,e){var h=y.mixin({},e);if(this.histogramRasterFunctionName){if(this.imageServiceLayer){e=t(d,this.i18n);if(1>e.length)return h.renderingRule=this.getRasterFunction(d.overlayLayers,d.colormapDefinition,{rasterFunctionName:this.histogramRasterFunctionName}).toJson(),
C(this.imageServiceLayer.url,c,h).then(function(l){return l.histograms[0]});throw this.i18n.wro.validation.invalidModel+":\n\n"+e.join("\n");}throw this.i18n.wro.validation.imageLayerNotDefined;}throw this.i18n.wro.validation.histogramNotDefined;},getModelPixelSize:function(d,c){var e=this.imageServiceLayer;c=y.mixin({width:e.maxImageWidth,height:e.maxImageHeight},c);var h=Math.max(e.pixelSizeX,Math.ceil(d.getWidth()/c.width));d=Math.max(e.pixelSizeY,Math.ceil(d.getHeight()/c.height));c.forceSquare?
(d={x:Math.max(h,d)},d.y=d.x):d={x:h,y:d};return d},getColormapDefinition:function(d){var c;p.some(this.colormapDefinitions,function(e){if(e.id===d)return c=e,!1});return c}})})},"widgets/SuitabilityModeler/wro/rasterFunctions":function(){(function(a,y){"function"===typeof define&&define.amd?define([],y):"object"===typeof exports?module.exports=y():a.rasterFunctions=y()})(this,function(){return{createColormapParams:function(a){a||(a={});return{rasterFunction:"Colormap",rasterFunctionArguments:{Raster:a.raster||
"$$",Colormap:a.colormap||[]}}},createRemapParams:function(a){a||(a={});return{rasterFunction:"Remap",rasterFunctionArguments:{Raster:a.Raster||"$$",UseTable:!1,InputRanges:a.InputRanges||[],OutputValues:a.OutputValues||[],NoDataRanges:a.NoDataRanges||[],AllowUnmatched:!0}}},createLocalParams:function(a,y){y||(y={});a={rasterFunction:"Local",rasterFunctionArguments:{Operation:a,ExtentType:0,CellsizeType:1,Rasters:y.rasters||[]}};y.outputPixelType&&(a.outputPixelType=y.outputPixelType);return a},createWeightedSumParams:function(a,
y){a=a.map(function(p){var q=this.createRemapParams(p);return this.createLocalParams(3,{rasters:[q,p.weight]})},this);a=this.createLocalParams(55,{rasters:a});a=this.createLocalParams(49,{rasters:[a],outputPixelType:"U8"});return this.createColormapParams({raster:a,colormap:y})}}})},"widgets/SuitabilityModeler/wro/WeightedOverlayLayersSelector":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/Evented dojo/dom-class dojo/string dijit/registry dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_Container dijit/TooltipDialog dijit/popup esri/IdentityManager esri/request esri/layers/ArcGISImageServiceLayer ./containerUtils dojo/text!./templates/WeightedOverlayLayerSelector.html dijit/form/HorizontalSlider dijit/form/CheckBox".split(" "),
function(a,y,p,q,m,w,z,r,u,v,B,t,C,A,d,c,e,h,l,k){var n=a([u,v,B,m],{context:null,i18n:null,templateString:l,baseClass:"weighted-overlay-layer-selector",_parentWgt:null,_setRasterLayerAttr:function(g){this.chkModelLayer.set("value",g.id.toString());this.chkModelLayer.set("title",g.title);this.txtLabel.innerHTML=g.title},_setTooltipDialogAttr:function(g){var b=this;this.tooltipDialog=g;this.own(q(g,"MouseLeave",function(){A.close(b.tooltipDialog)}))},postCreate:function(){var g=this,b=this.chkModelLayer,
f=this.btnInfo;this.txtLabel.setAttribute("for",b.id);this.showPreview&&this.rasterLayer.url?this.own(q(this.btnPreview,"click",function(){g.emit("PreviewClick",g.rasterLayer.url,g.btnPreview)})):(this.btnPreview.style||(this.btnPreview.style={}),this.btnPreview.style.display="none");this.showInfo&&this.rasterLayer.url||this.showInfo&&this.rasterLayer.metadata?this.own(q(f,"click",function(){g.showInfoTooltip()})):this.btnInfo.style.display="none";this.own(q(b,"change",function(){g._parentWgt._onContainerNodeChange({target:b.focusNode})}))},
showInfoTooltip:function(){var g=this.rasterLayer.metadata;g&&(0<=g.indexOf("https")||0<=g.indexOf("http")||(g=null));var b=this;g?b._showInfoTooltip(b.rasterLayer.title,b.rasterLayer.metadata):this.rasterLayer.url?c({url:this.rasterLayer.url+"/info/iteminfo",content:{f:"json"},handleAs:"json",callbackParamName:"callback"}).then(function(f){b.rasterLayer.infoText=f.snippet||f.summary||f.description;b._showInfoTooltip(b.rasterLayer.infoText,b.rasterLayer.url)}):this.context.showMessage(this.i18n.wro.caption,
this.i18n.wro.validation.invalidLink)},_showInfoTooltip:function(g,b){var f;this.tooltipDialog&&(A.close(this.tooltipDialog),(f=d.findCredential(b))&&f.token&&(b+=(-1<b.indexOf("?")?"\x26":"?")+"token\x3d"+f.token),g+=" \x3ca href\x3d"+b+" target\x3d'_blank'\x3e"+this.i18n.wro.readMore+"\x3c/a\x3e",this.tooltipDialog.set("content",g),A.open({popup:this.tooltipDialog,around:this.btnInfo,orient:["before-centered","before"]}))},setSelected:function(g){this.chkModelLayer.set("checked",g)}});return a([u,
t,m],{context:null,i18n:null,showPreview:!0,showInfo:!0,_setWeightedOverlayServiceAttr:function(g){this.setWeightedOverlayService(g)},_setModelAttr:function(g){this.setModel(g)},buildRendering:function(){this.inherited(arguments);var g=document.createElement("div");g.className="transparency-container";var b=this.domNode;this.parent&&this.parent.selectLayersViewHeader&&(b=this.parent.selectLayersViewHeader);b.appendChild(g);this.previewSlider=new k({minimum:0,maximum:1,value:.2,intermediateChanges:!0,
showButtons:!1,"class":"modeler-transparency-slider slider-primary"});this.previewSlider.placeAt(g,"last");this.containerNode=document.createElement("div");this.containerNode.setAttribute("class","modeler-scroll-panel");this.domNode.appendChild(this.containerNode);this.tooltipDialog=new C({style:"width: 300px;"})},postCreate:function(){var g=this;this.own(q(this.previewSlider,"change",function(){g.updatePreviewOpacity()}))},_onContainerNodeChange:function(g){var b=g.target;if("checkbox"===b.type){var f=
this._getLayerIdFromCheckbox(b);if(b.checked){b=this.getOverlayLayer(f);try{this.addOverlayLayer(b||{id:f,weight:0})}catch(x){(g=r.byId(g.target.id))&&g.set("checked",!1),this._showError(x)}}else this.removeOverlayLayer(f);this.emit("selection-changed")}},_getLayerIdFromCheckbox:function(g){try{var b=parseInt(g.value,10)}catch(f){b=g.value}return b},_showError:function(g){this.context.showError(this.i18n.wro.caption,g)},setWeightedOverlayService:function(g){this.weightedOverlayService=g;this._initLayerSelectors(this.weightedOverlayService.rasterLayers)},
_initLayerSelectors:function(g){var b=this;h.removeChildren(this);p.forEach(g,function(f){var x=this.getOverlayLayer(f.id);f=new n({context:b.context,i18n:b.i18n,rasterLayer:f,tooltipDialog:this.tooltipDialog,showPreview:this.showPreview,showInfo:this.showInfo,_parentWgt:b});f.setSelected(x?!0:!1);f.startup();this.own(q(f,"PreviewClick",function(D,E){b._OnPreviewClick(D,E)}));this.addChild(f)},this)},setModel:function(g){this.model=g;g=this.containerNode.querySelectorAll('input[name\x3d"wro-selected-layers"]');
p.forEach(g,function(b){var f=this._getLayerIdFromCheckbox(b);b=r.byId(b.id);var x=p.some(this.model.overlayLayers,function(D){return D.id===f});b.set("checked",x)},this)},_OnPreviewClick:function(g,b){g&&(this._selectedPreviewNode&&this._previewLayer&&this._previewLayer.url===g?this.hidePreviewLayer():(this.hidePreviewLayer(),this._setPreviewLayer(g),this._selectedPreviewNode&&w.remove(this._selectedPreviewNode,"checked"),this._selectedPreviewNode=b,w.add(this._selectedPreviewNode,"checked")))},
hidePreviewLayer:function(){if(this._previewLayer)if(this._previewLayer._map)try{this._previewLayer._map.removeLayer(this._previewLayer),this._previewLayer=null}catch(g){console.warn("Error removing wro preview layer"),console.error(g)}else this._previewLayer.hide();this._selectedPreviewNode&&(w.remove(this._selectedPreviewNode,"checked"),this._selectedPreviewNode=null)},_setPreviewLayer:function(g){var b=y.mixin({id:this.context.generateRandomId()},this.previewLayerOptions),f=this.map||this.context.getMap()||
this.weightedOverlayService.imageServiceLayer.getMap();if(f){a:{var x=f.getLayer(b.id);if(x){if(x.url===g){f=x;break a}f.removeLayer(x)}g=new e(g,b);f=f.addLayer(g)}this._previewLayer=f;this.updatePreviewOpacity();this._previewLayer.show()}},updatePreviewOpacity:function(){this._previewLayer&&this._previewLayer.setOpacity(1-this.previewSlider.value)},showPreviewLayer:function(){this._previewLayer&&this._previewLayer.show()},addOverlayLayer:function(g){if(this.weightedOverlayService){var b=this.weightedOverlayService.rastersInFunction;
if(this.model.overlayLayers.length<b||!b)if(b=this.weightedOverlayService.getRasterLayer(g.id))g.name=b.name,g.url=b.url,g.title=b.title,g.remapRanges||(g.remapRanges=b.remapRanges),this.removeOverlayLayer(g.id),this.model.overlayLayers.push(g);else throw z.substitute(this.i18n.wro.validation.notFound,[g.id]);else throw z.substitute(this.i18n.wro.validation.maxLayers,[b]);}else throw this.i18n.wro.validation.wroServiceNotDefined;},getOverlayLayer:function(g){var b;this.model&&this.model.overlayLayers&&
p.some(this.model.overlayLayers,function(f){if(f.id===g)return b=f,!1});return b},removeOverlayLayer:function(g){for(var b=this.model.overlayLayers,f=b.length,x=0;x<f;x++)if(b[x].id===g){b.splice(x,1);break}}})})},"widgets/SuitabilityModeler/wro/containerUtils":function(){define([],function(){return{removeChildren:function(a){if(a&&a.getChildren&&a.removeChild){var y=a.getChildren().length;for(--y;0<=y;y--)a.removeChild(y)}}}})},"widgets/SuitabilityModeler/wro/WeightedOverlayModelDesigner":function(){define("dojo/_base/declare dojo/_base/array dojo/on dojo/Evented dojo/dom-class dojo/dom-attr dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_Container dijit/form/DropDownButton dijit/DropDownMenu dijit/MenuItem ./containerUtils ./WeightedOverlayLayerEditor ./Colormap dojo/text!./templates/WeightedOverlayModelDesigner.html dijit/form/HorizontalSlider".split(" "),
function(a,y,p,q,m,w,z,r,u,v,B,t,C,A,d,c,e){return a([z,r,u,v,q],{i18n:null,templateString:e,baseClass:"weighted-overlay-model-designer",_isValid:!1,buildRendering:function(){this.inherited(arguments);this.colormap=new c({context:this.context,i18n:this.i18n});this.ColormapSelector=new B({},this.colormapSelectorNode);this.ColormapSelector.containerNode.appendChild(this.colormap.domNode)},postCreate:function(){var h=this,l=this.sliderNode;p(l,"change",function(){h.weightedOverlayService&&h.weightedOverlayService.imageServiceLayer&&
h.weightedOverlayService.imageServiceLayer.setOpacity(1-l.value)});var k=this.visibleModelNode;p(k,"change",function(){h.weightedOverlayService&&h.weightedOverlayService.imageServiceLayer&&h.weightedOverlayService.imageServiceLayer.setVisibility(k.checked);l.disabled=!k.checked});l.set("value",0);k.checked=!1},_setModelAttr:function(h){this.setModel(h)},_setWeightedOverlayServiceAttr:function(h){this.setWeightedOverlayService(h)},startup:function(){this.inherited(arguments);this.validate()},setWeightedOverlayService:function(h){var l=
this;this.weightedOverlayService=h;var k=new t({style:"display: none;"});y.forEach(this.weightedOverlayService.colormapDefinitions,function(n){var g=new C;(new c({context:l.context,i18n:l.i18n,definition:n})).placeAt(g.containerNode);l.own(p(g,"Click",function(){l.colormap&&l.colormap.definition!==n&&l.colormap.set("definition",n);l.model.colormapDefinition=n;l.runModel()}));g.containerNode.title=n.label;k.addChild(g)});this.ColormapSelector.set("dropDown",k);this.own(p(k,"open",function(){var n=
this.domNode.parentElement;n&&m.add(n,l.baseClass+"-popup")}));this.weightedOverlayService.imageServiceLayer&&this._toggleModelLayer(this.weightedOverlayService.imageServiceLayer.visible)},clearModel:function(){this.setModel(this.weightedOverlayService.createNewModel());this.emit("model-clear",this.model)},setModel:function(h){var l=this;this.model=h;A.removeChildren(this);this.model.overlayLayers&&this.model.overlayLayers.length&&0<this.model.overlayLayers.length?y.forEach(this.model.overlayLayers,
function(k){k=new d({context:l.context,i18n:l.i18n,overlayLayer:k});l.own(p(k,"WeightChange",function(){l.validate()}));k.startup();l.addChild(k)}):(this.hideModelLayer(),w.set(this.visibleModelNode,"disabled","disabled"),this.weightedOverlayService&&this.weightedOverlayService.clearModel());this.validate();this.model.colormapDefinition&&this.colormap.set("definition",this.model.colormapDefinition)},validate:function(){var h=0;this.model&&this.model.overlayLayers&&y.forEach(this.model.overlayLayers,
function(k){h+=k.weight});this.weightTotalNode.innerHTML=h;var l=this.weightTotalWrapper.parentNode;100===h?(this._isValid=!0,m.remove(l,"alert-danger"),m.add(l,"alert-success")):(this._isValid=!1,m.remove(l,"alert-success"),m.add(l,"alert-danger"));this.emit("model-validated",this._isValid)},runModel:function(h){this.validate();this._isValid&&(this.weightedOverlayService.runModel(this.model),w.remove(this.visibleModelNode,"disabled"),this.showModelLayer(),this.emit("model-run",{options:h,model:this.model}))},
showModelLayer:function(){this._toggleModelLayer(!0)},hideModelLayer:function(){this._toggleModelLayer(!1)},_toggleModelLayer:function(h){!!this.visibleModelNode.checked!==h&&this.visibleModelNode.click()}})})},"widgets/SuitabilityModeler/wro/WeightedOverlayLayerEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/dom-class dojo/dom-style dojo/string dojo/Evented dojo/fx dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/_Container ./containerUtils dojo/text!./templates/RemapRangeEditor.html dojo/text!./templates/WeightedOverlayLayerEditor.html dijit/form/HorizontalSlider dijit/form/NumberTextBox".split(" "),
function(a,y,p,q,m,w,z,r,u,v,B,t,C,A,d,c,e){var h=a([v,B,t,r],{i18n:null,templateString:d,baseClass:"reclass-range-editor",_setRemapRangeAttr:function(k){var n=" ("+(k.inputMin===k.inputMax?k.inputMin+"":k.inputMin+" - "+k.inputMax)+")";this.labelNode.innerHTML=k.label.substr(0,14)+(15<k.label.length?"\x26hellip;":"")+n;this.labelNode.title=k.label+n;this.outputValueNode.set("value",k.outputValue)},postCreate:function(){var k=this;this.inherited(arguments);this.outputValueNode.set("constraints",{round:0});
this.sliderObject=new e({"class":"slider-primary",name:"slider",value:this.outputValueNode.value,minimum:0,maximum:9,intermediateChanges:!0,discreteValues:10,showButtons:!1},this.slider);this.sliderObject.startup();this.own(q(this.sliderObject,"Change",function(n){k.outputValueNode.set("value",n)}));this.own(q(this.outputValueNode,"Change",function(n){k.outputValueNode&&k.outputValueNode.isValid()&&(k.remapRange.outputValue=n,k.sliderObject.set("value",n))}))},setOutputRange:function(k,n){var g=this.outputValueNode,
b=z.substitute(this.i18n.wro.validation.rangeMessage,[k,n]);g.set("constraints",{min:k,max:n});g.set("rangeMessage",b);this.sliderObject.set({minimum:k,maximum:n})}}),l=a([v,B,C,r],{i18n:null,templateString:'\x3cdiv\x3e\x3ctable class\x3d"${baseClass}-table"\x3e\x3ctbody data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e',minOutputValue:0,maxOutputValue:0,baseClass:"remap-ranges-editor",_setRemapRangesAttr:function(k){var n=[],g;for(g in k)n.push([k[g],k[g].inputMin]);
n.sort(function(D,E){return D[1]-E[1]});k=[];for(var b in n)k.push(n[b][0]);var f=this,x;A.removeChildren(this);p.forEach(k,function(D){D.label||(D.label=D.inputMin+" - "+D.inputMax);x=new h({i18n:f.i18n,remapRange:D});x.setOutputRange(f.minOutputValue,f.maxOutputValue);f.addChild(x)})},getRemapRanges:function(){var k=[];p.forEach(this.getChildren(),function(n){k.push(n.getRemapRange())});return k}});return a([v,B,t,C,r],{i18n:null,templateString:c,baseClass:"weighted-overlay-layer-editor",_setOverlayLayerAttr:function(k){this.weightNode.set("value",
k.weight);this.labelNode.innerHTML=k.title;this.remapRangesEditor=new l({i18n:this.i18n,minOutputValue:0,maxOutputValue:9,remapRanges:k.remapRanges},this.remapRangesEditorContainer)},postCreate:function(){this.inherited(arguments);this.attachWeightingToggle();this.weightNode.rangeMessage=this.i18n.wro.validation.rangeMessage100},attachWeightingToggle:function(){w.set(this.remapRangesEditorWrapper,"display","none");var k=0;this.own(q(this.layerNode,"click",y.hitch(this,function(){0===k?(m.add(this.domNode,
"is-open"),u.wipeIn({node:this.remapRangesEditorWrapper}).play(),k=1):(m.remove(this.domNode,"is-open"),u.wipeOut({node:this.remapRangesEditorWrapper}).play(),k=0)})))},isValid:function(){return this.weightNode.isValid()},_onWeightChange:function(){var k=parseInt(this.weightNode.valueNode.value,10);k=isNaN(k)?0:k;this.overlayLayer.weight=k;this.emit("WeightChange",k)},_onFocus:function(){this.weightNode.focusNode.select()},_onBlur:function(){var k=parseInt(this.weightNode.valueNode.value,10);isNaN(k)&&
(this.weightNode.value=0,this.emit("WeightChange",k))}})})},"widgets/SuitabilityModeler/wro/Colormap":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/Color dojo/dom-construct dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/Colormap.html".split(" "),function(a,y,p,q,m,w,z,r,u){return a([w,z,r],{context:null,i18n:null,templateString:u,definition:null,showLabels:!0,postCreate:function(){this.inherited(arguments);this.showLabels||
(this.__lowNode.style.display="none",this.__highNode.style.display="none")},_addColor:function(v,B){var t=null,C=B.label,A=B.value;C&&(C=C.trim());A&&(A=(""+A).trim());C&&0<C.length&&A&&0<A.length?(t=this.i18n.util.colorRamp.tipPattern,t=t.replace("{label}",C),t=t.replace("{value}",A)):C&&0<C.length?t=C:A&&0<A.length&&(t=A);B=new p(B.rgb);C=q.create("span",{className:"modeler-color-ramp-color"});m.set(C,"backgroundColor",B.toCss());t&&0<t.length&&(C.title=t);v.appendChild(C)},_setDefinitionAttr:function(v){this.definition=
v;var B=this.__colorsNode;B.innerHTML="";this.definition.colors&&y.forEach(this.definition.colors,function(t){this._addColor(B,t)},this)}})})},"widgets/SuitabilityModeler/wro/wroUtil":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/Deferred","esri/layers/RasterFunction"],function(a,y,p,q){return{serverSideRasterFunctionName:"WeightedOverlay_7_1_9_colormap",applyItemDataRenderingRule:function(m,w,z){try{if(this.isServerSideWRORule(z)){var r=new q;r.functionName=z.renderingRule.rasterFunction||
z.renderingRule.functionName;r.arguments=z.renderingRule.rasterFunctionArguments||z.renderingRule.arguments;r.variableName=z.renderingRule.variableName;m.setRenderingRule(r,!1)}else z&&z.renderingRule&&w.supportsClientSideWRO&&(r=new q(z.renderingRule),m.setRenderingRule(r,!1))}catch(u){console.error(u)}},hasServerSideWROFunction:function(m){var w=this.serverSideRasterFunctionName;return m&&(this.isServerSideWRORule(m)||m.rasterFunctionInfos&&y.some(m.rasterFunctionInfos,function(z){if(z&&z.name===
w)return!0}))?!0:!1},isServerSideWRORule:function(m){var w=this.serverSideRasterFunctionName;return m&&m.renderingRule&&m.renderingRule.rasterFunction&&m.renderingRule.rasterFunction===w||m&&m.renderingRule&&m.renderingRule.functionName&&m.renderingRule.functionName===w?!0:!1},makeItemData:function(m,w){m=m.designModelView.weightedOverlayService.modelToImageServiceLayer(w,{modelTitle:"New Model"});w={};a.mixin(w,m);delete w.id;delete w.url;delete w.opacity;delete w.title;return w},newWROInfo:function(){return{isGETen3:!1,
isWROLayer:!1,isWROModel:!1,hasServerSideWROFunction:!1,supportsClientSideWRO:!1}},validateWROLayer:function(m,w,z,r,u){var v=new p,B="Title Url Description InputRanges OutputValues NoDataRanges RangeLabels NoDataRangeLabels".split(" "),t=!1;z.isGETen3=10.3<=w.version;z.hasServerSideWROFunction=this.hasServerSideWROFunction(w);if(z.isGETen3){w.allowRasterFunction||r.push(m.wro.validation.notAllowRasterFunction);var C=[];w.fields&&(C=w.fields);y.forEach(B,function(A){y.some(C,function(d){return A===
d.name})||r.push(m.wro.validation.missingFieldPattern.replace("{field}",A))});0<r.length&&!u&&(t=!1);t?w.getKeyProperties().then(function(A){"undefined"!==typeof A&&null!==A&&A.IsWeightedOverlay?z.supportsClientSideWRO=!0:r.push(m.wro.validation.notIsWeightedOverlayProp);v.resolve()},function(A){v.reject(A)}):(0===r.length&&(z.supportsClientSideWRO=!0),v.resolve())}else z.hasServerSideWROFunction||r.push(m.wro.validation.notAWroService),v.resolve();return v},waitForLayer:function(m,w){var z=new p,
r=[];if(m.loaded)return z.resolve(m),z;if(m.loadError)return z.reject(m.loadError),z;var u=function(){y.forEach(r,function(v){v.remove()})};r.push(m.on("load",function(v){u();z.resolve(v.layer)}));r.push(m.on("error",function(v){u();v=v.error;try{v.message&&-1!==v.message.indexOf("Unable to complete")?(console.warn("layerAccessError",v),z.reject(Error(w.wro.validation.inaccessible))):z.reject(v)}catch(B){z.reject(v)}}));return z}}})},"widgets/SuitabilityModeler/chart/Chart":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-class dojo/on dojo/query dojo/string dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./Chart.html dojo/i18n!../nls/strings ./chart-util libs/echarts/echarts esri/Color esri/graphic esri/layers/FeatureLayer esri/layers/GraphicsLayer esri/symbols/SimpleLineSymbol esri/symbols/SimpleFillSymbol esri/tasks/query esri/toolbars/draw dijit/form/RadioButton dijit/form/Select".split(" "),
function(a,y,p,q,m,w,z,r,u,v,B,t,C,A,d,c,e,h,l,k,n,g){return a([r,u,v],{baseClass:"jimu-widget-suitability-modeler-chart",i18n:t,templateString:B,map:null,wroWidget:null,_activeDfd:null,_activeMode:null,_activeTool:null,_draw:null,_echart:null,_graphicsLayer:null,_isActive:!1,_polygonSymbol:null,_polygonSelectionSymbol:null,_selGraphicsLayer:null,_seriesData:null,_subjectLayerId:null,postCreate:function(){this.inherited(arguments);this._seriesData={};this.promptNode.innerHTML=t.chart.prompt;this.workingNode.title=
t.chart.working;this.polygonTool.title=t.chart.polygonTool;this.freehandPolygonTool.title=t.chart.freehandPolygonTool;this.selectTool.title=t.chart.selectTool;this.panTool.title=t.chart.panTool;this.clearButton.innerHTML=t.chart.clearButton;this.clearButton.title=t.chart.clearButton;this.noModelLayerNode.innerHTML=t.chart.noModelLayer;this.noSubjectLayersNode.innerHTML=t.chart.noSubjectLayers},startup:function(){this._started||(this.inherited(arguments),this._init())},destroy:function(){try{this._graphicsLayer&&
(this._graphicsLayer.clear(),this.map&&this.map.removeLayer(this._graphicsLayer)),this._selGraphicsLayer&&(this._selGraphicsLayer.clear(),this.map&&this.map.removeLayer(this._selGraphicsLayer)),this._clearImageLayerHandles(),this._clearSubjectLayerHandles()}catch(b){console.warn("Error destroying SuitabilityChart"),console.error(b)}this.inherited(arguments)},activate:function(){this._isActive=!0;this._deactivateDraw();var b=this._getModelLayer();b?(this._watchImageLayer(b),this.headerNode.style.display=
"",this.noModelLayerNode.style.display="none",this._echart||this._initEChart(),this._populateSubjectLayers(),"draw"===this._activeMode?this._activateDraw():"select"===this._activeMode&&this._activateSelect(),this._reorderGraphicsLayer(),this._refreshChartIfRequired()):(this.headerNode.style.display="none",this.noModelLayerNode.style.display="",this._updateSeries())},deactivate:function(){this._isActive=!1;this._deactivateDraw()},_activateDraw:function(){this._activeTool||(this._activeTool="polygon");
"polygon"===this._activeTool?this._activateDrawPolygon():"freehandPolygon"===this._activeTool?this._activateDrawFreehandPolygon():"pan"===this._activeTool&&this._activatePan();this._activeMode="draw"},_activateDrawFreehandPolygon:function(){this._clearSelectionIf();this._toggleSelect(!1);this._draw.activate(g.FREEHAND_POLYGON);this._disableInfoWindow();this._highlightTool("freehandPolygon");this._activeTool="freehandPolygon";this._updateMode("draw")},_activateDrawPolygon:function(){this._clearSelectionIf();
this._toggleSelect(!1);this._draw.activate(g.POLYGON);this._disableInfoWindow();this._highlightTool("polygon");this._activeTool="polygon";this._updateMode("draw")},_activatePan:function(){this._deactivateDraw();this._highlightTool("pan");this._activeTool="pan"},_activateSelect:function(){this._toggleSelect(!0);this._draw.activate(g.EXTENT);this._disableInfoWindow();this._highlightTool("select");this._activeTool="select";this._updateMode("select")},_clearGraphics:function(){if("draw"===this._activeMode)this._graphicsLayer&&
(this._graphicsLayer.clear(),this._refreshChart());else if("select"===this._activeMode){var b=this._getSubjectLayer();b&&"function"===typeof b.clearSelection&&(b.clearSelection(),this._refreshChart())}this._toggleWorking(!1)},_clearHandles:function(b){b&&(y.isArray(b)?p.forEach(b,function(f){f.remove()}):b.remove())},_clearImageLayerHandles:function(){this._clearHandles(this._imageLayerHandles);this._imageLayerHandles=this._watchingImageLayer=null},_clearSelectionIf:function(){if("select"===this._activeMode)try{var b=
null,f=this._subjectLayerId;this.map&&"string"===typeof f&&0<f.length&&(b=this.map.getLayer(f));if(b&&"function"===typeof b.clearSelection&&"function"===typeof b.getSelectedFeatures){var x=b.getSelectedFeatures();x&&0<x.length&&b.clearSelection()}}catch(D){console.warn("SuitabilityModeler: Error clearing selection"),console.error(D)}},_clearSubjectLayerHandles:function(){this._clearHandles(this._subjectLayerHandles);this._subjectLayerHandles=this._watchingSubjectLayer=null},_deactivateDraw:function(){this._draw&&
this._draw.deactivate();this._enableInfoWindow()},_disableInfoWindow:function(){this.map&&this.map.setInfoWindowOnClick(!1)},_enableInfoWindow:function(){this.map&&this.map.setInfoWindowOnClick(!0)},_getGraphics:function(){if("draw"===this._activeMode){if(this._graphicsLayer)return this._graphicsLayer.graphics}else if("select"===this._activeMode){var b;if(b=this._getSubjectLayer()){if(this._subjectLayerId=b.id,"function"===typeof b.getSelectedFeatures&&(b=b.getSelectedFeatures())&&0<b.length)return b}else this._subjectLayerId=
null}return null},_getLayerName:function(b){return b.name},_getModelLayer:function(){if(this.wroWidget){var b=this.wroWidget.imageServiceLayer;if(b&&C.isWROModelLayer(b))return b}return null},_getSeriesItem:function(b){b.hex||(b.hex="transparent");return{name:b.value,value:b.count,pct:b.pct,label:b.label,itemValue:b.value,hex:b.hex,itemStyle:{normal:{color:b.hex},emphasis:{color:b.hex}}}},_getSubjectLayer:function(){if(this.map){var b=this.subjectLayerSelect.get("value");if("string"===typeof b&&0<
b.length)return this.map.getLayer(b)}return null},_highlightTool:function(b){w(".icon",this.toolsSection).forEach(function(f){f.getAttribute("data-tool")===b?q.add(f,"selected"):q.remove(f,"selected")})},_init:function(){var b=this;this._polygonSymbol=new k("solid",new l("solid",new d([0,0,0,.6]),2),new d([0,255,255,.4]));this._polygonSelectionSymbol=new k("solid",new l("solid",new d([0,0,0,.6]),2),new d([0,255,255,.4]));this._graphicsLayer=new h;this.map.addLayer(this._graphicsLayer);this._selGraphicsLayer=
new h;this.map.addLayer(this._selGraphicsLayer);this._draw=new g(this.map,{});this.own(this._draw.on("draw-complete",function(f){f&&f.geometry&&b._whenDrawComplete(f.geometry)}));this._toggleWorking(!1);this._activeMode="draw";this.own(m(this.subjectLayerSelect,"change",function(){b._clearSelectionIf();b._seriesData.select=null;b._watchSubjectLayer(b._getSubjectLayer());"select"===b._activeMode&&b._refreshChart()}));this.own(this.map.on("layer-add",function(f){f&&C.isPolygonLayer(f.layer)&&b._populateSubjectLayers()}));
this.own(this.map.on("layer-remove",function(f){if(f&&C.isPolygonLayer(f.layer)){var x=b._getSubjectLayer();b._populateSubjectLayers();x&&x!==f.layer||(b._seriesData.select=null,"select"===b._activeMode&&b._refreshChart())}}))},_initEChart:function(){var b;this._echart=A.init(this.echartDiv,"light");this._echart.setOption({title:{show:!1},tooltip:{trigger:"item",confine:!0,formatter:function(f){if(f&&f.data&&"string"===typeof f.data.label)return b=t.chart.tipPattern,b=z.substitute(b,{category:f.data.itemValue,
label:f.data.label,percent:f.data.pct});b=t.chart.tipPattern2;return b=z.substitute(b,{category:f.name,percent:f.percent})}},series:[{name:"Series",type:"pie",radius:"55%",center:["50%","60%"],data:[]}]},!0)},_populateSubjectLayers:function(){var b=this,f=this.map,x=[],D=this._subjectLayerId;if(f){var E=f.graphicsLayerIds.slice(0).reverse();p.forEach(E,function(F){F=f.getLayer(F);if(C.isPolygonLayer(F)){var G={label:b._getLayerName(F),value:F.id};D===F.id&&(G.selected="selected");x.push(G)}});this.subjectLayerSelect.removeOption(this.subjectLayerSelect.getOptions());
this.subjectLayerSelect.addOption(x)}f&&0<x.length?(this.subjectLayerSelect.domNode.style.display="",this.noSubjectLayersNode.style.display="none"):(this.subjectLayerSelect.domNode.style.display="none",this.noSubjectLayersNode.style.display="");this._watchSubjectLayer(this._getSubjectLayer())},_refreshChart:function(){if(this._isActive){var b=this,f=[],x=[],D=this._activeMode||"unknown",E=this._getModelLayer(),F=this._getGraphics();this._seriesData[D]=null;if(E&&F&&0<F.length){this._toggleWorking(!0);
var G=this._activeDfd=C.computeHistograms(t,E,F);G.then(function(H){G.isCanceled()||G!==b._activeDfd||(b._toggleWorking(!1),p.forEach(H.colorCounts,function(I){0<I.count&&(f.push(b._getSeriesItem(I)),x.push(I.label))}),b._seriesData[D]=f,b._updateSeries(f,x))}).otherwise(function(H){console.warn("SuitabilityChart: Error computing histograms");console.error(H);G.isCanceled()||G!==b._activeDfd||(b._toggleWorking(!1),b._updateSeries())})}else this._updateSeries()}},_refreshChartIfRequired:function(){var b=
this._activeMode||"_";this._seriesData[b]?this._updateSeries(this._seriesData[b]):this._refreshChart()},_reorderGraphicsLayer:function(){if(this.map&&this._selGraphicsLayer){var b=this.map.graphicsLayerIds.length;this.map.reorderLayer(this._selGraphicsLayer,b)}this.map&&this._graphicsLayer&&(b=this.map.graphicsLayerIds.length,this.map.reorderLayer(this._graphicsLayer,b))},_toggleSelect:function(b){b?(this.selectContainer.style.visibility="visible",this._graphicsLayer.setVisibility(!1)):(this.selectContainer.style.visibility=
"hidden",this._graphicsLayer.setVisibility(!0))},_toggleWorking:function(b){this.workingNode.style.visibility=b?"visible":"hidden"},_updateMode:function(b){this._activeMode!==b&&(this._activeMode=b,this._refreshChartIfRequired())},_updateSeries:function(b){b=b||[];this._echart&&this._echart.setOption({series:[{data:b}]});var f,x;var D="\x3ctable class\x3d'series-table'\x3e\x3ctbody\x3e";p.forEach(b,function(E){x=z.substitute(t.chart.labelPattern,{category:E.itemValue,label:E.label});f="\x3ctr\x3e";
f+="\x3ctd class\x3d'color-cell'";f+=" style\x3d'background-color:"+E.hex+";'";f+="\x3e\x3c/td\x3e";f+="\x3ctd\x3e"+x+"\x3c/td\x3e";f+="\x3ctd class\x3d'num'\x3e"+E.pct+"%\x3c/td\x3e";f+="\x3c/tr\x3e";D+=f});D+="\x3c/tbody\x3e\x3c/table\x3e";this.tableNode.innerHTML=D},_watchImageLayer:function(b){if(!b||b!==this._watchingImageLayer){var f=this;this._clearImageLayerHandles();b?(this._watchingImageLayer=b,this._imageLayerHandles=[],this._imageLayerHandles.push(b.on("rendering-change",function(){f._seriesData=
{}}))):this._watchingImageLayer=null}},_watchSubjectLayer:function(b){if(!b||b!==this._watchingSubjectLayer){var f=this;this._clearSubjectLayerHandles();b?(this._watchingSubjectLayer=b,this._subjectLayerHandles=[],this._subjectLayerHandles.push(b.on("selection-complete",function(x){f._seriesData.select=null;"select"===f._activeMode&&f._refreshChart();b.hasWebGLSurface()&&(x=x&&x.features)&&(f._selGraphicsLayer.clear(),p.forEach(x,function(D){f._selGraphicsLayer.add(D.clone())}),f._selGraphicsLayer.setVisibility(!0),
f._reorderGraphicsLayer())})),this._subjectLayerHandles.push(b.on("selection-clear",function(){f._selGraphicsLayer.clear();f._seriesData.select=null;"select"===f._activeMode&&f._refreshChart()})),this._subjectLayerHandles.push(b.on("edits-complete",function(){f._selGraphicsLayer.clear();f._seriesData.select=null;"select"===f._activeMode&&f._refreshChart()}))):this._watchingSubjectLayer=null}},_whenDrawComplete:function(b){if("draw"===this._activeMode)b=new c(b,this._polygonSymbol),this._graphicsLayer.add(b),
this._refreshChart();else if("select"===this._activeMode){var f=this._getSubjectLayer();if(f&&"function"===typeof f.selectFeatures){f.getSelectionSymbol()||f.setSelectionSymbol(this._polygonSelectionSymbol);var x=e.SELECTION_NEW,D=new n;D.geometry=b;f.selectFeatures(D,x).then(function(){}).otherwise(function(E){console.warn("Error selecting features.");console.error(E)})}}}})})},"widgets/SuitabilityModeler/chart/chart-util":function(){define("dojo/_base/array dojo/Deferred dojo/json dojo/number esri/Color esri/request esri/geometry/Polygon".split(" "),
function(a,y,p,q,m,w,z){return{computeHistograms:function(r,u,v){var B=this,t=new y,C=u.maxImageWidth,A=u.maxImageHeight;v=this.makePolygon(v);C=this.getModelPixelSize(v,C,A);var d=u.renderingRule.toJson();this.execComputeHistograms(u,v,C,d).then(function(c){c=B.processHistogramResponse(r,c,d);t.resolve(c)}).otherwise(function(c){t.reject(c)});return t},execComputeHistograms:function(r,u,v,B){r=r.url+"/computeHistograms";var t={f:"json"};t.geometry=p.stringify(u.toJson());t.geometryType="esriGeometryPolygon";
t.renderingRule=p.stringify(B);t.pixelSize=p.stringify(v);return w({url:r,content:t,handleAs:"json",callbackParamName:"callback"},{})},getGeometries:function(r){var u=[];a.forEach(r,function(v){v.geometry&&u.push(v.geometry)});return u},getModelPixelSize:function(r,u,v){var B=0,t=0;r=r.getExtent();B=r.getWidth();t=r.getHeight();1>B&&(B=1);1>t&&(t=1);u=Math.max(Math.ceil(B/u),Math.ceil(t/v));return{x:u,y:u}},isPolygonLayer:function(r){return r&&"esriGeometryPolygon"===r.geometryType?!0:!1},isWROModelLayer:function(r){var u=
"Title Url Description InputRanges OutputValues NoDataRanges RangeLabels NoDataRangeLabels".split(" ");return r&&"ArcGISImageServiceLayer"===r.type&&10.3<=r.version&&r.renderingRule&&r.renderingRule.rasterFunctionArguments&&r.renderingRule.rasterFunctionArguments.Colormap&&r.allowRasterFunction&&"Nearest"===r.defaultResamplingMethod&&a.every(u,function(v){return a.some(r.fields,function(B){return v===B.name})})?!0:!1},makePolygon:function(r){return this.mergePolygons(this.getGeometries(r))},mergePolygons:function(r){var u=
null;1===r.length?u=r[0]:(u=new z(r[0].spatialReference),a.forEach(r,function(v){a.forEach(v.rings,function(B){u.addRing(B)})}));return u},processHistogramResponse:function(r,u,v){var B={noDataCount:0,colorCounts:[]};if(!u||!u.histograms||0===u.histograms.length)return B;var t=r.util.colorRamp.tipPattern,C=u.histograms[0],A=Math.round(C.min),d=Math.round(C.max)-1;0===A&&0<C.counts&&(B.noDataCount=C.counts[0]);var c=0;a.forEach(v.rasterFunctionArguments.Colormap,function(e){var h=0,l=e[0],k=null,n=
k;e=[e[1],e[2],e[3]];var g=(new m(e)).toHex();h=l<A||l>d?0:C.counts[l-A];c+=h;r.util.colorRamp[""+l]&&(k=r.util.colorRamp[""+l],n=t.replace("{label}",k).replace("{value}",l));B.colorCounts.push({count:h,value:l,pct:0,label:k,fullLabel:n,rgb:e,hex:g})});0<B.noDataCount&&(c+=B.noDataCount);0<c&&a.forEach(B.colorCounts,function(e){var h=e.count/c*100;h=q.format(h,{places:2});e.pct=h});return B}}})},"widgets/SuitabilityModeler/SaveModel":function(){define("dojo/_base/declare dojo/_base/array dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./SaveModel.html ./wro/PortalUtil dojo/i18n!./nls/strings".split(" "),
function(a,y,p,q,m,w,z,r){return a([p,q,m],{baseClass:"jimu-widget-suitability-modeler-save-model",i18n:r,templateString:w,dialog:null,itemData:null,layer:null,portal:null,portalUser:null,saveAs:!1,userContentUrl:null,username:null,wabWidget:null,postCreate:function(){this.inherited(arguments)},allowFolders:function(){return!this.saveAs&&this.layer.xtnWroItem&&this.layer.xtnWroItem.id?!1:!0},cancelClicked:function(){this.hide()},checkTags:function(u){var v="";u.split(",").forEach(function(B){B=B.trim();
0<B.length&&(0<v.length&&(v+=","),v+=B)});return v},hide:function(){var u=this;this.wroWidget.hideSavePanel().then(function(){u.destroyRecursive(!1)})},initUI:function(u){u&&!this.saveAs&&(this.summaryNode.value=u.snippet,this.descriptionNode.value=u.description,this.tagsNode.value=u.tags,this.titleNode.value=u.title)},okClicked:function(){this.validateAndSave()},populateFolders:function(u,v){var B=this;this.allowFolders()?u.user.getContent().then(function(t){t=t.folders;var C=new Option;C.value=
"";C.text=B.i18n.saveModel.homeFolderPattern.replace("{username}",B.username);B.folderSelect.add(C);y.forEach(t,function(A){var d=new Option;d.value=A.id;d.text=A.title;B.folderSelect.add(d)});v&&"string"===typeof v.folderId&&0<v.folderId.length&&(B.folderSelect.value=v.folderId)}):this.folderDiv.style.display="none"},show:function(){var u=this.wabWidget._wroWidget.savePanelNode,v=this.layer.xtnWroItem;this.populateFolders(this.portal,v);this.initUI(v);u.appendChild(this.domNode);this.wroWidget.showSavePanel()},
validateAndSave:function(){this.okButton.disabled=!0;var u=this.layer,v=null,B=this.username,t=this.folderSelect.value||"";this.messageNode.innerHTML="";var C=this.checkTags(this.tagsNode.value.trim());if(null===C||0===C.length)C="weightedOverlayModel";var A={type:"Image Service"};A.text=window.JSON.stringify(this.itemData);A.url=u.url;A.snippet=this.summaryNode.value.trim();A.description=this.descriptionNode.value.trim();A.tags=C;A.typeKeywords="geodesignModelerLayer";A.clearEmptyFields=!0;A.title=
this.titleNode.value.trim();if(0===A.title.length)this.okButton.disabled=!1;else{u.xtnWroItem&&!this.saveAs&&(v=u.xtnWroItem.id,t=u.xtnWroItem.folderId);var d={id:v,title:A.title,snippet:A.snippet,description:A.description,tags:A.tags,folderId:t},c=this;(new z({portal:this.portal,portalUser:this.portalUser,userContentUrl:this.userContentUrl})).saveItem(v,A,t,B).then(function(e){d.id=e.id;u.xtnWroItem=d;c.hide()}).otherwise(function(e){console.warn("Save Model failed.");console.warn(e);c.okButton.disabled=
!1;c.messageNode.innerHTML=c.i18n.saveModel.failed})}}})})},"widgets/SuitabilityModeler/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/SuitabilityModeler/wro/templates/WeightedOverlayWidget.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"tabsNode"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"weighted-overlay-pane weighted-overlay-select-layers"\r\n    data-dojo-attach-point\x3d"selectLayersViewNode"\x3e\r\n    \x3cdiv class\x3d"header" data-dojo-attach-point\x3d"selectLayersViewHeader"\x3e\r\n      \x3cspan role\x3d"button" class\x3d"slider-toggle pull-right"\r\n        data-dojo-attach-point\x3d"transparentSliderToggle"\r\n        data-dojo-attach-event\x3d"onclick: showHideTransparencySlider"\r\n        \x3e${i18n.wro.transparency}\x26nbsp;\x3cspan class\x3d"esri-icon-down"\x3e\x3c/span\x3e\r\n      \x3c/span\x3e\r\n      \x3ch4\x3e\x3cspan class\x3d"bullet-number"\x3e1\x3c/span\x3e${i18n.wro.selectLayersCaption}\x3c/h4\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"selectLayersView" class\x3d"body"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"footer"\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"jimu-btn btn-execute jimu-state-disabled"\r\n        data-dojo-attach-point\x3d"designModelButton"\r\n        data-dojo-attach-event\x3d"onclick:_onShowModelClicked"\r\n        \x3e${i18n.wro.designModel}\x26nbsp;\x3cspan class\x3d"esri-icon-right-arrow"\x3e\x3c/span\x3e\r\n      \x3c/button\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"weighted-overlay-pane weighted-overlay-design-model" style\x3d"left: 100%"\r\n    data-dojo-attach-point\x3d"designModelViewNode"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"designModelView"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"footer"\x3e\r\n      \x3cbutton type\x3d"button" class\x3d"jimu-btn jimu-btn-vacation btn-back pull-left"\r\n        data-dojo-attach-event\x3d"onclick:_onShowLayersClicked" \x3e\r\n        \x3cspan class\x3d"esri-icon-left"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"jimu-btn-text"\x3e${i18n.wro.selectLayers}\x3c/span\x3e\r\n      \x3c/button\x3e\r\n      \x3cdiv class\x3d"btn-group-spacer"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"btn-group pull-right"\x3e\r\n        \x3cbutton type\x3d"button" class\x3d"jimu-btn jimu-state-disabled"\r\n          data-dojo-attach-point\x3d"runModelButton"\r\n          data-dojo-attach-event\x3d"onclick:_onRunClick"\x3e${i18n.general.save}\x3c/button\x3e\r\n        \x3cbutton type\x3d"button" class\x3d"jimu-btn jimu-state-disabled"\r\n          data-dojo-attach-point\x3d"saveAsButton"\r\n          data-dojo-attach-event\x3d"onclick:_onSaveAsClick"\x3e${i18n.general.saveAs}\x3c/button\x3e\r\n        \x3cbutton type\x3d"button" class\x3d"jimu-btn"\r\n          data-dojo-attach-point\x3d"clearModelButton"\r\n          data-dojo-attach-event\x3d"onclick:_onClearClick"\x3e${i18n.general.clear}\x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"weighted-overlay-pane weighted-overlay-chart-container"\r\n    data-dojo-attach-point\x3d"chartViewNode"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"chartNode"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"weighted-overlay-pane weighted-overlay-save-panel"\r\n    style\x3d"display:none;" data-dojo-attach-point\x3d"savePanelNode"\x3e\r\n  \x3c/div\x3e\r\n\r\n\x3c/div\x3e\r\n',
"url:widgets/SuitabilityModeler/wro/templates/WeightedOverlayLayerSelector.html":'\x3cdiv class\x3d"${baseClass}"\x3e\r\n  \x3cspan class\x3d"btn-group pull-right"\x3e\r\n    \x3cspan class\x3d"icon-button" role\x3d"button"\r\n      data-dojo-attach-point\x3d"btnPreview"\r\n      \x3e\x3ci class\x3d"esri-icon-globe"\x3e\x3c/i\x3e\x3c/span\x3e\r\n    \x3cspan class\x3d"icon-button" role\x3d"button"\r\n      data-dojo-attach-point\x3d"btnInfo"\r\n      \x3e\x3ci class\x3d"esri-icon-description"\x3e\x3c/i\x3e\x3c/span\x3e\r\n  \x3c/span\x3e\r\n  \x3clabel\x3e\r\n    \x3cinput type\x3d"checkbox" name\x3d"wro-selected-layers"\r\n      data-dojo-type\x3d"dijit/form/CheckBox"\r\n      data-dojo-attach-point\x3d"chkModelLayer"/\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"txtLabel"\x3e\x3c/span\x3e\r\n  \x3c/label\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/SuitabilityModeler/wro/templates/RemapRangeEditor.html":'\x3ctr\x3e\r\n  \x3ctd class\x3d"${baseClass}-label" data-dojo-attach-point\x3d"labelNode"\x3e\x3c/td\x3e\r\n  \x3ctd\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"slider"\x3e\x3c/div\x3e\r\n  \x3c/td\x3e\r\n  \x3ctd\x3e\x3cinput type\x3d"text" class\x3d"${baseClass}-ouput-value"\r\n    data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n    data-dojo-attach-point\x3d"outputValueNode"\r\n    data-dojo-props\x3d"required:true"/\x3e\x3c/td\x3e\r\n\x3c/tr\x3e\r\n',
"url:widgets/SuitabilityModeler/wro/templates/WeightedOverlayLayerEditor.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"layer-row"\x3e\r\n    \x3cdiv class\x3d"layer-row--value pull-right"\x3e\r\n      \x3cinput class\x3d"${baseClass}-weight" type\x3d"text"\r\n        data-dojo-type\x3d"dijit/form/NumberTextBox"\r\n        data-dojo-attach-point\x3d"weightNode"\r\n        data-dojo-attach-event\x3d"onChange:_onWeightChange,onKeyUp:_onWeightChange,onMouseUp:_onFocus,onBlur:_onBlur"\r\n        data-dojo-props\x3d"constraints: {max: 100, min: 0, round:0},required:true"\r\n      /\x3e\x3cspan class\x3d"layer-row--value-mark"\x3e\x26#37;\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"layer-row--title" data-dojo-attach-point\x3d"layerNode" \x3e\r\n      \x3ci class\x3d"sliders-button pull-right" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/i\x3e\r\n      \x3clabel class\x3d"${baseClass}-label" data-dojo-attach-point\x3d"labelNode"\x3e\x3c/label\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"remapRangesEditorWrapper"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"remapRangesEditorContainer"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/SuitabilityModeler/wro/templates/Colormap.html":'\x3cspan class\x3d"modeler-color-ramp" style\x3d"width:100%;height:100%;"\r\n  data-dojo-attach-point\x3d"__ramp"\x3e\r\n  \x3cspan class\x3d"modeler-color-rampLabel"\r\n    data-dojo-attach-point\x3d"__lowNode" \x3e${i18n.util.colorRamp.low}\x3c/span\x3e\r\n  \x3cspan class\x3d"modeler-color-ramp-colors"\r\n    data-dojo-attach-point\x3d"__colorsNode"\x3e\x3c/span\x3e\r\n  \x3cspan class\x3d"modeler-color-rampLabel"\r\n    data-dojo-attach-point\x3d"__highNode"\x3e${i18n.util.colorRamp.high}\x3c/span\x3e\r\n\x3c/span\x3e\r\n',
"url:widgets/SuitabilityModeler/wro/templates/WeightedOverlayModelDesigner.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"header"\x3e\r\n    \x3cdiv class\x3d"model-colormap pull-right"\x3e\r\n      \x3cspan data-dojo-attach-point\x3d"colormapSelectorNode"\x3e\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3ch4\x3e\x3cspan class\x3d"bullet-number"\x3e2\x3c/span\x3e${i18n.wro.designModelCaption}\x3c/h4\x3e\r\n    \x3cdiv class\x3d"layer-visibility"\x3e\r\n      \x3clabel\x3e${i18n.wro.visible}:\r\n        \x3cinput type\x3d"checkbox" disabled\x3d"disabled"\r\n          data-dojo-attach-point\x3d"visibleModelNode"  /\x3e\r\n      \x3c/label\x3e\r\n      \x3clabel\x3e${i18n.wro.transparency}:\x3c/label\x3e\r\n      \x3cspan  class\x3d"modeler-transparency-slider" style\x3d"width:150px;"\r\n        data-dojo-attach-point\x3d"sliderNode"\r\n        data-dojo-type\x3d"dijit/form/HorizontalSlider"\r\n        data-dojo-props\x3d"minimum: 0, maximum:1, value: 0.0, intermediateChanges:true, showButtons:false" \x3e\r\n      \x3c/span\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"body"\x3e\r\n    \x3cdiv class\x3d"weighted-overlay-layer-editors"\r\n      data-dojo-attach-point\x3d"containerNode" \x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"weight-pct weight-pct-total"\x3e\r\n      \x3cdiv class\x3d"weight-pct-label"\x3e${i18n.wro.total}: \x3c/div\x3e\r\n      \x3cdiv class\x3d"weight-pct-total-wrapper"\r\n        data-dojo-attach-point\x3d"weightTotalWrapper" \x3e\r\n        \x3cspan data-dojo-attach-point\x3d"weightTotalNode"\x3e\x3c/span\x3e \x26#37;\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/SuitabilityModeler/chart/Chart.html":'\x3cdiv class\x3d"jimu-widget-suitability-modeler-chart"\x3e\r\n  \x3cdiv class\x3d"header" data-dojo-attach-point\x3d"headerNode"\x3e\r\n    \x3ch4 data-dojo-attach-point\x3d"promptNode"\x3e\x3c/h4\x3e\r\n    \x3cdiv class\x3d"tools-section" data-dojo-attach-point\x3d"toolsSection"\x3e\r\n      \x3cspan class\x3d"working" data-dojo-attach-point\x3d"workingNode"\x3e\x3c/span\x3e\r\n      \x3ca class\x3d"icon icon-polygon"\r\n        href\x3d"javascript:void(0)"\r\n        data-tool\x3d"polygon"\r\n        data-dojo-attach-point\x3d"polygonTool"\r\n        data-dojo-attach-event\x3d"onclick: _activateDrawPolygon"\r\n        \x3e\x3c/a\x3e\r\n      \x3ca class\x3d"icon icon-freehand-polygon"\r\n        href\x3d"javascript:void(0)"\r\n        data-tool\x3d"freehandPolygon"\r\n        data-dojo-attach-point\x3d"freehandPolygonTool"\r\n        data-dojo-attach-event\x3d"onclick: _activateDrawFreehandPolygon"\r\n        \x3e\x3c/a\x3e\r\n      \x3ca class\x3d"icon icon-select-features"\r\n        href\x3d"javascript:void(0)"\r\n        data-tool\x3d"select"\r\n        data-dojo-attach-point\x3d"selectTool"\r\n        data-dojo-attach-event\x3d"onclick: _activateSelect"\r\n        \x3e\x3c/a\x3e\r\n      \x3ca class\x3d"icon icon-pan"\r\n        href\x3d"javascript:void(0)"\r\n        data-tool\x3d"pan"\r\n        data-dojo-attach-point\x3d"panTool"\r\n        data-dojo-attach-event\x3d"onclick: _activatePan"\r\n        \x3e\x3c/a\x3e\r\n      \x3ca class\x3d"clear-button"\r\n        href\x3d"javascript:void(0)"\r\n        data-dojo-attach-point\x3d"clearButton"\r\n        data-dojo-attach-event\x3d"onclick: _clearGraphics"\r\n        \x3e\x3c/a\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"select-layer-section" style\x3d"clear:both;"\r\n      data-dojo-attach-point\x3d"selectContainer"\x3e\r\n      \x3cselect id\x3d"${id}_subjectLayerSelect" class\x3d"select-layer"\r\n        data-dojo-type\x3d"dijit/form/Select"\r\n        data-dojo-attach-point\x3d"subjectLayerSelect"\x3e\r\n      \x3c/select\x3e\r\n      \x3cdiv class\x3d"info" data-dojo-attach-point\x3d"noSubjectLayersNode"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"chart-section"\x3e\r\n    \x3cp class\x3d"info" data-dojo-attach-point\x3d"noModelLayerNode"\x3e\x3c/p\x3e\r\n    \x3cdiv class\x3d"chart-div" data-dojo-attach-point\x3d"echartDiv"\x3e\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"tableNode"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/SuitabilityModeler/SaveModel.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"header"\x3e\r\n    \x3ch4\x3e${i18n.saveModel.save}\x3c/h4\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"body"\x3e\r\n    \x3cdiv class\x3d"row"\x3e\r\n      \x3cspan class\x3d"lbl"\x3e\x3clabel for\x3d"${id}_title"\x3e${i18n.saveModel.title}\x3clabel\x3e\x3c/span\x3e\r\n      \x3cinput id\x3d"${id}_title" type\x3d"text" class\x3d"jimu-input" data-dojo-attach-point\x3d"titleNode"\x3e\x3c/input\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"row"\x3e\r\n      \x3cspan class\x3d"lbl"\x3e\x3clabel for\x3d"${id}_summary"\x3e${i18n.saveModel.summary}\x3clabel\x3e\x3c/span\x3e\r\n      \x3cinput id\x3d"${id}_summary" type\x3d"text" class\x3d"jimu-input" data-dojo-attach-point\x3d"summaryNode"\x3e\x3c/input\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"row"\x3e\r\n      \x3cspan class\x3d"lbl"\x3e\x3clabel for\x3d"${id}_description"\x3e${i18n.saveModel.description}\x3clabel\x3e\x3c/span\x3e\r\n      \x3ctextarea id\x3d"${id}_description" class\x3d"jimu-input" data-dojo-attach-point\x3d"descriptionNode"\x3e\x3c/textarea\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"row"\x3e\r\n      \x3cspan class\x3d"lbl"\x3e\x3clabel for\x3d"${id}_title"\x3e${i18n.saveModel.tags}\x3clabel\x3e\x3c/span\x3e\r\n      \x3cinput id\x3d"${id}_tags" type\x3d"text" class\x3d"jimu-input" value\x3d"weightedOverlayModel, geodesign"\r\n        data-dojo-attach-point\x3d"tagsNode"\x3e\x3c/input\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"row" data-dojo-attach-point\x3d"folderDiv"\x3e\r\n      \x3cspan class\x3d"lbl"\x3e\x3clabel for\x3d"${id}_folderSelect"\x3e${i18n.saveModel.folder}\x3clabel\x3e\x3c/span\x3e\r\n      \x3cselect id\x3d"${id}_folderSelect" class\x3d"folder-select-dropdown"\r\n        data-dojo-attach-point\x3d"folderSelect"\x3e\r\n      \x3c/select\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"footer"\x3e\r\n    \x3cdiv class\x3d"message" data-dojo-attach-point\x3d"messageNode"\x3e\x3c/div\x3e\r\n    \x3cbutton data-dojo-attach-point\x3d"okButton"\r\n      class\x3d"jimu-btn"\r\n      data-dojo-attach-event\x3d"onClick: okClicked"\r\n      \x3e${i18n.saveModel.save}\r\n    \x3c/button\x3e\r\n    \x3cbutton data-dojo-attach-point\x3d"cancelButton"\r\n      class\x3d"jimu-btn"\r\n      data-dojo-attach-event\x3d"onClick: cancelClicked"\r\n      \x3e${i18n.general.cancel}\r\n    \x3c/button\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/SuitabilityModeler/Widget.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"widgetNode"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',"url:widgets/SuitabilityModeler/css/style.css":'.jimu-widget-suitability-modeler .jimu-tab3 {height: 92%;}.jimu-widget-suitability-modeler .weighted-overlay-pane {top: 40px;}.jimu-widget-suitability-modeler .weighted-overlay-pane .jimu-widget-suitability-modeler-chart .header {max-height: 154px;}.jimu-widget-suitability-modeler-chart .header h4 {display: inline-block;}.jimu-widget-suitability-modeler-chart .tools-section {float: right;}.jimu-widget-suitability-modeler-chart .working {display: inline-block; visibility: hidden; margin-right: 4px; width: 16px; height: 16px; vertical-align: middle; background-image: url(images/LoadingAnimation16_Trans.gif); background-repeat: no-repeat; background-position: center;}.jimu-widget-suitability-modeler-chart .select-layer-section {margin-top: 8px; text-align: right; width: 100%;}.jimu-widget-suitability-modeler-chart .select-layer {width: 100%;}.jimu-widget-suitability-modeler-chart p.info {padding: 10px;}.jimu-widget-suitability-modeler-chart .chart-div {width: 150px; height: 150px; margin: auto;}.jimu-widget-suitability-modeler-chart .series-table {margin: auto; border-collapse: separate; border-spacing: 6px 6px;}.jimu-widget-suitability-modeler-chart .series-table td {white-space: nowrap;}.jimu-widget-suitability-modeler-chart .series-table td.num {text-align: right;}.jimu-widget-suitability-modeler-chart .series-table .color-cell {width: 20px; border-radius: 5px;}.jimu-widget-suitability-modeler-chart .clear-button {margin-left: 6px; margin-right: 6px; text-decoration: none;}.jimu-widget-suitability-modeler-chart .icon {display: inline-block; vertical-align: middle; margin-bottom: 4px; width: 40px; height: 40px; background-size: 24px 24px; background-position: center; background-repeat: no-repeat; border: 1px solid transparent; border-radius: 5px;}.jimu-widget-suitability-modeler-chart .icon.selected {border-color: #a3a3a3;}.jimu-widget-suitability-modeler-chart .icon-polygon {background-image: url("images/chart/draw-polygon.svg");}.jimu-widget-suitability-modeler-chart .icon-freehand-polygon {background-image: url("images/chart/draw-freehand.png");}.jimu-widget-suitability-modeler-chart .icon-select-features {background-image: url("images/chart/select-from-layer.svg");}.jimu-widget-suitability-modeler-chart .icon-pan {background-image: url("images/chart/pan1.svg");}.jimu-widget-suitability-modeler {position: relative; height: 100%;}.jimu-widget-frame.jimu-container .jimu-widget-suitability-modeler {background: #fff; position: static;}.jimu-widget-suitability-modeler .pull-left {float: left;}.jimu-rtl .jimu-widget-suitability-modeler .pull-left {float: right;}.jimu-widget-suitability-modeler .pull-right {float: right;}.jimu-rtl .jimu-widget-suitability-modeler .pull-right {float: left;}.jimu-widget-suitability-modeler label {display: inline-block; max-width: 100%; margin-bottom: 5px;}.jimu-widget-suitability-modeler .jimu-input {color: inherit; font-size: 12px;}.jimu-widget-suitability-modeler textarea.jimu-input {min-height: 60px;}.jimu-widget-suitability-modeler .jimu-btn {font-size: 12px; border: 0;}.jimu-widget-suitability-modeler .jimu-btn .esri-icon-left {display: inline-block;}.jimu-rtl .esri-icon-left::before {content: "\\e62b";}.jimu-rtl .esri-icon-right-arrow::before {content: "\\e65a";}.jimu-widget-suitability-modeler .dijitCheckBox {width: 16px; height: 16px; display: inline-block; cursor: pointer; border-radius: 2px; background-image: url(images/checkbox_default.png); background-position: 0 0;}.jimu-rtl .jimu-widget-suitability-modeler .dijitCheckBox {margin-left: 2px; margin-right: 0;}.jimu-widget-suitability-modeler .dijitCheckBoxChecked {background-image: url(images/checked_default.png);}.jimu-widget-suitability-modeler .dijitCheckBoxDisabled {background-image: url(images/checkbox_disabled.png);}.jimu-widget-suitability-modeler .dijitCheckBoxCheckedDisabled {background-image: url(images/checked_disabled.png);}.jimu-widget-suitability-modeler .dijitDropDownButton {margin: 0;}.jimu-widget-suitability-modeler .dijitDropDownButton .dijitButtonNode {background: transparent; border: 0; padding: 4px 0; color: #196fa6; font-weight: bold; box-shadow: none; border-radius: 0;}.jimu-widget-suitability-modeler .dijitDropDownButton .dijitButtonNode .dijitButtonContents {border-color: transparent;}.jimu-widget-suitability-modeler .dijitDropDownButton .dijitButtonNode .dijitInputField {padding: 0 5px;}.jimu-widget-suitability-modeler .dijitDropDownButton .dijitButtonNode .dijitArrowButton {background: transparent; border: 0;}.jimu-widget-suitability-modeler .dijitDropDownButton .dijitButtonNode.dijitSelectFocused .dijitArrowButton {padding: 0;}.jimu-widget-suitability-modeler .dijitArrowButtonInner {background-image: none;}.jimu-widget-suitability-modeler .dijitArrowButtonInner:after {content: "\\e681"; font-family: \'CalciteWebCoreIcons\' !important; speak: none; font-style: normal; font-weight: normal; font-variant: normal; text-transform: none; line-height: 1; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;}.weighted-overlay-model-designer-popup {padding: 0; margin-left: -15px;}.jimu-rtl .weighted-overlay-model-designer-popup {margin-left: -auto; margin-right: -15px;}.weighted-overlay-model-designer-popup .dijitTooltipConnector {display: none;}.weighted-overlay-model-designer-popup .dijitTooltipContainer {padding: 10px; border-color: #ccc; -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0; -webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25); -moz-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25); box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25);}.weighted-overlay-model-designer-popup.dijitMenuPopup {-webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25); -moz-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25); box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25);}.weighted-overlay-model-designer-popup .dijitMenu {border-color: #ccc;}.weighted-overlay-model-designer-popup .dijitMenu .dijitMenuItem td {padding: 10px 5px; border: 0;}.weighted-overlay-model-designer-popup .dijitMenu .dijitMenuItemHover td, .weighted-overlay-model-designer-popup .dijitMenu .dijitMenuItemActive td, .weighted-overlay-model-designer-popup .dijitMenu .dijitMenuItemSelected td {background-color: #f4f4f4; background-image: none;}.weighted-overlay-model-designer-popup .dijitMenu .dijitSelectSelectedOption td, .weighted-overlay-model-designer-popup .dijitMenu .dijitSelectSelectedOption.dijitMenuItemHover td, .weighted-overlay-model-designer-popup .dijitMenu .dijitSelectSelectedOption.dijitMenuItemSelected td {background-color: #196fa6; background-image: none; color: #fff; font-weight: normal;}.weighted-overlay-model-designer-popup .dijitMenu .dijitMenuItem td .dijitMenuExpand {display: none;}.weighted-overlay-widget, .weighted-overlay-pane {position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow-x: hidden; overflow-y: auto;}.weighted-overlay-pane {-webkit-transition: left 0.3s ease-out; transition: left 0.3s ease-out;}.jimu-rtl .weighted-overlay-pane {-webkit-transition-property: right; transition-property: right;}.weighted-overlay-widget {}.weighted-overlay-pane .header {border-bottom: 1px solid #e7e7e7; background: #f8f8f8; padding: 15px; max-height: 54px; position: relative;}.weighted-overlay-pane .header .bullet-number {display: inline-block; width: 20px; height: 20px; font-size: 12px; font-weight: normal; line-height: 20px; background-color: #0079c1; text-align: center; color: #fff; margin-right: 10px; border-radius: 50%;}.jimu-rtl .weighted-overlay-pane .header .bullet-number {margin-left: 10px; margin-right: auto;}.weighted-overlay-pane .header h4 {font-family: "Avenir Heavy"; font-size: 14px; line-height: 24px; margin: 0;}.weighted-overlay-pane .header .slider-toggle {line-height: 24px; cursor: pointer; opacity: 0.5;}.weighted-overlay-pane .header .slider-toggle:hover {opacity: 1;}.weighted-overlay-pane .body {padding: 0; position: absolute; top: 54px; width: 100%; bottom: 50px; overflow: auto; z-index: 1; -webkit-transition: top, 0.2s, ease; transition: top, 0.2s, ease;}.weighted-overlay-pane .footer {width: 100%; padding: 10px 15px; position: absolute; bottom: 0;}.width-smaller-than-350 .weighted-overlay-pane .footer .jimu-btn {min-width: 0;}.width-smaller-than-350 .weighted-overlay-pane .footer .jimu-btn .jimu-btn-text {display: none;}.weighted-overlay-pane .footer .btn-execute {width: 100%; text-align: center;}.weighted-overlay-pane .footer .btn-execute.jimu-btn {background-color: #59A700; color: #fff;}.weighted-overlay-pane .footer .btn-execute.jimu-btn.jimu-state-disabled {background-color: #ccc; color: #fff; cursor: not-allowed;}.weighted-overlay-pane .footer .btn-execute:hover {background-color: #417505;}.weighted-overlay-pane .footer .btn-execute:active {background-color: #59A700;}.weighted-overlay-pane .footer .btn-execute .esri-icon-right-arrow {display: inline-block;}.transparency-container {background-color: #efefef; border-bottom: 1px solid #e7e7e7; position: absolute; top: 54px; left: 0; right: 0; opacity: 0; -webkit-transition: opacity 0.2s ease 0.1s; transition: opacity 0.2s ease 0.1s;}.transparency-slider-show\x3e.panel-heading {padding-bottom: 55px; position: relative;}.transparency-slider-show .transparency-container {opacity: 1;}.transparency-slider-show .modeler-transparency-slider {display: inline-block; width: 100%; margin-left: 0; margin-right: 0; padding-left: 15px; padding-right: 15px;}.transparency-slider-show.weighted-overlay-pane .body {top: 96px;}.weighted-overlay-select-layers {z-index: 1;}.weighted-overlay-layer-selector {padding: 10px 15px; line-height: 20px; width: 100%;}.weighted-overlay-layer-selector:hover, .weighted-overlay-layer-selector:active {background: rgba(0, 0, 0, 0.05);}.weighted-overlay-layer-selector label {display: block; font-weight: 500; vertical-align: middle; white-space: normal; margin-left: 10px; margin-right: 10px; margin-bottom: 0;}.weighted-overlay-layer-selector .icon-button {display: inline-block; color: #808080; font-size: 14px; line-height: 1; padding: 0px 3px; cursor: pointer;}.weighted-overlay-layer-selector .icon-button:hover {color: #000;}.weighted-overlay-layer-selector .icon-button i {line-height: 20px;}.weighted-overlay-layer-selector .btn-group .btn-switch-toggle {margin: 8px 3px; height: 14px; width: 24px;}.weighted-overlay-layer-selector .btn-group .btn-switch-toggle::before {height: 10px; width: 10px;}.weighted-overlay-layer-selector .btn-group .btn-switch-toggle.checked::before {right: 12px;}.jimu-rtl .weighted-overlay-layer-selector .btn-group .btn-switch-toggle.checked::before {left: 12px; right: auto;}.modeler-color-ramp {vertical-align: top; display: block; font-size: smaller; font-weight: 400;}.modeler-color-ramp .modeler-color-ramp-colors {margin-left: 2px; margin-right: 2px;}.modeler-color-ramp .modeler-color-ramp-color {display: inline-block; width: 5px; height: 8px; margin-bottom: 2px;}.layer-visibility {display: none;}.weighted-overlay-design-model {z-index: 2;}.weighted-overlay-design-model [class^\x3d"col-"], .weighted-overlay-design-model [class*\x3d" col-"] {padding: 0;}.weighted-overlay-layer-editors {position: absolute; left: 0; right: 0; bottom: 70px; top: 0; overflow-y: auto;}.weighted-overlay-layer-editor .layer-row {padding: 10px 15px;}.weighted-overlay-layer-editor .layer-row--title {line-height: 30px; cursor: pointer;}.weighted-overlay-layer-editor .layer-row--title label {margin-right: 5px; margin-bottom: 0;}.weighted-overlay-layer-editor .layer-row--value {color: #808080;}.weighted-overlay-layer-editor .layer-row--value .dijitTextBox {width: 5em; text-align: center; margin: 0;}.weighted-overlay-layer-editor .layer-row--value-mark {display: inline-block; width: 16px; text-align: center;}.weighted-overlay-layer-editor .layer-row--value .dijitTextBox .dijitValidationContainer {display: none;}.weighted-overlay-layer-editor .layer-row .sliders-button {display: inline-block; width: 30px; height: 30px; background-image: url("images/sliders.png"); background-repeat: no-repeat; background-position: center; margin-left: 5px; margin-right: 5px;}.weighted-overlay-layer-editor .layer-row .sliders-button:hover, .weighted-overlay-layer-editor.is-open .layer-row .sliders-button {background-image: url("images/sliders_hover.png");}.weighted-overlay-layer-editor.is-open .layer-row .sliders-button {position: relative;}.weighted-overlay-layer-editor.is-open .layer-row .sliders-button::before {content: "\\e609"; font-family: \'CalciteWebCoreIcons\' !important; speak: none; font-style: normal; font-weight: normal; font-variant: normal; text-transform: none; line-height: 1; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; font-size: 12px; color: #000; position: absolute; bottom: -14px; left: 50%; margin-left: -6px;}@media (-webkit-min-device-pixel-ratio: 2) {.weighted-overlay-layer-editor .layer-row .sliders-button {background-image: url("images/sliders@2x.png"); background-size: 16px;} .weighted-overlay-layer-editor .layer-row .sliders-button:hover, .weighted-overlay-layer-editor.is-open .layer-row .sliders-button {background-image: url("images/sliders_hover@2x.png"); background-size: 16px;}}.remap-ranges-editor {background-color: #f8f8f8; border-top: 1px solid #ccc; border-bottom: 1px solid #ccc; border-left: 3px solid #0079c1; padding: 10px 15px;}.jimu-rtl .remap-ranges-editor {border-left: 0; border-right: 3px solid #0079c1;}.remap-ranges-editor .dijitTextBox {float: right; width: 3em; margin-left: 5px; margin-right: 16px; text-align: center;}.jimu-rtl .remap-ranges-editor .dijitTextBox {float: left; margin-left: 16px; margin-right: 5px;}.remap-ranges-editor .dijitTextBox .dijitValidationContainer {display: none;}.remap-ranges-editor .dijitInputField {padding: 5px 0;}.remap-ranges-editor .dijitNumberTextBox .dijitInputInner {text-align: center;}.remap-ranges-editor-table {width: 100%; border-collapse: collapse;}.remap-ranges-editor-table\x3etbody\x3etr\x3etd {padding-bottom: 10px;}.reclass-range-editor .reclass-range-editor-label {width: 60%; color: #596679; font-weight: 500; font-size: smaller; padding-right: 5px;}.jimu-rtl .reclass-range-editor .reclass-range-editor-label {padding-left: 5px; padding-right: 0;}.reclass-range-editor .dijitSlider {width: 100%; min-width: 80px; margin: 0 5px;}.width-smaller-than-350 .reclass-range-editor .dijitSlider {min-width: 100px;}.modeler-transparency-slider {display: none; margin: 15px;}.alert-danger {background-color: #f3ded7; border-top: 1px solid #e4a793; border-bottom: 1px solid #e4a793;}.alert-success {background-color: #ddeedb; border-top: 1px solid #9bc19c; border-bottom: 1px solid #9bc19c;}.weight-pct-total {position: absolute; bottom: 0; left: 0; right: 0; font-weight: bold; padding: 10px 15px; margin-bottom: 24px; border-left: 0; border-right: 0;}.weight-pct-total .weight-pct-label {float: left;}.jimu-rtl .weight-pct-total .weight-pct-label {float: right;}.weight-pct-total .weight-pct-total-wrapper {float: right;}.jimu-rtl .weight-pct-total .weight-pct-total-wrapper {float: left;}.weighted-overlay-save-panel {background-color: rgba(255, 255, 255, 0.65); z-index: 3;}.jimu-widget-suitability-modeler-save-model {background: #fff; height: auto; margin: 10px; position: static; width: auto; box-shadow: 0 3px 15px rgba(0, 0, 0, 0.25); border: 1px solid rgba(0, 0, 0, 0.25);}.show-panel-animated .jimu-widget-suitability-modeler-save-model {-webkit-animation-name: fade-in-top; animation-name: fade-in-top; -webkit-animation-duration: .4s; animation-duration: .4s; -webkit-animation-timing-function: ease-in; animation-timing-function: ease-in;}.hide-panel-animated .jimu-widget-suitability-modeler-save-model {-webkit-animation-name: fade-out-top; animation-name: fade-out-top; -webkit-animation-duration: .4s; animation-duration: .4s; -webkit-animation-timing-function: ease-out; animation-timing-function: ease-out;}.jimu-widget-suitability-modeler-save-model .header {border-top: 2px solid #24b5cc;}.jimu-widget-suitability-modeler-save-model .body {position: static;}.jimu-widget-suitability-modeler-save-model .footer {position: static; text-align: right;}.jimu-rtl .jimu-widget-suitability-modeler-save-model .footer {text-align: left;}.jimu-widget-suitability-modeler-save-model .row {padding: 10px 15px;}.jimu-widget-suitability-modeler-save-model .row .lbl {display: inline-block; width: 100px;}.jimu-widget-suitability-modeler-save-model .row .jimu-input {width: 100%;}.jimu-widget-suitability-modeler-save-model .folder-select-dropdown {width: 55%;}.jimu-widget-suitability-modeler-save-model .action-bar {margin-top: 20px; margin-left: 100px;}.jimu-rtl .jimu-widget-suitability-modeler-save-model .action-bar {margin-left: auto; margin-right: 100px;}.jimu-widget-suitability-modeler-save-model .action-bar .message {margin-top: 10px; font-style: italic;}.BoxTheme .jimu-widget-suitability-modeler .jimu-btn {min-width: 0;}.DartTheme select {background-color: #4c4c4c; color: white;}.DartTheme .jimu-widget-frame.jimu-container .jimu-widget-suitability-modeler {background-color: transparent;}.DartTheme .weighted-overlay-pane .header {background-color: transparent;}.DartTheme .weighted-overlay-pane .header {padding: 10px 0; border-bottom-color: transparent;}.DartTheme .jimu-widget-suitability-modeler {margin: -10px;}.DartTheme .weighted-overlay-layer-selector {padding-left: 5px; padding-right: 5px;}.DartTheme .weighted-overlay-layer-selector .icon-button:hover {color: #fff;}.DartTheme .weighted-overlay-layer-editor .layer-row .sliders-button:hover,.DartTheme .weighted-overlay-layer-editor.is-open .layer-row .sliders-button {background-image: url("images/sliders_hover_white.png");}.DartTheme .transparency-container {background-color: rgba(0, 0, 0, 0.2); border-bottom: 0;}.DartTheme .remap-ranges-editor {background-color: rgba(0, 0, 0, 0.2); border: 0;}.DartTheme .weighted-overlay-pane .footer {padding: 0;}.DartTheme .weighted-overlay-save-panel {background-color: rgba(0, 0, 0, 0.25);}.DartTheme .jimu-widget-suitability-modeler-save-model {background-color: #646464; height: auto; margin: 0; position: absolute; top: 5px; left: 0; right: 0; bottom: 5px; overflow: auto;}.DartTheme .jimu-widget-suitability-modeler-save-model .header,.DartTheme .jimu-widget-suitability-modeler-save-model .footer {padding: 5px 10px;}.DartTheme .alert-danger {background-color: #622721; border-top-color: #843117; border-bottom-color: #843117;}.DartTheme .alert-success {background-color: #285328; border-top-color: #376e37; border-bottom-color: #376e37;}.LaunchpadTheme .jimu-widget-suitability-modeler .dijitArrowButtonInner:after {content: none;}.LaunchpadTheme .model-colormap {margin-top: -5px;}.LaunchpadTheme .weighted-overlay-model-designer-popup {margin: 0;}.TabTheme .jimu-widget-sidebar-controller .weighted-overlay-pane .footer {padding: 0;}.TabTheme .jimu-widget-sidebar-controller .jimu-widget-suitability-modeler-save-model .footer {padding: 5px;}@media (-webkit-min-device-pixel-ratio: 2) {.DartTheme .weighted-overlay-layer-editor .layer-row .sliders-button:hover, .DartTheme .weighted-overlay-layer-editor.is-open .layer-row .sliders-button {background-image: url("images/sliders_hover_white@2x.png");}}@-webkit-keyframes fade-in-top {from {opacity: 0; -webkit-transform: translate3d(0, -50px, 0);} to {opacity: 1; -webkit-transform: translate3d(0, 0, 0);}}@keyframes fade-in-top {from {opacity: 0; transform: translate3d(0, -50px, 0);} to {opacity: 1; transform: translate3d(0, 0, 0);}}@-webkit-keyframes fade-out-top {from {opacity: 1; -webkit-transform: translate3d(0, 0, 0);} to {opacity: 0; -webkit-transform: translate3d(0, -50px, 0);}}@keyframes fade-out-top {from {opacity: 1; transform: translate3d(0, 0, 0);} to {opacity: 0; transform: translate3d(0, -50px, 0);}}',
"*now":function(a){a(['dojo/i18n!*preload*widgets/SuitabilityModeler/nls/Widget*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/dom-class dojo/Deferred jimu/portalUrlUtils jimu/portalUtils jimu/tokenUtils jimu/BaseWidget dijit/_WidgetsInTemplateMixin ./WroContext ./wro/PortalUtil ./wro/WeightedOverlayWidget ./wro/wroUtil ./chart/Chart ./SaveModel esri/layers/ArcGISImageServiceLayer jimu/dijit/TabContainer3".split(" "),function(a,y,p,q,m,w,z,r,u,v,B,t,C,A,d,c){return a([z,r],{name:"SuitabilityModeler",baseClass:"jimu-widget-suitability-modeler",_chart:null,_wroWidget:null,postCreate:function(){this.inherited(arguments)},
onClose:function(){this.inherited(arguments);if(this._wroWidget)this._wroWidget.onClose()},onDeActive:function(){this.inherited(arguments);this._chart&&this._chart._isActive&&this._chart._activatePan()},onOpen:function(){this.inherited(arguments);if(this._wroWidget)this._wroWidget.onOpen()},startup:function(){if(!this._started){this.inherited(arguments);this._checkConfig();var e=this,h=this.appConfig.portalUrl,l=!!this.config.allowSaveAs&&!!w.userHaveSignInPortal(h);l?this._getUser().then(function(k){k?
k&&"1"===k.level&&(l=!1):l=!1;e._init(l,k)}):this._init(l,null);this.resize()}},resize:function(){350>this.domNode.clientWidth?y.add(this.domNode,"width-smaller-than-350"):y.remove(this.domNode,"width-smaller-than-350")},_checkConfig:function(){this.config||(this.config={})},_getUser:function(){var e=new p,h=this.appConfig.portalUrl;w.userHaveSignInPortal(h)?m.getPortal(h).getUser().then(function(l){e.resolve(l)}).otherwise(function(l){console.warn("WeighterRasterOverlay._getUser error:",l);e.resolve(null)}):
e.resolve(null);return e},_init:function(e,h){var l=this,k,n=this.config.modelItem;if(n&&"string"===typeof n.id&&0<n.id.length&&"string"===typeof n.url&&0<n.url.length){this.config.imageServiceUrl=n.url;var g=m.getPortal(this.appConfig.portalUrl),b=new v({portal:g,portalUser:h,userContentUrl:null});b.readItem(n.id).then(function(f){k=f;return b.readItemJsonData(n.id)}).then(function(f){l._load(e,h,k,f)}).otherwise(function(f){console.warn("Error loading WRO item",n.id);console.error(f);l._load(e,
h)})}else this._load(e,h)},_load:function(e,h,l,k){var n=this,g=this.nls,b=m.getPortal(this.appConfig.portalUrl),f=new u({allowSaveAs:e,getMap:function(){return n.map}});this._chart=new C({map:this.map});this._wroWidget=new B({chart:this._chart,context:f,i18n:g},this.widgetNode);this._wroWidget.startup();this._chart.wroWidget=this._wroWidget;this._chart.placeAt(this._wroWidget.chartNode);this._wroWidget.initializeTabs(c);var x=[],D=t.newWROInfo(),E=g.wro.validation.invalidItemCaption;if("string"===
typeof this.config.imageServiceUrl){var F=this.config.imageServiceUrl.trim();F=f.checkMixedContent(F);var G=new d(F,{id:f.generateRandomId()});G.setVisibility(!1);l&&(G._wabProperties={itemLayerInfo:{itemId:l.id,itemUrl:b+"/sharing/rest/content/items/"+encodeURIComponent(l.id),portalUrl:b.portalUrl}});t.waitForLayer(G,g).then(function(){return t.validateWROLayer(g,G,D,x,!1)}).then(function(){0<x.length?f.showMessages(E,F,x):(t.applyItemDataRenderingRule(G,D,k),n.map.addLayer(G),n._wroWidget.set("imageServiceLayer",
G))}).otherwise(function(H){console.warn("Error loading WRO layer",F);console.error(H);H.message?f.showMessages(E,F,[H.message]):f.showMessages(E,F,[g.wro.validation.inaccessible])})}this.own(this._wroWidget.designModelView.on("model-run",function(H){if(e&&H&&H.options&&H.options.saveAs){H=t.makeItemData(n._wroWidget,H.model);var I=q.getUserContentUrl(b.portalUrl,h.username);(new A({itemData:H,layer:G,portal:b,portalUser:h,saveAs:!0,userContentUrl:I,username:h.username,wabWidget:n,wroWidget:n._wroWidget})).show()}}))}})});