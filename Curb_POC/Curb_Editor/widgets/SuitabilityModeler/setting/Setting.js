// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/SuitabilityModeler/WroContext":function(){define(["dojo/_base/declare","./wro/Context","jimu/dijit/Message"],function(A,B,p){return A([B],{showError:function(t,b){b&&b.message?this.showMessage(t,b.message):this.showMessage(t,b)},showMessage:function(t,b){new p({titleLabel:t,message:b})},showMessages:function(t,b,l){var e=document.createElement("div");if("string"===typeof b&&0<b.length){var c=document.createElement("p");c.appendChild(document.createTextNode(b));e.appendChild(c)}c=
document.createElement("ul");e.appendChild(c);for(b=0;b<l.length;b++){var k=document.createElement("li");k.appendChild(document.createTextNode(l[b]));c.appendChild(k)}new p({titleLabel:t,message:e})}})})},"widgets/SuitabilityModeler/wro/Context":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(A,B){return A([],{allowSaveAs:!0,i18n:null,constructor:function(p){B.mixin(this,p)},checkMixedContent:function(p){"string"===typeof window.location.href&&0===window.location.href.indexOf("https://")&&
"string"===typeof p&&0===p.indexOf("http://")&&(p="https:"+p.substring("5"));return p},generateRandomId:function(){var p=null;p="function"===typeof Date.now?Date.now():(new Date).getTime();var t=(""+Math.random()).replace("0.","r");return(p+""+t).replace(/-/g,"")},getMap:function(){return null},showError:function(p,t){console.warn("wro/Context.showError",p,t)},showMessage:function(p,t){console.warn("wro/Context.showMessage",p,t)},showMessages:function(p,t,b){console.warn("wro/Context.showMessages",
p,t,b)}})})},"widgets/SuitabilityModeler/wro/wroUtil":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/Deferred","esri/layers/RasterFunction"],function(A,B,p,t){return{serverSideRasterFunctionName:"WeightedOverlay_7_1_9_colormap",applyItemDataRenderingRule:function(b,l,e){try{if(this.isServerSideWRORule(e)){var c=new t;c.functionName=e.renderingRule.rasterFunction||e.renderingRule.functionName;c.arguments=e.renderingRule.rasterFunctionArguments||e.renderingRule.arguments;c.variableName=
e.renderingRule.variableName;b.setRenderingRule(c,!1)}else e&&e.renderingRule&&l.supportsClientSideWRO&&(c=new t(e.renderingRule),b.setRenderingRule(c,!1))}catch(k){console.error(k)}},hasServerSideWROFunction:function(b){var l=this.serverSideRasterFunctionName;return b&&(this.isServerSideWRORule(b)||b.rasterFunctionInfos&&B.some(b.rasterFunctionInfos,function(e){if(e&&e.name===l)return!0}))?!0:!1},isServerSideWRORule:function(b){var l=this.serverSideRasterFunctionName;return b&&b.renderingRule&&b.renderingRule.rasterFunction&&
b.renderingRule.rasterFunction===l||b&&b.renderingRule&&b.renderingRule.functionName&&b.renderingRule.functionName===l?!0:!1},makeItemData:function(b,l){b=b.designModelView.weightedOverlayService.modelToImageServiceLayer(l,{modelTitle:"New Model"});l={};A.mixin(l,b);delete l.id;delete l.url;delete l.opacity;delete l.title;return l},newWROInfo:function(){return{isGETen3:!1,isWROLayer:!1,isWROModel:!1,hasServerSideWROFunction:!1,supportsClientSideWRO:!1}},validateWROLayer:function(b,l,e,c,k){var r=
new p,n="Title Url Description InputRanges OutputValues NoDataRanges RangeLabels NoDataRangeLabels".split(" "),F=!1;e.isGETen3=10.3<=l.version;e.hasServerSideWROFunction=this.hasServerSideWROFunction(l);if(e.isGETen3){l.allowRasterFunction||c.push(b.wro.validation.notAllowRasterFunction);var D=[];l.fields&&(D=l.fields);B.forEach(n,function(f){B.some(D,function(m){return f===m.name})||c.push(b.wro.validation.missingFieldPattern.replace("{field}",f))});0<c.length&&!k&&(F=!1);F?l.getKeyProperties().then(function(f){"undefined"!==
typeof f&&null!==f&&f.IsWeightedOverlay?e.supportsClientSideWRO=!0:c.push(b.wro.validation.notIsWeightedOverlayProp);r.resolve()},function(f){r.reject(f)}):(0===c.length&&(e.supportsClientSideWRO=!0),r.resolve())}else e.hasServerSideWROFunction||c.push(b.wro.validation.notAWroService),r.resolve();return r},waitForLayer:function(b,l){var e=new p,c=[];if(b.loaded)return e.resolve(b),e;if(b.loadError)return e.reject(b.loadError),e;var k=function(){B.forEach(c,function(r){r.remove()})};c.push(b.on("load",
function(r){k();e.resolve(r.layer)}));c.push(b.on("error",function(r){k();r=r.error;try{r.message&&-1!==r.message.indexOf("Unable to complete")?(console.warn("layerAccessError",r),e.reject(Error(l.wro.validation.inaccessible))):e.reject(r)}catch(n){e.reject(r)}}));return e}}})},"jimu/dijit/ItemSelector":function(){define("dojo/_base/declare dojo/topic dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/ItemSelector.html dojo/Evented dojo/_base/lang dojo/_base/config dojo/_base/array dojo/_base/html dojo/_base/Deferred dojo/promise/all dojo/query dojo/on dojo/dom-style jimu/utils jimu/portalUtils jimu/tokenUtils jimu/portalUrlUtils jimu/dijit/ViewStack jimu/dijit/Search jimu/dijit/TabContainer3 jimu/dijit/_ItemTable jimu/dijit/BindLabelPropsMixin dijit/form/RadioButton".split(" "),
function(A,B,p,t,b,l,e,c,k,r,n,F,D,f,m,x,d,g,w,q,u,v,z,C,y){return A([p,t,b,y,e],{templateString:l,declaredClass:"jimu.dijit.ItemSelector",baseClass:"jimu-item-selector",tab:null,_user:null,_group:null,_allPublicPortalQuery:null,_filterPublicPortalQuery:null,_allPublicOnlineQuery:null,_filterPublicOnlineQuery:null,_allOrganizationQuery:null,_filterOrganizationQuery:null,_allMyContentQuery:null,_filterMyContentQuery:null,_allGroupQuery:null,_filterGroupQuery:null,_isPublicTabShow:!1,_signIn:!1,_itemTypeQueryString:"",
_typeKeywordQueryString:"",portalUrl:null,itemTypes:"",typeKeywords:"",showOnlineItems:!0,onlyShowOnlineFeaturedItems:!1,showMyContent:!0,showMyOrganization:!0,showMyGroups:!0,showPublic:!0,showOnlyEditableGroups:!1,postMixInProperties:function(){this.portalUrl=q.getStandardPortalUrl(this.portalUrl);this.showOnlineItems=!1===this.showOnlineItems?!1:!0;this.itemTypes&&0<this.itemTypes.length||(this.itemTypes=[]);this._itemTypes="";r.forEach(this.itemTypes,c.hitch(this,function(a,h){this._itemTypes+=
'"'+a+'"';h!==this.itemTypes.length-1&&(this._itemTypes+=",")}));this._itemTypes="["+this._itemTypes+"]";this.typeKeywords&&0<this.typeKeywords.length||(this.typeKeywords=[]);this._typeKeywords="";r.forEach(this.typeKeywords,c.hitch(this,function(a,h){this._typeKeywords+='"'+a+'"';h!==this.typeKeywords.length-1&&(this._typeKeywords+=",")}));this._typeKeywords="["+this._typeKeywords+"]";this.nls=window.jimuNls.itemSelector},postCreate:function(){this.inherited(arguments);var a=this._getPortalUrl();
this.portal=g.getPortal(a);this._initOptions();this._initSearchQuery();this._initTabs();this._initPortalRadio();this._initItemTables();this._initPublic();this._initPrivate();this._updateUIbySignIn()},_initOptions:function(){this._itemTypeQueryString=d.getItemQueryStringByTypes(this.itemTypes);this._typeKeywordQueryString=d.getItemQueryStringByTypeKeywords(this.typeKeywords)},_initTabs:function(){var a={title:this.nls.myContent,content:this.mycontentTabNode},h={title:this.nls.myOrganization,content:this.organizationTabNode},
E={title:this.nls.myGroup,content:this.groupTabNode},G={title:this.nls.publicMap,content:this.publicTabNode};x.set(this.mycontentTabNode,"display","none");x.set(this.organizationTabNode,"display","none");x.set(this.groupTabNode,"display","none");x.set(this.publicTabNode,"display","none");var H=[];this.showMyContent&&(H.push(a),x.set(this.mycontentTabNode,"display","block"));this.showMyOrganization&&(H.push(h),x.set(this.organizationTabNode,"display","block"));this.showMyGroups&&(H.push(E),x.set(this.groupTabNode,
"display","block"));this.showPublic&&(H.push(G),x.set(this.publicTabNode,"display","block"));this.tab=new z({tabs:H},this.tabNode);this.own(m(this.tab,"tabChanged",c.hitch(this,function(I){n.setStyle(this.signinSection,"display","none");I!==this.nls.publicMap?(this._isPublicTabShow=!1,this._updateUIbySignIn()):this._isPublicTabShow=!0})))},_updateUIbySignIn:function(){n.setStyle(this.signinSection,"display","none");var a=f(".organization-tab-content-main,.group-tab-content-main,.mycontent-tab-content-main",
this.domNode);w.userHaveSignInPortal(this._getPortalUrl())?a.style("display","block"):(a.style("display","none"),this._isPublicTabShow||n.setStyle(this.signinSection,"display","block"))},_initPortalRadio:function(){var a=this._getPortalUrl();a=q.getServerByUrl(a);this.portalPublicRaido.set("disabled",!1);this.onlinePublicRaido.set("disabled",!1);this.portalPublicRaido.set("checked",!0);var h=!1;q.isArcGIScom(a)?(h=!0,this.portalPublicLabel.innerHTML="ArcGIS.com"):(this.portalPublicLabel.innerHTML=
a,h=this.showOnlineItems?!1:!0);h&&(this.onlinePublicRaido.set("disabled",!0),n.setStyle(this.onlinePublicRaido,"display","none"),n.setStyle(this.onlinePublicLabel,"display","none"))},_initSearchQuery:function(){var a="esri_"+(k.locale&&k.locale.slice(0,2)||"en").toLowerCase(),h=r.filter("esri_he esri_fr esri_ja esri_nl esri_th esri_tr esri_nb esri_ro esri_it esri_pl esri_po esri_ru esri_pt esri_en esri_ar esri_et esri_es esri_ko esri_cs esri_da esri_zh esri_sv esri_lt esri_fi esri_lv esri_de esri_vi".split(" "),
c.hitch(this,function(G){return G!==a})),E="";r.forEach(h,c.hitch(this,function(G){E+=" -owner:"+G+" "}));h=" ";this.portal&&this.portal.user&&this.portal.user.orgId&&(h=" orgid:"+this.portal.user.orgId+" ");h=h+this._itemTypeQueryString+" AND access:public "+E+" "+this._typeKeywordQueryString;this._allPublicPortalQuery=this._getQuery({sortField:"numViews",sortOrder:"desc",q:h});this._filterPublicPortalQuery=this._getQuery({q:h,basicQ:h});this._allPublicOnlineQuery=this._getQuery({sortField:"numViews",
sortOrder:"desc",q:(this.onlyShowOnlineFeaturedItems?' (group:"c755678be14e4a0984af36a15f5b643e"  OR group:"b8787a74b4d74f7fb9b8fac918735153") ':" ")+this._itemTypeQueryString+" AND access:public "+this._typeKeywordQueryString});this._filterPublicOnlineQuery=this._getQuery({q:this._itemTypeQueryString+" AND access:public "+this._typeKeywordQueryString});this._allOrganizationQuery=this._getQuery();this._filterOrganizationQuery=this._getQuery();this._allMyContentQuery=this._getQuery();this._filterMyContentQuery=
this._getQuery();this._allGroupQuery=this._getQuery();this._filterGroupQuery=this._getQuery()},_getQuery:function(a){return c.mixin({start:1,num:16,f:"json"},a||{})},_getPortalUrl:function(){return q.getStandardPortalUrl(this.portalUrl)},_initItemTables:function(){"function"===typeof this.onCreateItemContent&&(this.mycontentItemTable.onCreateItemContent=this.onCreateItemContent,this.organizationItemTable.onCreateItemContent=this.onCreateItemContent,this.groupItemTable.onCreateItemContent=this.onCreateItemContent,
this.publicPortalItemTable.onCreateItemContent=this.onCreateItemContent,this.publicOnlineItemTable.onCreateItemContent=this.onCreateItemContent);this.own(m(this.publicPortalItemTable,"item-dom-clicked",c.hitch(this,this._onItemDomClicked)));this.own(m(this.publicOnlineItemTable,"item-dom-clicked",c.hitch(this,this._onItemDomClicked)));this.own(m(this.organizationItemTable,"item-dom-clicked",c.hitch(this,this._onItemDomClicked)));this.own(m(this.groupItemTable,"item-dom-clicked",c.hitch(this,this._onItemDomClicked)));
this.own(m(this.mycontentItemTable,"item-dom-clicked",c.hitch(this,this._onItemDomClicked)));this.own(m(this.publicPortalItemTable,"update",c.hitch(this,this._onItemTableUpdate)));this.own(m(this.publicOnlineItemTable,"update",c.hitch(this,this._onItemTableUpdate)));this.own(m(this.organizationItemTable,"update",c.hitch(this,this._onItemTableUpdate)));this.own(m(this.groupItemTable,"update",c.hitch(this,this._onItemTableUpdate)));this.own(m(this.mycontentItemTable,"update",c.hitch(this,this._onItemTableUpdate)));
var a=this._getPortalUrl();this.portalPublicRaido.get("disabled")||(this.publicPortalItemTable.set("portalUrl",a),this.publicPortalItemTable.searchAllItems(this._allPublicPortalQuery),this.publicPortalItemTable.set("filteredQuery",this._filterPublicPortalQuery));this.onlinePublicRaido.get("disabled")||(this.publicOnlineItemTable.set("portalUrl",window.location.protocol+"//www.arcgis.com"),this.publicOnlineItemTable.searchAllItems(this._allPublicOnlineQuery),this.publicOnlineItemTable.set("filteredQuery",
this._filterPublicOnlineQuery))},_initPublic:function(){this.own(m(this.portalPublicRaido,"click",c.hitch(this,this._onPublicRaidoClicked)));this.own(m(this.onlinePublicRaido,"click",c.hitch(this,this._onPublicRaidoClicked)));this._onPublicRaidoClicked()},_onPublicRaidoClicked:function(){this.portalPublicRaido.get("checked")?(this.publicPortalItemTable.show(),this.publicOnlineItemTable.hide()):this.onlinePublicRaido.get("checked")&&(this.publicPortalItemTable.hide(),this.publicOnlineItemTable.show())},
_onPublicSearch:function(a){(a=a&&c.trim(a))?(this.publicPortalItemTable.showFilterItemsSection(),this.publicOnlineItemTable.showFilterItemsSection(),this.portalPublicRaido.get("checked")?(this._filterPublicPortalQuery.q=a+" "+this._filterPublicPortalQuery.basicQ,this._filterPublicPortalQuery.start=1,this.publicPortalItemTable.searchFilteredItems(this._filterPublicPortalQuery)):this.onlinePublicRaido.get("checked")&&(this._filterPublicOnlineQuery.q=a+" "+this._itemTypeQueryString+" AND access:public "+
this._typeKeywordQueryString,this._filterPublicOnlineQuery.start=1,this.publicOnlineItemTable.searchFilteredItems(this._filterPublicOnlineQuery))):(this.publicPortalItemTable.showAllItemsSection(),this.publicOnlineItemTable.showAllItemsSection())},_initPrivate:function(){this._resetPortalMaps();this.own(m(this.groupsSelect,"change",c.hitch(this,this._onGroupsSelectChange)));var a=q.getServerByUrl(this._getPortalUrl());q.isArcGIScom(a)&&(a="ArcGIS.com");w.userHaveSignInPortal(this._getPortalUrl())&&
this._onSignIn()},_onOrganizationSearch:function(a){if(a=a&&c.trim(a)){if(this._allOrganizationQuery){var h=this._allOrganizationQuery.q;h&&(this._filterOrganizationQuery.q=a+" "+h,this._filterOrganizationQuery.start=1,this.organizationItemTable.searchFilteredItems(this._filterOrganizationQuery))}}else this.organizationItemTable.showAllItemsSection()},_onMyContentSearch:function(a){if(a=a&&c.trim(a)){if(this._allMyContentQuery){var h=this._allMyContentQuery.q;h&&(this._filterMyContentQuery.q=a+" "+
h,this._filterMyContentQuery.start=1,this.mycontentItemTable.searchFilteredItems(this._filterMyContentQuery))}}else this.mycontentItemTable.showAllItemsSection()},_onGroupSearch:function(a){if(a=a&&c.trim(a)){if(this._allGroupQuery){var h=this._allGroupQuery.q;h&&(this._filterGroupQuery.q=a+" "+h,this._filterGroupQuery.start=1,this.groupItemTable.searchFilteredItems(this._filterGroupQuery))}}else this.groupItemTable.showAllItemsSection()},_onSignIn:function(){this._updateUIbySignIn();if(!this._signIn){this._signIn=
!0;var a=this._getPortalUrl();g.getPortal(a).getUser().then(c.hitch(this,function(h){this.domNode&&(this._resetPortalMaps(),this._searchOrganization(h),this._searchMyContent(h),this._searchGroups(h))}))}},_onSignOut:function(){this._signIn=!1;this._resetPortalMaps();this._updateUIbySignIn()},_resetPortalMaps:function(){this.organizationItemTable.clear();this.mycontentItemTable.clear();this._resetGroupsSection()},_searchOrganization:function(a){this.organizationItemTable.clear();a=" orgid:"+a.orgId+
" AND "+this._itemTypeQueryString+" AND (access:org OR access:public) "+this._typeKeywordQueryString;var h=this._getPortalUrl();this._allOrganizationQuery=this._getQuery({q:a});this._filterOrganizationQuery=this._getQuery({q:a});this.organizationItemTable.set("portalUrl",h);this.organizationItemTable.searchAllItems(this._allOrganizationQuery)},_searchMyContent:function(a){this.mycontentItemTable.clear();var h=this._getPortalUrl();a="owner:"+a.username+" AND "+this._itemTypeQueryString+" "+this._typeKeywordQueryString;
this._allMyContentQuery=this._getQuery({q:a});this._filterMyContentQuery=this._getQuery({q:a});this.mycontentItemTable.set("portalUrl",h);this.mycontentItemTable.searchAllItems(this._allMyContentQuery)},_searchGroups:function(a){this._resetGroupsSection();n.setStyle(this.groupsSection,"display","flex");a=a.getGroups();if(0<a.length){n.setStyle(this.groupSearch.domNode,"display","block");this.groupItemTable.show();n.empty(this.groupsSelect);for(var h=0;h<a.length;h++){var E=a[h];n.create("option",
{value:E.id,innerHTML:E.title},this.groupsSelect)}this._onGroupsSelectChange()}this._updateUIbyGroups(a.length)},_resetGroupsSection:function(){n.setStyle(this.groupsSection,"display","none");n.empty(this.groupsSelect);n.create("option",{value:"nodata",innerHTML:this.nls.noneGroups},this.groupsSelect);this.groupItemTable.clear();n.setStyle(this.groupSearch.domNode,"display","none");this.groupItemTable.hide();this._updateUIbyGroups(0)},_updateUIbyGroups:function(a){0===a?n.setStyle(this.groupsSection,
"top","15px"):n.setStyle(this.groupsSection,"top","50px")},_onGroupsSelectChange:function(){var a=this.groupsSelect.value;this.groupItemTable.clear();if("nodata"===a)n.setStyle(this.groupSearch,"display","none"),this.groupItemTable.hide();else{n.setStyle(this.groupSearch,"display","block");this.groupItemTable.show();var h=this._getPortalUrl();a="group:"+a+" AND "+this._itemTypeQueryString+" "+this._typeKeywordQueryString;this._allGroupQuery=this._getQuery({q:a});this._filterGroupQuery=this._getQuery({q:a});
this.groupItemTable.set("portalUrl",h);this.groupItemTable.searchAllItems(this._allGroupQuery)}},_onItemTableUpdate:function(){this.emit("update")},_onItemDomClicked:function(a){var h=n.hasClass(a,"jimu-state-active");f(".item.jimu-state-active",this.domNode).removeClass("jimu-state-active");h&&n.addClass(a,"jimu-state-active");(a=this.getSelectedItem())?this.emit("item-selected",a):this.emit("none-item-selected")},getSelectedItem:function(){var a=null,h=f(".item.jimu-state-active",this.domNode);
0<h.length&&(a=c.mixin({},h[0].item));return a}})})},"jimu/dijit/_ItemTable":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./templates/_ItemTable.html dojo/Evented dojo/_base/lang dojo/_base/array dojo/_base/html dojo/_base/Deferred dojo/query dojo/on jimu/utils jimu/portalUtils jimu/portalUrlUtils jimu/dijit/LoadingIndicator".split(" "),function(A,B,p,t,b,l,e,c,k,r,n,F,D,f,m,x){return A([B,p,t,l],{templateString:b,declaredClass:"jimu.dijit.ItemTable",
baseClass:"jimu-item-table",query:null,filteredQuery:null,portalUrl:null,hidden:!1,nls:null,types:"",typeKeywords:"",_defaultThumbnail:{"Web Mapping Application":"desktopapp.png","Mobile Application":"mobileapp.png"},postMixInProperties:function(){this.nls=window.jimuNls.itemSelector},postCreate:function(){this.inherited(arguments);this._initSelf()},_initSelf:function(){this.types&&0<this.types.length||(this.types=[]);(this.hidden=!0===this.hidden)&&this.hide();this.portalUrl&&(this.portalUrl=m.getStandardPortalUrl(this.portalUrl));
this.showAllItemsSection();this.searchAllItems()},show:function(){k.setStyle(this.domNode,"display","block")},hide:function(){k.setStyle(this.domNode,"display","none")},searchAllItems:function(d){this.showAllItemsSection();d&&(this.query=e.mixin({},d),this.query.start=1,this.clearAllItemsSection());this.portalUrl&&this.query&&0<this.query.start&&(this.allItemsShelter.show(),f.getPortal(this.portalUrl).queryItems(this.query).then(e.hitch(this,function(g){this.domNode&&(this.allItemsShelter.hide(),
this.query.start=g.nextStart,this._createItems(g,this.allItemTbody))}),e.hitch(this,function(g){console.error(g);this.domNode&&this.allItemsShelter.hide()})))},searchFilteredItems:function(d){this.showFilterItemsSection();d&&(this.filteredQuery=e.clone(d),this.filteredQuery.start=1,this.clearFilteredItemsSection());this.portalUrl&&this.filteredQuery&&0<this.filteredQuery.start&&(this.filteredItemShelter.show(),f.getPortal(this.portalUrl).queryItems(this.filteredQuery).then(e.hitch(this,function(g){this.domNode&&
(this.showFilterItemsSection(),d&&this.clearFilteredItemsSection(),this.filteredQuery.start=g.nextStart,this._createItems(g,this.filteredItemsTbody),this._filterItemCallback())}),e.hitch(this,function(g){console.error(g);this.domNode&&this._filterItemCallback()})))},_filterItemCallback:function(){this.filteredItemShelter.hide();0<this._getItemCount(this.filteredItemsTbody)?(k.setStyle(this.filteredItemsTableDiv,"display","block"),k.setStyle(this.searchNoneTipSection,"display","none")):(k.setStyle(this.filteredItemsTableDiv,
"display","none"),k.setStyle(this.searchNoneTipSection,"display","block"))},clear:function(){this.clearAllItemsSection();this.clearFilteredItemsSection()},clearAllItemsSection:function(){k.empty(this.allItemTbody)},clearFilteredItemsSection:function(){k.empty(this.filteredItemsTbody)},showAllItemsSection:function(){k.setStyle(this.allItemsSection,"display","block");k.setStyle(this.filteredItemsSection,"display","none")},showFilterItemsSection:function(){k.setStyle(this.allItemsSection,"display","none");
k.setStyle(this.filteredItemsSection,"display","block");k.setStyle(this.filteredItemsTableDiv,"display","block");k.setStyle(this.searchNoneTipSection,"display","none")},_onAllItemsSectionScroll:function(){this._isScrollToBottom(this.allItemsTableDiv)&&this.searchAllItems()},_onFilteredItemsSectionScroll:function(){this._isScrollToBottom(this.filteredItemsTableDiv)&&this.searchFilteredItems()},_isScrollToBottom:function(d){return D.isScrollToBottom(d)},_createItems:function(d,g){d=d.results;var w=
c.map(this.types,e.hitch(this,function(a){return a.toLowerCase()}));d=c.filter(d,e.hitch(this,function(a){a=a.type&&a.type.toLowerCase()||"";return 0<=c.indexOf(w,a)}));if(0!==d.length){var q=n("td.empty",g),u;if(0<q.length){var v=Math.min(d.length,q.length),z=d.splice(0,v);for(u=0;u<v;u++){var C=q[u];var y=this._createItem(z[u]);k.place(y,C);k.removeClass(C,"empty")}}if(0!==d.length){q=Math.ceil(d.length/2);for(u=0;u<q;u++)for(y=k.toDom("\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e"),
k.place(y,g),v=n("td",y),z=0;z<v.length;z++)C=v[z],(y=d[2*u+z])?(y=this._createItem(y),k.place(y,C)):k.addClass(C,"empty");this.emit("update")}}},_getItemCount:function(d){return n(".item",d).length},_createItem:function(d){var g=k.toDom('\x3cdiv class\x3d"item"\x3e\x3cdiv class\x3d"item-border"\x3e\x3c/div\x3e\x3cdiv class\x3d"item-thumbnail jimu-auto-vertical"\x3e\x3cdiv class\x3d"none-thumbnail-tip jimu-auto-vertical-content"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"item-info"\x3e\x3cdiv class\x3d"item-name"\x3e\x3c/div\x3e\x3cdiv class\x3d"item-type-owner"\x3e\x3c/div\x3e\x3cdiv class\x3d"item-date"\x3e\x3c/div\x3e\x3ca class\x3d"item-details" target\x3d"_blank"\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e');
g.item=d;var w=n(".item-thumbnail",g)[0],q=n(".item-name",g)[0],u=n(".item-type-owner",g)[0],v=n(".item-date",g)[0],z=n(".item-details",g)[0],C=n(".none-thumbnail-tip",g)[0];if(!d.thumbnailUrl){var y=this._defaultThumbnail[d.type];y&&(d.thumbnailUrl=require.toUrl("jimu")+"/images/"+y)}d.thumbnailUrl?k.setStyle(w,"backgroundImage","url("+d.thumbnailUrl+")"):C.innerHTML=this.nls.noneThumbnail;"function"===typeof this.onCreateItemContent?(v=n(".item-info",g)[0],this.onCreateItemContent(d,v)):(q.innerHTML=
d.title,q.title=q.innerHTML,u.innerHTML=d.type+" by "+d.owner,u.title=u.innerHTML,w=new Date,w.setTime(d.modified),v.innerHTML=w.toLocaleString(),v.title=v.innerHTML,z.innerHTML=this.nls.moreDetails,z.href=d.detailsPageUrl||"#");return g},_onItemsTableClicked:function(d){var g=d.target||d.srcElement;d=null;k.hasClass(g,"item-thumbnail")?d=g.parentNode:k.hasClass(g,"none-thumbnail-tip")&&(d=g.parentNode.parentNode);d&&(g=k.hasClass(d,"jimu-state-active"),n(".item.jimu-state-active",this.domNode).removeClass("jimu-state-active"),
g?k.removeClass(d,"jimu-state-active"):k.addClass(d,"jimu-state-active"),this.emit("item-dom-clicked",d))},getSelectedItem:function(){var d=null,g=n(".item.jimu-state-active",this.domNode);0<g.length&&(d=e.mixin({},g[0].item));return d}})})},"widgets/SuitabilityModeler/setting/_build-generate_module":function(){define(["dojo/text!./Setting.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:jimu/dijit/templates/ItemSelector.html":'\r\n\x3cdiv\x3e\r\n\t\x3cdiv class\x3d"setting-tab-container"\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"tabNode"\x3e\x3c/div\x3e\r\n\r\n\t\t\x3cdiv class\x3d"tab-content mycontent-tab" data-dojo-attach-point\x3d"mycontentTabNode"\x3e\r\n\t\t\t\x3cdiv class\x3d"tab-content-main mycontent-tab-content-main"\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"mycontentSearch" data-dojo-type\x3d"jimu/dijit/Search" data-dojo-props\x3d\'searchWhenInput:false\' data-dojo-attach-event\x3d"onSearch:_onMyContentSearch" style\x3d"position:absolute;width:100%;top:0;"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"mycontentItemTable" data-dojo-type\x3d"jimu/dijit/_ItemTable" data-dojo-props\x3d\'types:${_itemTypes},typeKeywords:${_typeKeywords}\' style\x3d"top:50px;"\x3e\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\r\n\t\t\x3cdiv class\x3d"tab-content organization-tab" data-dojo-attach-point\x3d"organizationTabNode"\x3e\r\n\t\t\t\x3cdiv class\x3d"tab-content-main organization-tab-content-main"\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"organizationSearch" data-dojo-type\x3d"jimu/dijit/Search" data-dojo-props\x3d\'searchWhenInput:false\' data-dojo-attach-event\x3d"onSearch:_onOrganizationSearch" style\x3d"position:absolute;width:100%;top:0;"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"organizationItemTable" data-dojo-type\x3d"jimu/dijit/_ItemTable" data-dojo-props\x3d\'types:${_itemTypes},typeKeywords:${_typeKeywords}\' style\x3d"top:50px;"\x3e\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\r\n\t\t\x3cdiv class\x3d"tab-content group-tab" data-dojo-attach-point\x3d"groupTabNode"\x3e\r\n\t\t\t\x3cdiv class\x3d"tab-content-main group-tab-content-main"\x3e\r\n\t\t\t\t\x3cdiv class\x3d"groups-section" data-dojo-attach-point\x3d"groupsSection"\x3e\r\n\t\t\t\t\t\x3cdiv\x3e${nls.groups}:\x3c/div\x3e\r\n\t\t\t\t\t\x3cselect class\x3d"groups-select" data-dojo-attach-point\x3d"groupsSelect"\x3e\r\n\t\t\t\t\t\t\x3coption value\x3d"nodata"\x3e${nls.noneGroups}\x3c/option\x3e\r\n\t\t\t\t\t\x3c/select\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"groupSearch" data-dojo-type\x3d"jimu/dijit/Search" data-dojo-props\x3d\'searchWhenInput:false\' data-dojo-attach-event\x3d"onSearch:_onGroupSearch" style\x3d"position:absolute;width:100%;top:0;"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"groupItemTable" data-dojo-type\x3d"jimu/dijit/_ItemTable" data-dojo-props\x3d\'types:${_itemTypes},typeKeywords:${_typeKeywords}\' style\x3d"top:85px;"\x3e\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\r\n\t\t\x3cdiv class\x3d"tab-content public-tab" data-dojo-attach-point\x3d"publicTabNode"\x3e\r\n\t\t\t\x3cdiv class\x3d"tab-content-main public-tab-content-main"\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"publicSearch" data-dojo-type\x3d"jimu/dijit/Search" data-dojo-props\x3d\'searchWhenInput:false\' data-dojo-attach-event\x3d"onSearch:_onPublicSearch" style\x3d"position:absolute;width:100%;top:0;"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3cdiv class\x3d"public-search-radios"\x3e\r\n\t\t\t\t\t\x3cfieldset id\x3d"publicSearchRaido"\x3e\r\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"portalPublicRaido" data-dojo-type\x3d"dijit/form/RadioButton" \r\n\t\t\t\t\t\t\tdata-label-id\x3d"portalPublicRaido" name\x3d"publicSearchRaido" class\x3d"jimu-float-leading portal-public-radio" /\x3e\r\n\t\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"portalPublicLabel" data-label-for\x3d"portalPublicRaido" class\x3d"jimu-float-leading portal-public-label"\x3ePortal\x3c/label\x3e\r\n\r\n\t\t\t\t\t\t\x3cinput data-dojo-attach-point\x3d"onlinePublicRaido" data-dojo-type\x3d"dijit/form/RadioButton"\r\n\t\t\t\t\t\t\tdata-label-id\x3d"onlinePublicRaido" name\x3d"publicSearchRaido" class\x3d"jimu-float-leading online-public-radio" /\x3e\r\n\t\t\t\t\t\t\x3clabel data-dojo-attach-point\x3d"onlinePublicLabel" data-label-for\x3d"onlinePublicRaido" class\x3d"jimu-float-leading portal-public-label"\x3eArcGIS Online\x3c/label\x3e\r\n\t\t\t\t\t\x3c/fieldset\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"publicItemSection" class\x3d"public-item-section"\x3e\r\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"publicPortalItemTable" data-dojo-type\x3d"jimu/dijit/_ItemTable" data-dojo-props\x3d\'types:${_itemTypes},typeKeywords:${_typeKeywords}\'\x3e\x3c/div\x3e\r\n\t\t\t\t\t\x3cdiv data-dojo-attach-point\x3d"publicOnlineItemTable" data-dojo-type\x3d"jimu/dijit/_ItemTable" data-dojo-props\x3d\'types:${_itemTypes},typeKeywords:${_typeKeywords}\'\x3e\x3c/div\x3e\r\n\t\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"signin-section" data-dojo-attach-point\x3d"signinSection" style\x3d"display:none;"\x3e\r\n\t\t\x3cdiv class\x3d"signin-tip"\x3e${nls.signInTip}\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:jimu/dijit/templates/_ItemTable.html":'\x3cdiv\x3e\r\n\t\x3cdiv class\x3d"items-section all-items-section" data-dojo-attach-point\x3d"allItemsSection"\x3e\r\n\t\t\x3cdiv class\x3d"items-table-div" data-dojo-attach-point\x3d"allItemsTableDiv" data-dojo-attach-event\x3d"onscroll:_onAllItemsSectionScroll"\x3e\r\n\t\t\t\x3ctable class\x3d"items-table" cellpadding\x3d"10" data-dojo-attach-point\x3d"allItemsTable" data-dojo-attach-event\x3d"onclick:_onItemsTableClicked"\x3e\r\n\t\t\t\t\x3ctbody data-dojo-attach-point\x3d"allItemTbody"\x3e\x3c/tbody\x3e\r\n\t\t\t\x3c/table\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv data-dojo-type\x3d"jimu/dijit/LoadingIndicator" data-dojo-attach-point\x3d"allItemsShelter" data-dojo-props\x3d\'hidden:true\'\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"items-section filtered-items-section" data-dojo-attach-point\x3d"filteredItemsSection"\x3e\r\n\t\t\x3cdiv class\x3d"items-table-div" data-dojo-attach-point\x3d"filteredItemsTableDiv" data-dojo-attach-event\x3d"onscroll:_onFilteredItemsSectionScroll"\x3e\r\n\t\t\t\x3ctable class\x3d"items-table" cellpadding\x3d"10" data-dojo-attach-point\x3d"filteredItemsTable" data-dojo-attach-event\x3d"onclick:_onItemsTableClicked"\x3e\r\n\t\t\t\t\x3ctbody data-dojo-attach-point\x3d"filteredItemsTbody"\x3e\x3c/tbody\x3e\r\n\t\t\t\x3c/table\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"search-none-tip-section" data-dojo-attach-point\x3d"searchNoneTipSection" style\x3d"display:none;"\x3e\r\n\t\t\t\x3cspan class\x3d"search-none-icon jimu-icon jimu-icon-error"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan class\x3d"search-none-tip jimu-state-error-text"\x3e${nls.searchNone}\x3c/span\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv data-dojo-type\x3d"jimu/dijit/LoadingIndicator" data-dojo-attach-point\x3d"filteredItemShelter" data-dojo-props\x3d\'hidden:true\'\x3e\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/SuitabilityModeler/setting/Setting.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"section"\x3e\r\n    \x3cp class\x3d"description" data-dojo-attach-point\x3d"descriptionNode1"\x3e${nls.description1}\x3c/p\x3e\r\n    \x3cp class\x3d"description" data-dojo-attach-point\x3d"descriptionNode2"\x3e${nls.description2}\x3c/p\x3e\r\n    \x3cp class\x3d"description" data-dojo-attach-point\x3d"descriptionNode3"\x3e\x3c/p\x3e\r\n  \x3c/div\x3e\r\n  \x3cform class\x3d"section" data-dojo-attach-point\x3d"settingsForm" data-dojo-type\x3d"dijit/form/Form"\x3e\r\n    \x3cdiv class\x3d"row starting-state"\x3e\r\n      \x3ch3\x3e${nls.startingState}\x3c/h3\x3e\r\n      \x3clabel class\x3d"option"\x3e\x3cinput type\x3d"radio" name\x3d"${id}_radios"\r\n        data-dojo-attach-point\x3d"byUrlRadio"\r\n        data-dojo-type\x3d"dijit/form/RadioButton"\r\n        /\x3e${nls.byUrl}\x3c/label\x3e\r\n      \x3cbr\x3e\r\n      \x3clabel class\x3d"option"\x3e\x3cinput type\x3d"radio" name\x3d"${id}_radios"\r\n        data-dojo-attach-point\x3d"byItemRadio"\r\n        data-dojo-type\x3d"dijit/form/RadioButton"\r\n        /\x3e${nls.byItem}\x3c/label\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"row" data-dojo-attach-point\x3d"byUrlSection"\x3e\r\n      \x3ch3 for\x3d"${id}_serviceUrl"\x3e${nls.imageServiceUrl}\x3c/h3\x3e\r\n      \x3cinput id\x3d"${id}_serviceUrl" type\x3d"text" class\x3d"url-box"\r\n        data-dojo-attach-point\x3d"serviceUrlBox"\r\n        data-dojo-type\x3d"dijit/form/ValidationTextBox"\r\n        data-dojo-props\x3d"required:true,trim:true,maxLength:1024" /\x3e\r\n      \x3cspan class\x3d"jimu-btn" href\x3d"#"\r\n        data-dojo-attach-point\x3d"validateNode"\r\n        data-dojo-attach-event\x3d"onclick:validateClicked"\r\n        \x3e${nls.validate}\x3c/span\x3e\r\n      \x3cdiv class\x3d"example"\x3e\r\n        https://example.com/arcgis/rest/services/Example/ImageServer\r\n        \x3cbr\x3e\r\n        https://utility.arcgis.com/usrsvcs/servers/24b7c7752170431a95719323a9e71a5e/rest/services/WRO_World_Ecophysiographic_Data/ImageServer\r\n        \x3cbr\x3e\r\n        https://greeninfrastructuremapsdev.arcgis.com/arcgis/rest/services/GreenInfrastructure/WeightedOverlay_Geoplanner/ImageServer\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"row" data-dojo-attach-point\x3d"byItemSection"\x3e\r\n        \x3ch3 for\x3d"${id}_modelName"\x3e${nls.modelName}\x3c/h3\x3e\r\n        \x3cinput id\x3d"${id}_modelName" type\x3d"text" class\x3d"url-box"\r\n          data-dojo-attach-point\x3d"modelNameBox"\r\n          data-dojo-type\x3d"dijit/form/ValidationTextBox"\r\n          data-dojo-props\x3d"required:false,trim:true" /\x3e\r\n        \x3cspan class\x3d"jimu-btn" href\x3d"#"\r\n          data-dojo-attach-point\x3d"selectModelNode"\r\n          data-dojo-attach-event\x3d"onclick:selectModelClicked"\r\n          \x3e${nls.selectModel}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv class\x3d"row"\x3e\r\n\t    \x3ch3\x3e\r\n\t\t    \x3cinput id\x3d"${id}_saveAs" type\x3d"checkbox"\r\n\t\t      data-dojo-attach-point\x3d"allowSaveAsCheckBox"\r\n\t\t      data-dojo-type\x3d"dijit/form/CheckBox"/\x3e\r\n\t\t    \x3clabel for\x3d"${id}_saveAs"\x3e${nls.allowSaveAs}\x3c/label\x3e\r\n\t    \x3c/h3\x3e\r\n\t  \x3c/div\x3e\r\n  \x3c/form\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/SuitabilityModeler/setting/css/style.css":'.jimu-widget-suitability-modeler-setting h3 {margin-top: 0; margin-bottom: 12px; font-family: "Avenir Medium";}.jimu-widget-suitability-modeler-setting .section {margin-bottom: 30px;}.jimu-widget-suitability-modeler-setting .row {margin-bottom: 18px;}.jimu-widget-suitability-modeler-setting .description {font-size: 14px; margin-bottom: 20px;}.jimu-widget-suitability-modeler-setting .starting-state .option {display: inline-block; margin-bottom: 10px;}.jimu-widget-suitability-modeler-setting .starting-state .option \x3e input {margin-right: 6px;}.jimu-rtl .jimu-widget-suitability-modeler-setting .starting-state .option \x3e input {margin-left: 6px; margin-right: 0;}.jimu-widget-suitability-modeler-setting .row {margin-top: 20px; font-size: 14px;}.jimu-widget-suitability-modeler-setting .dijitTextBox.url-box {width: 785px; height: 35px; margin-right: 5px;}.jimu-rtl .jimu-widget-suitability-modeler-setting .dijitTextBox.url-box {margin-left: 5px; margin-right: 0;}.jimu-widget-suitability-modeler-setting .dijitTextBox .dijitInputField {padding-top: 4px; padding-bottom: 3px;}.jimu-widget-suitability-modeler-setting .dijitTextBox .dijitInputInner {text-overflow: ellipsis;}.jimu-widget-suitability-modeler-setting .example {margin-top: 10px; color: #666; font-size: 11px; font-style: italic; line-height: 15px;}.jimu-widget-suitability-modeler-setting .popup-button-bar {float: right; padding-top: 20px;}.jimu-rtl .jimu-widget-suitability-modeler-setting .popup-button-bar {float: left;}.jimu-widget-suitability-modeler-setting .popup-button-bar .btn-ok {margin-right: 16px;}.jimu-widget-suitability-modeler-setting-help-link {line-height: 30px;}.jimu-widget-suitability-modeler-setting .dijitRadio {width: 16px; height: 16px; border: 1px solid #999; position: relative; overflow: visible; -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; margin-right: 6px;}.jimu-rtl .jimu-widget-suitability-modeler-setting .dijitRadio {margin-left: 6px; margin-right: 0;}.jimu-widget-suitability-modeler-setting .dijitRadio:after {content: " "; display: block; width: 0; height: 0; margin: 7px; position: absolute; top: 0; left: 0; -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%; opacity: 0;}.jimu-widget-suitability-modeler-setting .dijitRadioChecked {border-width: 2px; border-color: #24b5cc;}.jimu-widget-suitability-modeler-setting .dijitCheckBox {text-align: center; position: relative; margin-right: 6px;}.jimu-rtl .jimu-widget-suitability-modeler-setting .dijitCheckBox {margin-left: 6px; margin-right: 0;}.jimu-widget-suitability-modeler-setting .dijitCheckBox input {position: absolute; top: 0; left: 0; width: 14px; height: 14px;}.jimu-widget-suitability-modeler-setting .dijitCheckBox {width: 16px; height: 16px; position: relative; font-family: "CalciteWebCoreIcons"; speak: none; font-size: 12px; font-style: normal; font-weight: normal; font-variant: normal; text-transform: none; text-indent: 0; line-height: 1; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; line-height: 14px; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;}.jimu-widget-suitability-modeler-setting .dijitCheckBoxChecked {background-color: #24b5cc; border-color: #24b5cc; color: #fff;}',
"*now":function(A){A(['dojo/i18n!*preload*widgets/SuitabilityModeler/setting/nls/Setting*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare jimu/BaseWidgetSetting dijit/_WidgetsInTemplateMixin dojo/_base/lang dojo/on dojo/dom-class dojo/dom-construct dojo/i18n!../nls/strings ../WroContext ../wro/wroUtil esri/layers/ArcGISImageServiceLayer jimu/dijit/Popup jimu/dijit/ItemSelector dijit/form/Form dijit/form/ValidationTextBox dijit/form/CheckBox dijit/form/RadioButton".split(" "),function(A,B,p,t,b,l,e,c,k,r,n,F,D){return A([B,p],{baseClass:"jimu-widget-suitability-modeler-setting",_modelItem:null,_url:"http://doc.arcgis.com/en/geoplanner/documentation/find-the-best-place-using-weighted-overlay.htm",
postCreate:function(){this.inherited(arguments);var f=this;this.modelNameBox.set("disabled",!0);this.own(b(this.byUrlRadio,"click",function(){f.updateSection()}),b(this.byItemRadio,"click",function(){f.updateSection()}))},startup:function(){this._started||(this.inherited(arguments),this.setConfig(this.config))},getConfig:function(){if(!this.settingsForm.validate()||this.byItemRadio.checked&&(!this._modelItem||0===this.modelNameBox.get("value").length))return!1;this.config||(this.config={});this.config.allowSaveAs=
!!this.allowSaveAsCheckBox.get("checked");this.config.imageServiceUrl=this.serviceUrlBox.get("value");this.byUrlRadio.checked?(this.config.imageServiceUrl=this.serviceUrlBox.get("value"),this.config.modelItem=null):(this.config.imageServiceUrl=this._modelItem.url,this.config.modelItem=this._modelItem);return this.config},setConfig:function(f){this.config=f||{};this.allowSaveAsCheckBox.set("checked",!!this.config.allowSaveAs);this._modelItem=null;var m=f.modelItem;m&&"string"===typeof m.id&&0<m.id.length&&
"string"===typeof m.url&&0<m.url.length&&"string"===typeof m.title&&0<m.title.length?(this._modelItem=t.clone(m),this.byItemRadio.set("checked",!0),this.modelNameBox.set("value",m.title)):(f=f.imageServiceUrl,"string"===typeof f&&(f=f.trim(),0<f.length&&this.serviceUrlBox.set("value",f)),this.byUrlRadio.set("checked",!0));this.updateSection()},selectModelClicked:function(){var f=this,m={portalUrl:this.appConfig.portalUrl,itemTypes:["Image Service"],typeKeywords:["geodesignModelerLayer"]},x=e.create("div",
{"class":this.baseClass,style:{width:"100%",height:"100%"}}),d=e.create("div",{style:{height:"460px"}},x),g=e.create("div",{"class":"popup-button-bar"},x),w=e.create("span",{"class":"btn-ok jimu-btn jimu-state-disabled",innerHTML:this.nls.ok},g);g=e.create("span",{"class":"jimu-btn jimu-btn-vacation",innerHTML:this.nls.cancel},g);var q=new D(m),u=new F({titleLabel:this.nls.itemSelectorTitle,content:x,width:830,height:600});q.placeAt(d);this.own(b(q,"item-selected",function(){l.remove(w,"jimu-state-disabled")}));
this.own(b(q,"none-item-selected",function(){console.warn("none-item-selected");l.add(w,"jimu-state-disabled")}));this.own(b(w,"click",function(){var v=q.getSelectedItem();v&&!l.contains(w,"jimu-state-disabled")&&f.validateService(v.url,w,!0,function(){f.modelNameBox.set("value",v.title);f._modelItem={id:v.id,url:v.url,title:v.title};u.close()})}));this.own(b(g,"click",function(){u.close()}))},updateSection:function(){this.byUrlRadio.checked?(this.byUrlSection.style.display="block",this.byItemSection.style.display=
"none",this.serviceUrlBox.set("required",!0),this.modelNameBox.set("required",!1)):(this.byUrlSection.style.display="none",this.byItemSection.style.display="block",this.serviceUrlBox.set("required",!1),this.modelNameBox.set("required",!0))},validateClicked:function(){var f=this.serviceUrlBox.get("value").trim();this.validateService(f,this.validateNode,!1,null)},validateService:function(f,m,x,d){var g=this;if(!l.contains(m,"jimu-state-disabled")){var w=function(){l.remove(m,"jimu-state-disabled");
m.innerHTML=x?g.nls.ok:g.nls.validate};m.innerHTML=g.nls.validating;l.add(m,"jimu-state-disabled");var q=new k({i18n:c}),u=[],v=r.newWROInfo(),z=c.wro.validation.invalidItemCaption;if(0<f.length){f=q.checkMixedContent(f);var C=new n(f,{id:q.generateRandomId()});C.setVisibility(!1);r.waitForLayer(C,c).then(function(){return r.validateWROLayer(c,C,v,u,!1)}).then(function(){0<u.length?q.showMessages(z,f,u):"function"===typeof d?d():q.showMessages(g.nls.imageServiceUrl,f,[g.nls.validated]);w()}).otherwise(function(y){console.warn("Error loading WRO layer",
f);console.error(y);y.message?q.showMessages(z,f,[y.message]):q.showMessages(z,f,[c.wro.validation.inaccessible]);w()})}else w()}},_addAboutLink:function(){var f=this.getParent(),m=this.nls.description3,x=this._url;f&&f.helpNode?(f.helpNode.style.display="inline-block",f.helpNode.setAttribute("href",x),l.add(f.helpNode,"jimu-widget-suitability-modeler-setting-help-link")):this.descriptionNode3.innerHTML="\x3ca target\x3d'_blank' href\x3d'"+x+"'\x3e"+m+"\x3c/a\x3e"}})});