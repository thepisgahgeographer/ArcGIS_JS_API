// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"esri/dijit/util/busyIndicator":function(){define("dijit/registry dojo/_base/lang dojo/_base/window dojo/dom dojo/dom-construct dojox/widget/Standby require".split(" "),function(y,l,p,r,m,v,w){var u={_defaultStandbyParams:{image:w.toUrl("../images/loading-throb.gif"),color:"#fff",opacity:.75,duration:200},create:function(b){if(b=this._normalizeParams(b))return b=new v(u._toStandbyParams(b)),m.place(b.domNode,p.doc.body),u._createHandle(b)},_normalizeParams:function(b){if(b){if(b.target)return b;
if("string"===typeof b){var h=y.byId(b);b=h?h.domNode:r.byId(b)}else b=b.domNode?b.domNode:r.byId(b);if(b)return{target:b}}},_toStandbyParams:function(b){b.imageUrl&&(b.image=b.imageUrl);b.backgroundColor&&(b.color=b.backgroundColor);b.backgroundOpacity&&(b.opacity=b.backgroundOpacity);b.fadeDuration&&(b.duration=b.fadeDuration);return l.mixin({},u._defaultStandbyParams,b)},_createHandle:function(b){return{show:function(){b&&b.show()},hide:function(){b&&b.hide()},destroy:function(){b&&(b.destroy(),
b=null)}}}};return u})},"dojox/widget/Standby":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/array dojo/_base/event dojo/_base/sniff dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/window dojo/_base/window dojo/_base/fx dojo/fx dijit/_Widget dijit/_TemplatedMixin dijit/registry".split(" "),function(y,l,p,r,m,v,w,u,b,h,z,k,q,g,t,B,C){y.experimental("dojox.widget.Standby");return l("dojox.widget.Standby",[t,B],{image:require.toUrl("dojox/widget/Standby/images/loading.gif").toString(),
imageText:"Please Wait...",text:"Please wait...",centerIndicator:"image",target:"",color:"#C0C0C0",duration:500,zIndex:"auto",opacity:.75,templateString:'\x3cdiv\x3e\x3cdiv style\x3d"display: none; opacity: 0; z-index: 9999; position: absolute; cursor:wait;" dojoAttachPoint\x3d"_underlayNode"\x3e\x3c/div\x3e\x3cimg src\x3d"${image}" style\x3d"opacity: 0; display: none; z-index: -10000; position: absolute; top: 0px; left: 0px; cursor:wait;" dojoAttachPoint\x3d"_imageNode"\x3e\x3cdiv style\x3d"opacity: 0; display: none; z-index: -10000; position: absolute; top: 0px;" dojoAttachPoint\x3d"_textNode"\x3e\x3c/div\x3e\x3c/div\x3e',
_underlayNode:null,_imageNode:null,_textNode:null,_centerNode:null,_displayed:!1,_resizeCheck:null,_started:!1,_parent:null,startup:function(c){if(!this._started){if("string"===typeof this.target){var f=C.byId(this.target);this.target=f?f.domNode:v.byId(this.target)}this.text&&(this._textNode.innerHTML=this.text);"image"===this.centerIndicator?(this._centerNode=this._imageNode,w.set(this._imageNode,"src",this.image),w.set(this._imageNode,"alt",this.imageText)):this._centerNode=this._textNode;h.set(this._underlayNode,
{display:"none",backgroundColor:this.color});h.set(this._centerNode,"display","none");this.connect(this._underlayNode,"onclick","_ignore");this.domNode.parentNode&&this.domNode.parentNode!=k.body()&&k.body().appendChild(this.domNode);7==m("ie")&&(this._ieFixNode=u.create("div"),h.set(this._ieFixNode,{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"}),k.body().appendChild(this._ieFixNode));this.inherited(arguments)}},show:function(){this._displayed||(this._anim&&(this._anim.stop(),delete this._anim),
this._displayed=!0,this._size(),this._disableOverflow(),this._fadeIn())},hide:function(){if(this._displayed)try{this._anim&&(this._anim.stop(),delete this._anim),this._size()}catch(c){console.error(c)}finally{this._fadeOut(),this._displayed=!1,null!==this._resizeCheck&&(clearInterval(this._resizeCheck),this._resizeCheck=null)}},isVisible:function(){return this._displayed},onShow:function(){},onHide:function(){},uninitialize:function(){this._displayed=!1;this._resizeCheck&&clearInterval(this._resizeCheck);
h.set(this._centerNode,"display","none");h.set(this._underlayNode,"display","none");7==m("ie")&&this._ieFixNode&&(k.body().removeChild(this._ieFixNode),delete this._ieFixNode);this._anim&&(this._anim.stop(),delete this._anim);this._centerNode=this._textNode=this._imageNode=this.target=null;this.inherited(arguments)},_size:function(){if(this._displayed){var c=w.get(k.body(),"dir");c&&(c=c.toLowerCase());var f=this._scrollerWidths(),a=this.target,d=h.get(this._centerNode,"display");h.set(this._centerNode,
"display","block");var e=b.position(a,!0);if(a===k.body()||a===k.doc)e=z.getBox(),e.x=e.l,e.y=e.t;var D=b.getMarginBox(this._centerNode);h.set(this._centerNode,"display",d);if(this._ieFixNode){var n=-this._ieFixNode.offsetTop/1E3;e.x=Math.floor((e.x+.9)/n);e.y=Math.floor((e.y+.9)/n);e.w=Math.floor((e.w+.9)/n);e.h=Math.floor((e.h+.9)/n)}var x=h.get(a,"zIndex"),E=d=x;if("auto"===this.zIndex)if("auto"!=x)d=parseInt(d,10),E=parseInt(E,10);else{var A=a;if(A&&A!==k.body()&&A!==k.doc)for(A=a.parentNode,
n=-1E5;A&&A!==k.body();)(x=h.get(A,"zIndex"))&&"auto"!==x&&(x=parseInt(x,10),n<x&&(n=x,d=x+1,E=x+1)),A=A.parentNode}else d=parseInt(this.zIndex,10),E=parseInt(this.zIndex,10);h.set(this._centerNode,"zIndex",E);h.set(this._underlayNode,"zIndex",d);if((d=a.parentNode)&&d!==k.body()&&a!==k.body()&&a!==k.doc){A=e.h;E=e.w;a=b.position(d,!0);this._ieFixNode&&(n=-this._ieFixNode.offsetTop/1E3,a.x=Math.floor((a.x+.9)/n),a.y=Math.floor((a.y+.9)/n),a.w=Math.floor((a.w+.9)/n),a.h=Math.floor((a.h+.9)/n));a.w-=
d.scrollHeight>d.clientHeight&&0<d.clientHeight?f.v:0;a.h-=d.scrollWidth>d.clientWidth&&0<d.clientWidth?f.h:0;"rtl"===c&&(m("opera")?(e.x+=d.scrollHeight>d.clientHeight&&0<d.clientHeight?f.v:0,a.x+=d.scrollHeight>d.clientHeight&&0<d.clientHeight?f.v:0):m("ie")?a.x+=d.scrollHeight>d.clientHeight&&0<d.clientHeight?f.v:0:m("webkit"));a.w<e.w&&(e.w-=a.w);a.h<e.h&&(e.h-=a.h);var G=a.y,H=a.y+a.h,F=e.y,I=e.y+A;c=a.x;n=a.x+a.w;x=e.x;var J=e.x+E;if(I>G&&F<G)e.y=a.y,A-=G-F,e.h=A<a.h?A:e.h-2*(d.scrollWidth>
d.clientWidth&&0<d.clientWidth?f.h:0);else if(F<H&&I>H)e.h=H-F;else if(I<=G||F>=H)e.h=0;if(J>c&&x<c)e.x=a.x,E-=c-x,e.w=E<a.w?E:e.w-2*(d.scrollHeight>d.clientHeight&&0<d.clientHeight?f.w:0);else if(x<n&&J>n)e.w=n-x;else if(J<=c||x>=n)e.w=0}0<e.h&&0<e.w?(h.set(this._underlayNode,{display:"block",width:e.w+"px",height:e.h+"px",top:e.y+"px",left:e.x+"px"}),f=["borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"],this._cloneStyles(f),m("ie")||(f=
"MozBorderRadius MozBorderRadiusTopleft MozBorderRadiusTopright MozBorderRadiusBottomleft MozBorderRadiusBottomright WebkitBorderRadius WebkitBorderTopLeftRadius WebkitBorderTopRightRadius WebkitBorderBottomLeftRadius WebkitBorderBottomRightRadius".split(" "),this._cloneStyles(f,this)),f=e.h/2-D.h/2,d=e.w/2-D.w/2,e.h>=D.h&&e.w>=D.w?h.set(this._centerNode,{top:f+e.y+"px",left:d+e.x+"px",display:"block"}):h.set(this._centerNode,"display","none")):(h.set(this._underlayNode,"display","none"),h.set(this._centerNode,
"display","none"));if(null===this._resizeCheck){var K=this;this._resizeCheck=setInterval(function(){K._size()},100)}}},_cloneStyles:function(c){p.forEach(c,function(f){h.set(this._underlayNode,f,h.get(this.target,f))},this)},_fadeIn:function(){var c=this,f=q.animateProperty({duration:c.duration,node:c._underlayNode,properties:{opacity:{start:0,end:c.opacity}}}),a=q.animateProperty({duration:c.duration,node:c._centerNode,properties:{opacity:{start:0,end:1}},onEnd:function(){c.onShow();delete c._anim}});
this._anim=g.combine([f,a]);this._anim.play()},_fadeOut:function(){var c=this,f=q.animateProperty({duration:c.duration,node:c._underlayNode,properties:{opacity:{start:c.opacity,end:0}},onEnd:function(){h.set(this.node,{display:"none",zIndex:"-1000"})}}),a=q.animateProperty({duration:c.duration,node:c._centerNode,properties:{opacity:{start:1,end:0}},onEnd:function(){h.set(this.node,{display:"none",zIndex:"-1000"});c.onHide();c._enableOverflow();delete c._anim}});this._anim=g.combine([f,a]);this._anim.play()},
_ignore:function(c){c&&r.stop(c)},_scrollerWidths:function(){var c=u.create("div");h.set(c,{position:"absolute",opacity:0,overflow:"hidden",width:"50px",height:"50px",zIndex:"-100",top:"-200px",padding:"0px",margin:"0px"});var f=u.create("div");h.set(f,{width:"200px",height:"10px"});c.appendChild(f);k.body().appendChild(c);f=b.getContentBox(c);h.set(c,"overflow","scroll");var a=b.getContentBox(c);k.body().removeChild(c);return{v:f.w-a.w,h:f.h-a.h}},_setTextAttr:function(c){this.text=this._textNode.innerHTML=
c},_setColorAttr:function(c){h.set(this._underlayNode,"backgroundColor",c);this.color=c},_setImageTextAttr:function(c){w.set(this._imageNode,"alt",c);this.imageText=c},_setImageAttr:function(c){w.set(this._imageNode,"src",c);this.image=c},_setCenterIndicatorAttr:function(c){this.centerIndicator=c;"image"===c?(this._centerNode=this._imageNode,h.set(this._textNode,"display","none")):(this._centerNode=this._textNode,h.set(this._imageNode,"display","none"))},_setTargetAttr:function(c){if("string"===typeof c){var f=
C.byId(c);this._set("target",f?f.domNode:v.byId(c))}else this._set("target",c)},_disableOverflow:function(){if(this.target===k.body()||this.target===k.doc){this._overflowDisabled=!0;var c=k.body();this._oldOverflow=c.style&&c.style.overflow?h.get(c,"overflow"):"";if(m("ie")&&!m("quirks")){if(c.parentNode&&c.parentNode.style&&c.parentNode.style.overflow)this._oldBodyParentOverflow=c.parentNode.style.overflow;else try{this._oldBodyParentOverflow=h.get(c.parentNode,"overflow")}catch(f){this._oldBodyParentOverflow=
"scroll"}h.set(c.parentNode,"overflow","hidden")}h.set(c,"overflow","hidden")}},_enableOverflow:function(){if(this._overflowDisabled){delete this._overflowDisabled;var c=k.body();m("ie")&&!m("quirks")&&(c.parentNode.style.overflow=this._oldBodyParentOverflow,delete this._oldBodyParentOverflow);h.set(c,"overflow",this._oldOverflow);if(m("webkit")){var f=u.create("div",{style:{height:"2px"}});c.appendChild(f);setTimeout(function(){c.removeChild(f)},0)}delete this._oldOverflow}}})})},"widgets/Visibility/js/PrivilegeUtil":function(){define("dojo/_base/declare dojo/_base/lang jimu/portalUtils jimu/portalUrlUtils jimu/Role esri/lang".split(" "),
function(y,l,p,r,m,v){var w=null,u=y([],{userRole:null,userPortalUrl:null,portalAnalysis:null,portalSelf:null,portalUrl:null,_isServiceAvailable:!1,constructor:function(b){this.portalUrl=b},_clearLoadedInfo:function(){this.portalUrl=this.portalSelf=this.userPortalUrl=this.userRole=null},loadPrivileges:function(b){this.portalSelf=this.userPortalUrl=this.userRole=null;this._isServiceAvailable=!1;b&&(this.portalUrl=b);b=p.getPortal(this.portalUrl);return b.haveSignIn()?this._loadUserInfo(b):this._signIn(b)},
getPortalUrl:function(b){return b?r.getStandardPortalUrl(b):this.portalUrl?r.getStandardPortalUrl(this.portalUrl):r.getStandardPortalUrl(this.appConfig.portalUrl)},_privilegeLoaded:function(){return null!==this.portalSelf},getUserPortal:function(){return this._privilegeLoaded()?this.getPortalUrl(this.userPortalUrl):null},_signIn:function(b){return b.loadSelfInfo().then(l.hitch(this,function(h){var z=p.getPortal(h.portalHostname);return null===z?!1:z.signIn().then(l.hitch(this,function(k){return this._loadUserInfo(z,
k)}),function(){return!1})}),function(){return!1})},_loadUserInfo:function(b){return b.loadSelfInfo().then(l.hitch(this,function(h){this.userPortalUrl=h.urlKey?h.urlKey+"."+h.customBaseUrl:this.portalUrl;return h&&h.user?(this.userRole=new m({id:h.user.roleId?h.user.roleId:h.user.role,role:h.user.role}),h.user.privileges&&this.userRole.setPrivileges(h.user.privileges),this.portalSelf=h,!0):!1}),function(){return!1})},_canPerformElevationAnalysis:function(){this.portalSelf&&(this._isServiceAvailable=
v.isDefined(this.portalSelf.helperServices.elevation));return this.canPerformAnalysis()&&this._isServiceAvailable},canPerformAnalysis:function(){var b=!1;this.userRole&&(this.userRole.isAdmin()||this.userRole.isPublisher())?b=!0:this.userRole&&this.userRole.isCustom()&&(b=this.userRole.canCreateItem()&&this.userRole.canPublishFeatures()&&this.userRole.canUseSpatialAnalysis());this.portalSelf&&this.portalSelf.isPortal&&(b=b&&v.isDefined(this.portalSelf.helperServices.analysis)&&v.isDefined(this.portalSelf.helperServices.analysis.url));
return b}});u.getInstance=function(b){null===w&&(w=new u(b));return w};return u})},"widgets/Visibility/js/symbologySettings":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/html dojo/on ./ColorPickerEditor jimu/BaseWidget dijit/_WidgetsInTemplateMixin dojo/text!../templates/symbologySettings.html dojo/_base/lang dojo/Evented dojo/dom-class dojo/dom-attr dojo/query dojo/keys dojo/dom dijit/registry jimu/utils dijit/focus jimu/dijit/formSelect jimu/dijit/SymbolChooser".split(" "),
function(y,l,p,r,m,v,w,u,b,h,z,k,q,g,t,B,C,c){return y([v,w,h],{baseClass:"jimu-widget-visibility-symbologySettings",templateString:u,selectedSettings:{},colorPickerNodes:[],constructor:function(f){b.mixin(this,f)},startup:function(){if(!this.config.hasOwnProperty("symbology"))var f={visibleSectionOutlineColor:{color:"#000000",transparency:1,type:"esriSLSSolid"},visibleSectionFillColor:{color:"#00ff00",transparency:.5,type:"esriSFSSolid"},nonVisibleSectionOutlineColor:{color:"#000000",transparency:1,
type:"esriSLSSolid"},nonVisibleSectionFillColor:{color:"#ff0000",transparency:.5,type:"esriSFSSolid"}};this.colorPickerNodes=q(".colorPicker",this.domNode);l.forEach(this.colorPickerNodes,b.hitch(this,function(d){d=new m({nls:this.nls,type:z.contains(d,"Line")?"line":"fill"},d);d.setValues({color:f?f[d.id].color:this.config.symbology[d.id].color,transparency:f?f[d.id].transparency:this.config.symbology[d.id].transparency});d.startup();d.dropdown.set("value",f?f[d.id].type:this.config.symbology[d.id].type)}));
var a=q(".jimu-color-pickerPopup",this.domNode);l.forEach(a,b.hitch(this,function(d){this.own(r(d,"keydown",b.hitch(this,function(e){e.keyCode!==g.ENTER&&e.keyCode!==g.SPACE||e.currentTarget.click()})))}));this.onSettingsChanged()},postCreate:function(){this.inherited(arguments);this._handleClickEvents();this.visibleSectionSettingsButton.click()},_handleClickEvents:function(){this.own(r(this.visibleSectionSettingsButton,"click",b.hitch(this,function(){this._openCloseNodes(this.visibleSectionSettingsButton,
this.visibleSectionContainer)})));this.own(r(this.nonVisibleSectionSettingsButton,"click",b.hitch(this,function(){this._openCloseNodes(this.nonVisibleSectionSettingsButton,this.nonVisibleSectionContainer)})));this.own(r(this.visibleSectionSettingsButton,"keydown",b.hitch(this,function(f){f.keyCode!==g.ENTER&&f.keyCode!==g.SPACE||this._openCloseNodes(this.visibleSectionSettingsButton,this.visibleSectionContainer)})));this.own(r(this.nonVisibleSectionSettingsButton,"keydown",b.hitch(this,function(f){f.keyCode!==
g.ENTER&&f.keyCode!==g.SPACE||this._openCloseNodes(this.nonVisibleSectionSettingsButton,this.nonVisibleSectionContainer)})))},_openCloseNodes:function(f,a){var d=q(".container",this.domNode),e=q(".esriCTSettingsButtonIcon",this.domNode),D=!1;this.validInputs()&&(f&&z.contains(f,"esriCTLabelSettingsRightButton")&&(D=!0),l.forEach(d,b.hitch(this,function(n){p.addClass(n,"esriCTGroupHidden")})),l.forEach(e,b.hitch(this,function(n,x){p.removeClass(n,"esriCTLabelSettingsDownButton");p.addClass(n,"esriCTLabelSettingsRightButton");
k.set(n,"aria-expanded","false");x===e.length-1&&setTimeout(b.hitch(this,function(){this._setLastFocusNode()}),100)})),D?(p.removeClass(a,"esriCTGroupHidden"),p.removeClass(f,"esriCTLabelSettingsRightButton"),p.addClass(f,"esriCTLabelSettingsDownButton"),k.set(f,"aria-expanded","true"),f=q(".jimu-color-picker",a),f.length&&c.focus(f[0])):c.focus(f))},onClose:function(){if(!this.validInputs())return!1;this.onSettingsChanged();this._openCloseNodes()},onSettingsChanged:function(){l.forEach(this.colorPickerNodes,
b.hitch(this,function(f){var a={color:B.byId(f.id).getValues().color,transparency:B.byId(f.id).getValues().transparency,type:B.byId(f.id).dropdown.getValue()};this.selectedSettings[f.id]=a}));this.emit("settingsChanged",this.selectedSettings)},validInputs:function(){var f=!0;l.some(this.colorPickerNodes,function(a){if(!B.byId(a.id).validateSpinner())return f=!1,!0},this);return f},_setLastFocusNode:function(){if(z.contains(this.nonVisibleSectionSettingsButton,"esriCTLabelSettingsDownButton")){var f=
q(".dijit",t.byId("nonVisibleSectionFillColor").lastElementChild)[0];C.initLastFocusNode(this.refDomNode,f)}else C.initLastFocusNode(this.refDomNode,this.nonVisibleSectionSettingsButton)}})})},"widgets/Visibility/js/ColorPickerEditor":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/_base/Color dojo/on dojo/query dojo/_base/html dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!../templates/ColorPickerEditor.html dijit/form/HorizontalSlider jimu/dijit/ColorPickerPopup dijit/form/NumberSpinner".split(" "),
function(y,l,p,r,m,v,w,u,b,h,z,k,q){return y([u,b,h],{_defaultColor:"#485566",templateString:z,nls:null,postCreate:function(){this.colorPicker=new q({color:this._defaultColor,tabindex:0,"aria-label":this.nls.colorPicker},this.colorPicker);this.colorPicker.startup();this.slider=new k({name:"slider",value:100,minimum:0,maximum:100,discreteValues:101,intermediateChanges:!0,showButtons:!1,style:"display: inline-block;","aria-label":this.nls.transparency},this.sliderBar);this.slider.startup();var g=[],
t,B="esriSLSDash esriSLSDashDot esriSLSDashDotDot esriSLSDot esriSLSLongDash esriSLSLongDashDot esriSLSNull esriSLSShortDash esriSLSShortDashDot esriSLSShortDashDotDot esriSLSShortDot esriSLSSolid".split(" "),C="esriSFSBackwardDiagonal esriSFSCross esriSFSDiagonalCross esriSFSForwardDiagonal esriSFSHorizontal esriSFSNull esriSFSSolid esriSFSVertical".split(" ");"line"===this.type?l.forEach(B,p.hitch(this,function(c){t={value:c,label:this.nls.lineStyles[c]};g.push(t)})):l.forEach(C,p.hitch(this,function(c){t=
{value:c,label:this.nls.fillStyles[c]};g.push(t)}));this.dropdown.addOption(g);this.inherited(arguments)},startup:function(){this.own(m(this.slider,"change",p.hitch(this,function(g){!1===this._isSameVal()&&this.spinner.setValue(g)})));this.own(m(this.spinner,"change",p.hitch(this,function(g){g<=this.slider.maximum&&this.slider.setValue(g)})));this._stylePolyfill();this.inherited(arguments)},_isSameVal:function(){return this.slider.getValue()===this.spinner.getValue()},getValues:function(){var g=null,
t=null;(t=this.colorPicker.getColor())&&t.toHex&&(g=t.toHex());t=this.spinner.getValue()/100;return{color:g,transparency:t}},setValues:function(g){if("object"===typeof g||"string"===typeof g)this.colorPicker.setColor(new r(g.color)),g.transparency="undefined"===typeof g.transparency?0:100*g.transparency,this.slider.setValue(g.transparency),this.spinner.setValue(g.transparency)},_stylePolyfill:function(){var g=v(".dijitSliderLeftBumper",this.domNode)[0];g&&g.parentNode&&w.setStyle(g.parentNode,"background-color",
"#24b5cc")},validateSpinner:function(){var g=!0;this.spinner.isValid()||(this._shake(this.spinner.domNode,16),this.spinner.focus(),g=!1);return g},_shake:function(g,t){function B(){if(15>C){g.style.transform="translate(0px, 0px)";t-=c;var d=f(-t,t),e=f(-t,t);g.style.transform="translate("+d+"px, "+e+"px)";C+=1;requestAnimationFrame(B)}15<=C&&(g.style.transform="translate(0, 0)",a._shakingElements.splice(a._shakingElements.indexOf(g),1))}var C=1,c=t/15,f=function(d,e){return Math.floor(Math.random()*
(e-d+1))+d};this._shakingElements||(this._shakingElements=[]);if(-1===this._shakingElements.indexOf(g)){this._shakingElements.push(g);var a=this;B()}}})})},"jimu/dijit/ColorPickerPopup":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/_base/lang dojo/_base/html dojo/on dojo/_base/Color dijit/TooltipDialog dijit/popup jimu/dijit/ColorPalette jimu/utils".split(" "),function(y,l,p,r,m,v,w,u,b,h,z){return y([l,p],{baseClass:"jimu-color-pickerPopup",declaredClass:"jimu.dijit.ColorPickerPopup",
templateString:'\x3cdiv class\x3d"jimu-color-picker"\x3e\x3c/div\x3e',_isTooltipDialogOpened:!1,color:null,showLabel:!1,around:null,_ENABLE:!0,recordUID:"",postCreate:function(){this.inherited(arguments);this._createTooltipDialog(this.domNode);this._hideTooltipDialog()},destroy:function(){b.close(this.tooltipDialog);this.picker.destroy();this.tooltipDialog.destroy();this.inherited(arguments)},enable:function(){this._ENABLE=!0;m.removeClass(this.domNode,"disable")},disable:function(){this._ENABLE=
!1;m.addClass(this.domNode,"disable")},isPartOfPopup:function(k){var q=this.tooltipDialog.domNode;return k===q||m.isDescendant(k,q)},hideTooltipDialog:function(){this._hideTooltipDialog()},showTooltipDialog:function(){this._showTooltipDialog()},initUI:function(){this.picker.initUI()},isOpen:function(){return this._isTooltipDialogOpened},_showTooltipDialog:function(){b.open({parent:this.getParent(),popup:this.tooltipDialog,around:this.around?this.around:this.domNode,orient:this.orient});this._isTooltipDialogOpened=
!0},_hideTooltipDialog:function(){b.hide(this.tooltipDialog);this._isTooltipDialogOpened=!1},_createTooltipDialog:function(){var k=m.create("div");this.tooltipDialog=new u({content:k});m.addClass(this.tooltipDialog.domNode,"jimu-color-picker-popup-dialog");var q=new h({appearance:{showTransparent:!1,showColorPalette:!0,showCoustom:!0,showColorPickerOK:!0,showColorPickerApply:!0,showCoustomRecord:!0,closeDialogWhenChange:!0},recordUID:this.recordUID,onChange:r.hitch(this,function(g){g&&(g=new w(g),
this.setColor(g),this.onChange(g))})});q.placeAt(k);q.startup();this.own(v(q,"close",r.hitch(this,function(){this._hideTooltipDialog()})));this.own(v(q,"change-style",r.hitch(this,function(){this._hideTooltipDialog();this._showTooltipDialog()})));this.own(v(this.domNode,"click",r.hitch(this,function(g){g.stopPropagation();g.preventDefault();this._isTooltipDialogOpened?this._hideTooltipDialog():!1!==this._ENABLE&&this._showTooltipDialog()})));this.own(v(document,"click",r.hitch(this,function(g){this.isPartOfPopup(g.srcElement||
g.target)||this._hideTooltipDialog()})));this.picker=q},setColor:function(k){if(k instanceof w){null===this.color&&!0===this.showLabel&&this._changeLabel(k);var q=k.toHex();this.color=k;m.setStyle(this.domNode,"backgroundColor",q);this.picker&&(this.picker.refreshRecords(),this.picker.setColor(q,!1,!0));this.showLabel&&this._changeLabel(this.color)}},getColor:function(){return this.color},_changeLabel:function(k){m.empty(this.domNode);m.create("span",{innerHTML:k.toHex(),className:"color-label",style:{color:z.invertColor(k.toHex())}},
this.domNode)},onChange:function(k){k&&this.showLabel&&this._changeLabel(k)},changeColor:function(){this.picker&&this.picker.changeColor();this.showLabel&&this._changeLabel(this.color)},setTitle:function(k){this.domNode.title=k},getTooltipDialog:function(){return this.tooltipDialog||null}})})},"widgets/Visibility/setting/_build-generate_module":function(){define(["dojo/text!./Setting.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/Visibility/templates/ColorPickerEditor.html":'\x3cdiv class\x3d"esriCTColorPickerEditor"\x3e\r\n  \x3cdiv class\x3d"colorPicker" data-dojo-attach-point\x3d"colorPicker"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"esriCTSliderWrapper"\x3e\r\n    \x3cdiv class\x3d"esriCTSliderbar" data-dojo-attach-point\x3d"sliderBar"\x3e\r\n      \x3col data-dojo-type\x3d"dijit/form/HorizontalRuleLabels" style\x3d"height:2.5em;" container\x3d"topDecoration"\x3e\r\n        \x3cli\x3e${nls.transparency}\x3c/li\x3e\r\n        \x3cli\x3e\x3c/li\x3e\r\n      \x3c/ol\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cinput type\x3d"text" data-dojo-type\x3d"dijit/form/NumberSpinner" value\x3d"0" data-dojo-attach-point\x3d"spinner"\r\n    data-dojo-props\x3d"smallDelta:10,intermediateChanges:true,constraints: {min:0,max:100}" aria-label\x3d"${nls.transparency}"\x3e\r\n  \x3cdiv class\x3d"esriCTOutFillSection"\x3e\r\n    \x3clabel for\x3d"${id}_select"\x3e${nls.style}\x3c/label\x3e\r\n    \x3cselect class\x3d"noResize" data-dojo-type\x3d"jimu/dijit/formSelect" aria-label\x3d"${nls.style}" data-dojo-attach-point\x3d"dropdown" /\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/Visibility/templates/symbologySettings.html":'\x3cdiv\x3e\r\n       \x3c!-- Visible Section DropDown --\x3e\r\n       \x3cdiv class\x3d"esriCTSettingsRow"\x3e\r\n        \x3cdiv class\x3d"esriCTLabelSettingsRightButton esriCTSettingsButtonIcon esriCTPointer"\r\n          title\x3d"${nls.visibleSectionButtonLabel}" data-dojo-attach-point\x3d"visibleSectionSettingsButton"\r\n          role\x3d"button" aria-label\x3d"${nls.visibleSectionButtonLabel}" tabindex\x3d"0" aria-expanded \x3d"false"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTInputLabelSettings esriCTEllipsis esriCTSubTitle" title\x3d"${nls.visibleSectionLabel}"\x3e\r\n          ${nls.visibleSectionLabel}\x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3c!-- Visible Section Color Pickers --\x3e\r\n      \x3cdiv class\x3d"container esriCTGroupHidden" data-dojo-attach-point\x3d"visibleSectionContainer"\x3e\r\n        \x3cdiv class\x3d"esriCTEllipsis" title\x3d"${nls.outline}"\x3e${nls.outline}\x3c/div\x3e\r\n        \x3cdiv class\x3d"colorPicker Line" id\x3d"visibleSectionOutlineColor"\r\n          data-dojo-attach-point\x3d"visibleAreaOutlineColorPicker"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTEllipsis" title\x3d"${nls.fill}"\x3e${nls.fill}\x3c/div\x3e\r\n        \x3cdiv class\x3d"colorPicker Fill" id\x3d"visibleSectionFillColor"\r\n          data-dojo-attach-point\x3d"visibleAreaFillColorPicker"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3c!-- Non-visible Section DropDown --\x3e\r\n      \x3cdiv class\x3d"esriCTSettingsRow"\x3e\r\n        \x3cdiv class\x3d"esriCTLabelSettingsRightButton esriCTSettingsButtonIcon esriCTPointer"\r\n        title\x3d"${nls.nonVisibleSectionButtonLabel}" data-dojo-attach-point\x3d"nonVisibleSectionSettingsButton"\r\n        role\x3d"button" aria-label\x3d"${nls.nonVisibleSectionButtonLabel}" tabindex\x3d"0" aria-expanded \x3d"false"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTInputLabelSettings esriCTEllipsis esriCTSubTitle" title\x3d"${nls.nonVisibleSectionLabel}"\x3e${nls.nonVisibleSectionLabel}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n      \x3c!-- Non-visible Section --\x3e\r\n      \x3cdiv class\x3d"container esriCTGroupHidden" data-dojo-attach-point\x3d"nonVisibleSectionContainer"\x3e\r\n        \x3cdiv class\x3d"esriCTEllipsis" title\x3d"${nls.outline}"\x3e${nls.outline}\x3c/div\x3e\r\n        \x3cdiv class\x3d"colorPicker Line" id\x3d"nonVisibleSectionOutlineColor" data-dojo-attach-point\x3d"nonVisibleAreaOutlineColorPicker"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTEllipsis" title\x3d"${nls.fill}"\x3e${nls.fill}\x3c/div\x3e\r\n        \x3cdiv class\x3d"colorPicker Fill" id\x3d"nonVisibleSectionFillColor" data-dojo-attach-point\x3d"nonVisibleAreaFillColorPicker"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e   \r\n\x3c/div\x3e',
"url:widgets/Visibility/setting/Setting.html":'\x3cdiv\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"tabDiv"\x3e\r\n    \x3cdiv\x3e\r\n      \x3cdiv class\x3d"esriCTTabs" data-dojo-attach-point\x3d"lineOfSightTab"\x3e\r\n  \x3cdiv class\x3d"url-section"\x3e\r\n    \x3cdiv class\x3d"label jimu-float-leading" title\x3d"${nls.portalURL}"\x3e${nls.portalURL}\x3c/div\x3e\r\n    \x3cdiv class\x3d"service-browser jimu-float-trailing"\x3e\r\n      \x3ctable cellpadding\x3d"0" cellspacing\x3d"0" style\x3d"width:100%;border-collapse:collapse;"\x3e\r\n        \x3ctbody\x3e\r\n          \x3ctr\x3e\r\n            \x3ctd style\x3d"width:auto;"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"urlTextBox" data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-props\x3d\'required:true, spellcheck:false, regExp: dojox.validate.regexp.url\'\r\n                style\x3d"width:100%;height:35px;padding-top:0px;"\x3e\x3c/div\x3e\r\n            \x3c/td\x3e\r\n            \x3ctd style\x3d"width:75px;"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"setButton" class\x3d"jimu-btn jimu-float-trailing"\x3e${nls.setTask}\x3c/div\x3e\r\n            \x3c/td\x3e\r\n          \x3c/tr\x3e\r\n        \x3c/tbody\x3e\r\n      \x3c/table\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"error-section hide-section" data-dojo-attach-point\x3d"errorNode"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n    \x3cdiv class\x3d"esriCTDijitWrapper" style\x3d"padding: 5px 0px 5px 0px;"\x3e\r\n      \x3cinput class\x3d"switch-toggle" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"angleUnits" checked\x3d"false" /\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTLabel"\x3e${nls.defaultMilsForAnglesLabel}\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n    \x3cdiv class\x3d"esriCTLabel"\x3e${nls.defaultObserverHeightLabel}\x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTDijitWrapper"\x3e\r\n      \x3cdiv style\x3d"width: 100%"\x3e\r\n        \x3cselect style\x3d"width: 250px" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"observerHeightUnit"\x3e\r\n        \x3c/select\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\r\n  \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n    \x3cdiv class\x3d"esriCTLabel"\x3e${nls.defaultObservableDistanceLabel}\x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTDijitWrapper"\x3e\r\n      \x3cdiv style\x3d"width: 100%"\x3e\r\n        \x3cselect style\x3d"width: 250px" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"observableDistanceUnit"\x3e\r\n        \x3c/select\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"esriCTWrapper"\x3e\r\n    \x3cdiv class\x3d"opLayerlabelSettings"\x3e${nls.selectOperationalLayerLabel}\x3c/div\x3e\r\n          \x3cselect class\x3d"opLayerSelectSettings" data-dojo-attach-point\x3d"opLayerList"\r\n            aria-label\x3d"selectOpLayerLabel"\x3e\x3c/select\x3e\r\n          \x3cdiv title\x3d"${nls.helpIconTooltip}" class\x3d"jimu-icon helpBtn" data-dojo-attach-point\x3d"helpBtn"\r\n            aria-label\x3d"${nls.helpIconTooltip}" tabindex\x3d"0" role\x3d"tooltip"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"esriCTTabs" data-dojo-attach-point\x3d"symbologyTab"\x3e\r\n       \x3cdiv data-dojo-attach-point\x3d"symbologySettingsNode"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/Visibility/setting/css/style.css":'.jimu-widget-visibility-setting {height: 100%; overflow: hidden; font-size: 14px;}.jimu-widget-visibility-setting .dijitReset .dijitInputInner {padding-top: 6px !important;}.jimu-popup .title-label {font-size: inherit;}.jimu-widget-visibility-setting .section.common-property {overflow: hidden;}.jimu-widget-visibility-setting .url-section {position: relative; height: 40px;}.jimu-widget-visibility-setting .url-section .label {left: 0; top: 5px; height: 36px; width: 100%; position: relative; top: 50%; -ms-transform: translateY(-50%); -webkit-transform: translateY(-50%); transform: translateY(-50%);}.jimu-widget-visibility-setting .service-browser {width: 100%; padding-bottom: 10px;}.jimu-widget-visibility-setting .error-section {color: red; padding-left: 4px;}.jimu-rtl .jimu-widget-visibility-setting .error-section {padding-right: 14px;}.jimu-widget-visibility-setting .hide-section {visibility: hidden;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-detail {overflow: hidden; position: relative; height: 100%;}.jimu-widget-visibility-setting .nav-pane {width: 250px; height: 100%; overflow-x: hidden; overflow-y: auto;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleClosed,.jimu-widget-visibility-setting .nav-pane .nav-pane-node {background-color: #fafafc; border: 1px solid #d2dae2; border-radius: 4px;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleClosed,.jimu-widget-visibility-setting .nav-pane .nav-pane-node,.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleOpen {margin-top: 10px; height: 35px;}.jimu-widget-visibility-setting .nav-pane .nav-pane-node {padding: 7px; vertical-align: middle;}.jimu-widget-visibility-setting .nav-pane .link-action-node {cursor: pointer;}.jimu-widget-visibility-setting .nav-pane .link-action-node span {white-space: nowrap;}.jimu-widget-visibility-setting .nav-pane .param-node {padding: 5px 5px 5px 15px; border-top: 1px solid #d2dae2;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneContentInner {padding: 0;}.jimu-widget-visibility-setting .link-action-node.jimu-state-active {background-color: #e3ecf2; border-left: 3px solid #15A4FA; padding-left: 12px;}.jimu-widget-visibility-setting .nav-pane .dijitTitlePaneContentOuter {border-radius: 0 0 4px 4px;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleOpen {background-color: #6f7e95; color: #fff; border: 1px solid #6f7e95; border-radius: 4px 4px 0 0; background-image: linear-gradient(#6f7e95 0%, #6f7e95 100%);}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleFocus {margin-top: 7px;}.claro .jimu-widget-visibility-setting .nav-pane .dijitTitlePaneTitleOpen .dijitArrowNode {background-image: url("images/focusArrow.png");}.jimu-widget-visibility-setting .setting-pane {overflow-x: hidden; overflow-y: auto; height: 100%; width: 685px;}.jimu-widget-visibility-setting .field {position: relative; overflow: hidden;}.jimu-widget-visibility-setting .field label {width: 115px; display: inline-block; overflow: hidden; text-overflow: ellipsis;}.jimu-widget-visibility-setting .common-property .field {height: 36px; margin-top: 10px;}.jimu-widget-visibility-setting .common-property .field label {position: relative; top: 50%; -ms-transform: translateY(-50%); -webkit-transform: translateY(-50%); transform: translateY(-50%);}.jimu-widget-visibility-setting .common-property .field label.visibleLabel {position: relative; top: 20%; -ms-transform: translateY(-50%); -webkit-transform: translateY(-50%); transform: translateY(-50%);}.jimu-widget-visibility-setting .common-property .jimu-checkbox {width: 115px;}.jimu-widget-visibility-setting .common-property .jimu-checkbox.visibleCheck {width: 20px; margin-left: 0;}.jimu-widget-visibility-setting .common-property .field .common-input {position: absolute; left: 115px; right: 10px; top: 0px; bottom: 0px; width: auto}.jimu-widget-visibility-setting .special-property .field {height: 20px; margin-top: 5px;}.jimu-widget-visibility-setting .special-property .jimu-gp-editor-base {display: block;}.jimu-widget-visibility-setting .special-property .input-label {margin: 10px 0px; display: inline-block;}.jimu-widget-visibility-setting .special-property .change-editor {margin: 10px; text-decoration: underline; cursor: pointer;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-param .jimu-symbol-chooser {margin-left: 100px;}.jimu-rtl .jimu-widget-visibility-setting .jimu-widget-setting-gp-param .jimu-symbol-chooser {margin-left: 0; margin-right: 100px;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-param .jimu-renderer-chooser .jimu-symbol-chooser {margin-left: 50px;}.jimu-rtl .jimu-widget-visibility-setting .jimu-widget-setting-gp-param .jimu-renderer-chooser .jimu-symbol-chooser {margin-left: 0; margin-right: 50px;}.jimu-widget-visibility-setting .jimu-widget-visibility-setting-layer-order {width: 100%; height: auto; margin-top: 10px;}.jimu-widget-visibility-setting .layer-node {overflow: hidden; margin-top: 10px;}.jimu-widget-visibility-setting .layer-node .order {float: left;}.jimu-widget-visibility-setting .layer-node .label {float: left;}.jimu-widget-visibility-setting .layer-node .order-btn {cursor: pointer;}.jimu-widget-visibility-setting .layer-node:first-child .up {color: rgba(0, 0, 0, 0.4);}.jimu-widget-visibility-setting .layer-node:last-child .down {color: rgba(0, 0, 0, 0.4);}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options {width: 100%; height: auto; margin-top: 10px;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field {margin-top: 10px; height: 36px;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field label {width: auto;}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field .option-help-label {position: relative; top: 50%; -ms-transform: translateY(-50%); -webkit-transform: translateY(-50%); transform: translateY(-50%);}.jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field .option-help-url {position: absolute; left: 115px; right: 10px; top: 0px; bottom: 0px; width: auto;}.jimu-gp-editor-chooser .editor-node {display: inline-block; width: 165px; margin-left: 15px;}.jimu-gp-editor-chooser .editor-node .node-box {width: 100%; height: 105px; line-height: 105px; border: 1px solid #D4DCE3; text-align: center; position: relative; cursor: pointer;}.jimu-gp-editor-chooser img {vertical-align: middle;}.jimu-gp-editor-chooser .editor-node .node-label {display: inline-block; margin-top: 10px; width: 100%; text-align: center; overflow: hidden;}.jimu-gp-editor-chooser .editor-node.jimu-state-selected .node-box {border: 2px solid #15A4FA;}.jimu-rtl .jimu-widget-visibility-setting .url-section .label {right: 0;}.jimu-rtl .jimu-widget-visibility-setting .common-property .field .common-input {right: 115px; left: 10px;}.jimu-rtl .jimu-widget-visibility-setting .jimu-widget-setting-gp-options .field .option-help-url {left: 10px; right: 115px;}.jimu-widget-visibility-setting .param-node {border-left: 0; border-right: 0; position: relative;}.jimu-widget-visibility-setting .param-node .action-group {position: absolute; width: 5px; height: 20px; left: 5px; top: 5px; background-image: none; background-repeat: no-repeat; background-position: -22px -101px; cursor: move;}.jimu-widget-visibility-setting .dojoDndItemOver .action-group {background-image: url(images/ago_sprite.png);}.jimu-widget-visibility-setting .dojoDndItemOver .action-group:hover {background-position: -38px -101px;}.jimu-rtl .jimu-widget-visibility-setting .param-node .action-group {left: auto; right: 5px;}.dojoDndAvatarHeader {display: none;}.dojoDndAvatarItem {display: block;}.jimu-widget-visibility-setting .switch-toggle-group {padding: 5px;}.jimu-widget-visibility-setting .switch-toggle-group .checkbox-inline {padding-left: 36px; vertical-align: top;}.jimu-widget-visibility-setting .switch-toggle-group .switch-toggle.dijitCheckBox {margin-left: -36px;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox {height: 16px; width: 28px; border: 0 none; background: #adadad; position: relative; float: left; cursor: pointer; -moz-border-radius: 10px; -webkit-border-radius: 10px; border-radius: 10px;}.jimu-rtl .jimu-widget-visibility-setting .switch-toggle.dijitCheckBox {float: left;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox:before {content: ""; background: #f8f8f8; position: absolute; padding: 0; height: 12px; width: 12px; left: auto; right: 14px; top: 2px; z-index: 1; -webkit-transition: right 0.3s; -moz-transition: right 0.3s; -o-transition: right 0.3s; transition: right 0.3s; -moz-border-radius: 50%; -webkit-border-radius: 50%; border-radius: 50%;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox input {width: 100%; height: 100%; position: absolute; left: 0; z-index: 2;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox.dijitCheckBoxChecked {background: #50ad4e;}.jimu-widget-visibility-setting .switch-toggle.dijitCheckBox.dijitCheckBoxChecked:before {right: 2px;}.jimu-widget-visibility-setting .esriCTWrapper {width: 100%; overflow: hidden; padding: 5px 5px;}.jimu-widget-visibility-setting .esriCTLabel {width: 30%; padding: 5px 10px 5px 0px; word-break: break-word; float: left; font-size: 14px;}.jimu-widget-visibility-setting .esriCTDijitWrapper {width: 70%; float: right;}.jimu-rtl .jimu-widget-visibility-setting .esriCTLabel {float: right;}.jimu-rtl .jimu-widget-visibility-setting .esriCTDijitWrapper {float: left;}.jimu-rtl .jimu-widget-visibility-setting .switch-toggle.dijitCheckBox {float: right}.jimu-widget-visibility-setting .opLayerSelectSettings {height: 30px; color: #7d7d7d; padding: 0 5px 0 5px; font-size: 13px; width: 56%; font-family: \'Avenir Medium\'; margin: 7px 0px 20px 0px;}.jimu-widget-visibility-setting .helpBtn {background: url(./images/help_black.png); background-repeat: no-repeat; background-color: transparent; width: 16px; height: 16px; vertical-align: middle; margin-left: 5px;}.jimu-rtl .jimu-widget-visibility-setting .helpBtn {margin-right: 5px; transform: rotateY(180deg);}.jimu-rtl .jimu-widget-visibility-setting .helpBtn:lang(he) {transform: rotateY(0deg);}.jimu-widget-visibility-setting .helpBtn:hover {background: url(./images/help_black_hover.png);}.jimu-widget-visibility-setting .esriCTTabs {padding: 10px;}.jimu-widget-visibility-symbologySettings .esriCTSettingsRow {width: 100%; display: inline-flex;}.jimu-widget-visibility-symbologySettings .esriCTLabelSettingsRightButton {background: url("../../images/arrow-right_black.png") no-repeat;}.jimu-rtl .jimu-widget-visibility-symbologySettings .esriCTLabelSettingsRightButton {transform: rotate(180deg);}.jimu-widget-visibility-symbologySettings .esriCTLabelSettingsRightButton:hover {background: url("../../images/arrow-right_black_hover.png") no-repeat;}.jimu-widget-visibility-symbologySettings .esriCTSettingsButtonIcon {margin-top: 13px; height: 16px; width: 16px;}.jimu-rtl .jimu-widget-visibility-symbologySettings .esriCTSettingsButtonIcon {margin: 10px 0px 0px 5px;}.jimu-widget-visibility-symbologySettings .esriCTPointer {cursor: pointer;}.jimu-widget-visibility-symbologySettings .esriCTInputLabelSettings {float: left; line-height: 28px; padding: 5px 0px 0px 0px;}.jimu-widget-visibility-symbologySettings .esriCTEllipsis {overflow: hidden; text-overflow: ellipsis; white-space: nowrap;}.jimu-widget-visibility-symbologySettings .esriCTSubTitle {font-weight: bold;}.jimu-widget-visibility-symbologySettings .esriCTGroupHidden {display: none;}.jimu-widget-visibility-symbologySettings .esriCTLabelSettingsDownButton {background: url("../../images/arrow-down_black.png") no-repeat; margin-top: 15px;}.jimu-rtl .jimu-widget-visibility-symbologySettings .esriCTLabelSettingsDownButton {margin: 15px 0px 0px 5px;}.jimu-widget-visibility-symbologySettings .esriCTLabelSettingsDownButton:hover {background: url("../../images/arrow-down_black_hover.png") no-repeat;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .esriCTSliderWrapper {width: 235px; display: inline-block; margin: 5px;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSlider {width: 100%;}.jimu-widget-visibility-setting .esriCTColorPickerEditor {padding-top: 5px; padding-bottom: 8px;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .jimu-color-picker {display: inline-block; width: 25px; height: 25px;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSpinner.dijitNumberTextBox.dijitValidationTextBox {width: 70px; height: 30px;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSlider .dijitSliderImageHandleH {top: -10px; width: 20px; height: 20px;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSliderImageHandleH {top: -7px;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSliderImageHandle.dijitSliderImageHandleH {background-image: url("../../images/sliderball.svg"); background-position: 0 0;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSliderThumbHover {background-image: url("../../images/sliderball.svg"); background-position: 0 0;}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSlider .dijitSliderProgressBarH,.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSlider .dijitSliderLeftBumper {border-color: #000; background-color: #000; background-image: -webkit-linear-gradient(top, #000 0px, #000 1px, rgba(255, 255, 255, 0) 2px); background-image: -o-linear-gradient(top, #000 0px, #000 1px, rgba(255, 255, 255, 0) 2px); background-image: linear-gradient(top, #000 0px, #000 1px, rgba(255, 255, 255, 0) 2px);}.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSlider .dijitSliderRemainingBarH,.jimu-widget-visibility-setting .esriCTColorPickerEditor .dijitSlider .dijitSliderRightBumper {border-color: #d7d7d7; background-color: #d7d7d7;}.jimu-widget-visibility-setting.tabs .esriCTColorPickerEditor .trans {font-family: "Avenir Light"; font-size: 12px; padding: 0 10px 0 20px; letter-spacing: 0.33px;}.jimu-widget-visibility-setting.tabs .esriCTColorPickerEditor .esriCTSliderbar {width: 60px;}.dijitRuleLabelH {left: -12%;}.jimu-widget-visibility-setting .esriCTOutFillSection {vertical-align: bottom; display: -ms-inline-grid; display: -moz-inline-grid; display: inline-flex; flex-direction: column;}',
"*now":function(y){y(['dojo/i18n!*preload*widgets/Visibility/setting/nls/Setting*["ar","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/on dojo/dom-attr dojo/query dojo/keys dojo/Deferred dijit/_WidgetsInTemplateMixin jimu/BaseWidgetSetting jimu/dijit/Message esri/dijit/util/busyIndicator ../js/PrivilegeUtil dojo/_base/array jimu/LayerStructure jimu/utils jimu/dijit/TabContainer3 ../js/symbologySettings dojo/dom-construct dijit/form/ValidationTextBox".split(" "),function(y,l,p,r,m,v,w,u,b,h,z,k,q,g,t,B,C,c,f){return y([h,b],{baseClass:"jimu-widget-visibility-setting",
hasError:!1,postMixInProperties:function(){this.inherited(arguments);l.mixin(this.nls,window.jimuNls.common);l.mixin(this.nls,window.jimuNls.units)},postCreate:function(){this._createSettings();this._initTabs();var a=[],d;g.forEach("meters kilometers miles feet yards nauticalMiles".split(" "),l.hitch(this,function(e){d={value:e,label:this.nls.units[e]};a.push(d)}));this.observerHeightUnit.addOption(a);this.observableDistanceUnit.addOption(l.clone(a));this.observerHeightUnit.set("value","meters");
this.observableDistanceUnit.set("value","kilometers");this._populateLayerSelect(this._getAllMapLayers(),this.opLayerList);this._setSelectedOption(this.opLayerList,this.config.operationalLayer?this.config.operationalLayer.name:"")},startup:function(){this.inherited(arguments);this.own(r(this.urlTextBox,"keypress",l.hitch(this,this.urlChanged)));this.own(r(this.setButton,"click",l.hitch(this,this.setButtonClicked)));this.setConfig(this.config);this.busyIndicator=k.create({target:this.domNode.parentNode,
backgroundOpacity:0});this.config.operationalLayer||(this.config.operationalLayer={});this.config.operationalLayer.hasOwnProperty("name")||""!==this.config.operationalLayer.name||(this.opLayerList.value="");this._startValidationProcess()},urlChanged:function(a){this._diasableOk();p.remove(this.setButton,"jimu-state-disabled");a.charOrCode===w.ENTER&&this._startValidationProcess()},setButtonClicked:function(){this._startValidationProcess()},setConfig:function(a){var d=this.appConfig.portalUrl;a.portalUrl&&
(d=a.portalUrl);this.urlTextBox.set("value",d,!1);a.hasOwnProperty("defaultObserverHeightUnit")&&this.observerHeightUnit.set("value",a.defaultObserverHeightUnit);a.hasOwnProperty("defaultObservableDistanceUnit")&&this.observableDistanceUnit.set("value",a.defaultObservableDistanceUnit);a.hasOwnProperty("defaultAngleUnits")&&this.angleUnits.setValue(a.defaultAngleUnits)},getConfig:function(){var a={};if(this.hasError)return!1;this._symbologySettingsInstance.onSettingsChanged();for(var d in this._currentSettings)a[d]=
this._currentSettings[d];return{portalUrl:this.urlTextBox.get("value"),defaultObserverHeightUnit:this.observerHeightUnit.get("value"),defaultObservableDistanceUnit:this.observableDistanceUnit.get("value"),defaultAngleUnits:this.angleUnits.getValue(),operationalLayer:{name:this.opLayerList.value},symbology:a}},validateUrl:function(a){var d=new u;this.privilegeUtil=q.getInstance(a);this.privilegeUtil.loadPrivileges(a).then(l.hitch(this,function(){d.resolve(this._validatePrivileges())}),l.hitch(this,
function(){this._showError();d.reject()}));return d.promise},_configurePortalURL:function(a){var d=new u;a&&this.validateUrl(a).then(l.hitch(this,function(e){e?d.resolve():d.reject()}),l.hitch(this,function(){d.reject()}));return d.promise},_startValidationProcess:function(){if(this.urlTextBox.isValid()){this.busyIndicator.show();var a=this.urlTextBox.get("value");this._configurePortalURL(a).then(l.hitch(this,function(){p.add(this.setButton,"jimu-state-disabled");p.add(this.errorNode,"hide-section");
this._enableOk();this.busyIndicator.hide()}),l.hitch(this,function(){this.busyIndicator.hide();this._showError(this.nls.portalURLError)}))}else this.busyIndicator.hide(),this._showError(this.nls.portalURLError)},_validatePrivileges:function(){return this.privilegeUtil._canPerformElevationAnalysis()?!0:!1},_showError:function(a){a||(a=this.nls.privilegeError,this.privilegeUtil._isServiceAvailable||(a=this.nls.noServiceError));new z({message:a});m.set(this.errorNode,"innerHTML",a);p.remove(this.errorNode,
"hide-section");this._diasableOk()},_enableOk:function(){var a=v(".button-container")[0];a&&a.children&&3<a.children.length&&(p.remove(a.children[0],"jimu-state-disabled"),this.hasError=!1)},_diasableOk:function(){var a=v(".button-container")[0];a&&a.children&&3<a.children.length&&(p.add(a.children[0],"jimu-state-disabled"),this.hasError=!0)},_populateLayerSelect:function(a,d){var e=document.createElement("option");e.value="";e.innerHTML="";e.selected=!0;d.appendChild(e);g.forEach(a,l.hitch(this,
function(D){if(D.url&&"Feature Layer"===D.type&&this._containsSupportedCapabilities(D.capabilities)){var n=document.createElement("option");n.value=D.name;n.innerHTML=B.sanitizeHTML(D.name);n.selected=!1;d.appendChild(n)}}))},_containsSupportedCapabilities:function(a){var d=!0;["create","delete","query","update","editing"].forEach(function(e){-1===a.toLowerCase().split(",").indexOf(e)&&(d=!1)});return d},_getAllMapLayers:function(){var a=[];t.getInstance().traversal(function(d){"undefined"!==typeof d._layerInfo.layerObject.type&&
-1===d._layerInfo.layerObject.type.indexOf("tile")&&"esriGeometryPolygon"===d._layerInfo.layerObject.geometryType&&a.push(d._layerInfo.layerObject)});return a},_setSelectedOption:function(a,d){for(var e=0;e<a.options.length;e++)if(a.options[e].value===d){a.selectedIndex=e;break}},_initTabs:function(){this.tab=new C({tabs:[{title:this.nls.lineOfSightTabTitle,content:this.lineOfSightTab},{title:this.nls.symbologyTabTitle,content:this.symbologyTab}],style:"{height:100%}"});this.own(r(this.tab,"tabChanged",
l.hitch(this,function(){this.tab.containerNode.scrollTop=0})));this.tab.placeAt(this.tabDiv)},_createSettings:function(){this._symbologySettingsInstance=new c({nls:this.nls,config:this.config,appConfig:this.appConfig},f.create("div",{},this.symbologySettingsNode));this.own(this._symbologySettingsInstance.on("settingsChanged",l.hitch(this,function(a){this._currentSettings=a})));this._symbologySettingsInstance.startup()}})});